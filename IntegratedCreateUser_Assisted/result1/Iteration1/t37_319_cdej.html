//>>built
require({cache:{"curam/ui/UIMPageAdaptor":function(){
define("curam/ui/UIMPageAdaptor",["curam/tab","curam/define","curam/debug","curam/util","curam/ui/PageRequest","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _1=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.ui.UIMPageAdaptor",{initialize:function(){
if(jsScreenContext.hasContextBits("MODAL")){
return;
}
curam.util.connect(dojo.body(),"onclick",curam.ui.UIMPageAdaptor.clickHandler);
var _2=null;
var _3=null;
if(!jsScreenContext.hasContextBits("LIST_ROW_INLINE_PAGE")){
_2=curam.util.getTopmostWindow().dojo;
_3="/iframe-loaded/"+window.jsPageID;
curam.debug.log(_1.getProperty("curam.ui.UIMPageAdaptor.event")+_3);
_2.publish(_3);
}
},externalInitialize:function(){
if(jsScreenContext.hasContextBits("MODAL")){
return;
}
curam.util.connect(dojo.body(),"onclick",curam.ui.UIMPageAdaptor.clickHandler);
},externalClickHandler:function(_4,_5){
var _6=new curam.ui.PageRequest(_5.href);
var _7=window.top.dijit.byId("curam-app");
if(_7!=null){
var _8=[];
var i=0;
for(param in _6.parameters){
_8[i]={paramKey:param,paramValue:_6.parameters[param]};
i=i+1;
}
var _9={pageID:_6.pageID,param:_8};
if(_7._isNavBarItem(_6.pageID)){
dojo.stopEvent(_4||window.event);
window.top.displayContent(_9);
}else{
if(_7._isUIMFragment(_6.pageID)){
dojo.stopEvent(_4||window.event);
window.top.displayContent(_9);
}
}
}
},clickHandler:function(_a){
var _b=null;
if(_a.target.nodeName=="A"){
if(curam.ui.UIMPageAdaptor.allowLinkToContinue(_a.target)){
return;
}
_b=_a.target;
}else{
if((_a.target.nodeName=="IMG"&&!dojo.hasClass(_a.target.parentNode,"file-download"))||(_a.target.nodeName=="SPAN"&&_a.target.className=="middle")){
_b=cm.getParentByType(_a.target,"A");
}
}
if(_b!=null){
if(!_b.href||_b.href.length==0){
dojo.stopEvent(_a||window.event);
return;
}
if(jsScreenContext.hasContextBits("EXTAPP")){
curam.ui.UIMPageAdaptor.externalClickHandler(_a,_b);
}else{
dojo.stopEvent(_a||window.event);
if(curam.ui.UIMPageAdaptor.shouldLinkOpenInNewWindow(_b)){
window.open(_b.href);
}else{
if(curam.ui.UIMPageAdaptor.isLinkValidForTabProcessing(_b)){
var _c=new curam.ui.PageRequest(_b.href);
if(jsScreenContext.hasContextBits("LIST_ROW_INLINE_PAGE")||jsScreenContext.hasContextBits("NESTED_UIM")){
_c.pageHolder=window;
}
curam.tab.getTabController().handlePageRequest(_c);
}
}
}
}
},allowLinkToContinue:function(_d){
if(_d&&_d._submitButton){
return true;
}
if(_d&&_d.href){
return (_d.href.indexOf("/servlet/FileDownload")!=-1||_d.href.indexOf("#")!=-1||_d.href.substr(0,7)=="mailto:");
}else{
return false;
}
},isLinkValidForTabProcessing:function(_e){
if(!_e||(dojo.hasClass(_e,"popup-action")||dojo.hasClass(_e,"list-details-row-toggle"))){
return false;
}
return true;
},shouldLinkOpenInNewWindow:function(_f){
return dojo.hasAttr(_f,"target")&&!curam.util.isInternal(_f.href);
},setTabTitleAndName:function(){
var _10=dojo.byId("tab-title").innerHTML;
var _11=dojo.byId("tab-name").innerHTML;
window.parent.dojo.publish("tab.title.name.set",[window.frameElement,_10,_11]);
}});
return curam.ui.UIMPageAdaptor;
});
},"url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n","dijit/form/TextBox":function(){
require({cache:{"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});
define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html",".."],function(_12,_13,_14,_15,_16,has,win,_17,_18,_19,_1a){
var _1b=_12([_17,_18],{templateString:_19,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){
var _1c=this.type.toLowerCase();
if(this.templateString&&this.templateString.toLowerCase()=="input"||((_1c=="hidden"||_1c=="file")&&this.templateString==this.constructor.prototype.templateString)){
this.templateString=this._singleNodeTemplate;
}
this.inherited(arguments);
},_onInput:function(e){
this.inherited(arguments);
if(this.intermediateChanges){
var _1d=this;
setTimeout(function(){
_1d._handleOnChange(_1d.get("value"),false);
},0);
}
},_setPlaceHolderAttr:function(v){
this._set("placeHolder",v);
if(!this._phspan){
this._attachPoints.push("_phspan");
this._phspan=_13.create("span",{onmousedown:function(e){
e.preventDefault();
},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");
}
this._phspan.innerHTML="";
this._phspan.appendChild(document.createTextNode(v));
this._updatePlaceHolder();
},_updatePlaceHolder:function(){
if(this._phspan){
this._phspan.style.display=(this.placeHolder&&!this.focused&&!this.textbox.value)?"":"none";
}
},_setValueAttr:function(_1e,_1f,_20){
this.inherited(arguments);
this._updatePlaceHolder();
},getDisplayedValue:function(){
_15.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");
return this.get("displayedValue");
},setDisplayedValue:function(_21){
_15.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");
this.set("displayedValue",_21);
},_onBlur:function(e){
if(this.disabled){
return;
}
this.inherited(arguments);
this._updatePlaceHolder();
},_onFocus:function(by){
if(this.disabled||this.readOnly){
return;
}
this.inherited(arguments);
this._updatePlaceHolder();
}});
if(has("ie")){
_1b=_12(_1b,{declaredClass:"dijit.form.TextBox",_isTextSelected:function(){
var _22=win.doc.selection.createRange();
var _23=_22.parentElement();
return _23==this.textbox&&_22.text.length==0;
},postCreate:function(){
this.inherited(arguments);
setTimeout(_16.hitch(this,function(){
try{
var s=_14.getComputedStyle(this.domNode);
if(s){
var ff=s.fontFamily;
if(ff){
var _24=this.domNode.getElementsByTagName("INPUT");
if(_24){
for(var i=0;i<_24.length;i++){
_24[i].style.fontFamily=ff;
}
}
}
}
}
catch(e){
}
}),0);
}});
_1a._setSelectionRange=_18._setSelectionRange=function(_25,_26,_27){
if(_25.createTextRange){
var r=_25.createTextRange();
r.collapse(true);
r.moveStart("character",-99999);
r.moveStart("character",_26);
r.moveEnd("character",_27-_26);
r.select();
}
};
}else{
if(has("mozilla")){
_1b=_12(_1b,{declaredClass:"dijit.form.TextBox",_onBlur:function(e){
this.inherited(arguments);
if(this.selectOnClick){
this.textbox.selectionStart=this.textbox.selectionEnd=undefined;
}
}});
}else{
_1b.prototype.declaredClass="dijit.form.TextBox";
}
}
_16.setObject("dijit.form.TextBox",_1b);
return _1b;
});
},"curam/codetable-hierarchy":function(){
define("curam/codetable-hierarchy",["dojo/data/ItemFileReadStore","curam/widget/FilteringSelect","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _28=new curam.util.ResourceBundle("Debug");
var _29={initLists:function(_2a,_2b,_2c){
this.noOptionCode=_2a;
this.noOptionDesc=_2b;
this.ddInfo=_2c;
this.lists=function(){
var _2d=null;
for(var i=_2c.length-1;i>=0;i--){
_2d=new _29.DropDown(dijit.byId(_2c[i].id),_2c[i].ctName,_2a,_2b,_2d);
}
};
dojo.addOnLoad(this.lists);
},DropDown:function(_2e,_2f,_30,_31,_32){
this.node=_2e.domNode;
this.widgetNode=_2e;
this.codeTableName=_2f;
this.noOptionCode=_30;
this.noOptionDesc=_31;
this.next=_32;
var _33=this;
this.populate=function(){
if(!_33.widgetNode.get("value")){
_33.resetNext(_33);
}else{
if(_33.next!=null){
_33.resetNext(_33);
if(_33.widgetNode.get("value")==0){
return;
}
dojo.xhrPost({url:"../servlet/JSONServlet",handleAs:"text",preventCache:true,load:function(_34,evt){
if(_34.length<3){
curam.debug.log(_28.getProperty("curam.codetable-hierarchy.msg.1")+_33.codeTableName+_28.getProperty("curam.codetable-hierarchy.msg.2")+_33.widgetNode.get("value"));
return;
}
var _35=dojo.fromJson(_34);
_35.unshift({"value":_33.noOptionCode,"name":""});
var _36=dijit.byId(_33.next.widgetNode.id);
var _37=new dojo.data.ItemFileReadStore({data:{label:"name",identifier:"value",items:_35}});
_37.fetch({onComplete:function(_38,_39){
_36.set("store",_37);
_36.set("value",_33.noOptionCode);
}});
},error:function(_3a){
curam.debug.log(_3a);
},content:{"content":dojo.toJson({operation:"getCodeTableSubsetForFilteringSelect",args:[_33.codeTableName,_33.widgetNode.get("value")]})}});
}
}
};
this.resetNext=function(_3b){
while(_3b.next!=null){
var _3c=[];
_3c.unshift({"value":_3b.noOptionCode,"name":_3b.noOptionDesc});
var _3d=dijit.byId(_3b.next.widgetNode.id);
var _3e=new dojo.data.ItemFileReadStore({data:{label:"name",identifier:"value",items:_3c}});
_3e.fetch({onComplete:function(_3f,_40){
_3d.set("store",_3e);
_3d.set("displayedValue",_3b.noOptionDesc);
}});
_3b=_3b.next;
}
};
if(_32!=null){
dojo.connect(this.widgetNode,"onChange",this.populate);
}
}};
dojo.global.CodeTableHierarchy=_29;
return _29;
});
},"dijit/_TemplatedMixin":function(){
define("dijit/_TemplatedMixin",["dojo/_base/lang","dojo/touch","./_WidgetBase","dojo/string","dojo/cache","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window"],function(_41,_42,_43,_44,_45,_46,_47,_48,has,_49,win){
var _4a=_47("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){
this._attachPoints=[];
this._attachEvents=[];
},_stringRepl:function(_4b){
var _4c=this.declaredClass,_4d=this;
return _44.substitute(_4b,this,function(_4e,key){
if(key.charAt(0)=="!"){
_4e=_41.getObject(key.substr(1),false,_4d);
}
if(typeof _4e=="undefined"){
throw new Error(_4c+" template:"+key);
}
if(_4e==null){
return "";
}
return key.charAt(0)=="!"?_4e:_4e.toString().replace(/"/g,"&quot;");
},this);
},buildRendering:function(){
if(!this.templateString){
this.templateString=_45(this.templatePath,{sanitize:true});
}
var _4f=_4a.getCachedTemplate(this.templateString,this._skipNodeCache);
var _50;
if(_41.isString(_4f)){
_50=_48.toDom(this._stringRepl(_4f));
if(_50.nodeType!=1){
throw new Error("Invalid template: "+_4f);
}
}else{
_50=_4f.cloneNode(true);
}
this.domNode=_50;
this.inherited(arguments);
this._attachTemplateNodes(_50,function(n,p){
return n.getAttribute(p);
});
this._beforeFillContent();
this._fillContent(this.srcNodeRef);
},_beforeFillContent:function(){
},_fillContent:function(_51){
var _52=this.containerNode;
if(_51&&_52){
while(_51.hasChildNodes()){
_52.appendChild(_51.firstChild);
}
}
},_attachTemplateNodes:function(_53,_54){
var _55=_41.isArray(_53)?_53:(_53.all||_53.getElementsByTagName("*"));
var x=_41.isArray(_53)?0:-1;
for(;x<_55.length;x++){
var _56=(x==-1)?_53:_55[x];
if(this.widgetsInTemplate&&(_54(_56,"dojoType")||_54(_56,"data-dojo-type"))){
continue;
}
var _57=_54(_56,"dojoAttachPoint")||_54(_56,"data-dojo-attach-point");
if(_57){
var _58,_59=_57.split(/\s*,\s*/);
while((_58=_59.shift())){
if(_41.isArray(this[_58])){
this[_58].push(_56);
}else{
this[_58]=_56;
}
this._attachPoints.push(_58);
}
}
var _5a=_54(_56,"dojoAttachEvent")||_54(_56,"data-dojo-attach-event");
if(_5a){
var _5b,_5c=_5a.split(/\s*,\s*/);
var _5d=_41.trim;
while((_5b=_5c.shift())){
if(_5b){
var _5e=null;
if(_5b.indexOf(":")!=-1){
var _5f=_5b.split(":");
_5b=_5d(_5f[0]);
_5e=_5d(_5f[1]);
}else{
_5b=_5d(_5b);
}
if(!_5e){
_5e=_5b;
}
this._attachEvents.push(this.connect(_56,_42[_5b]||_5b,_5e));
}
}
}
}
},destroyRendering:function(){
_46.forEach(this._attachPoints,function(_60){
delete this[_60];
},this);
this._attachPoints=[];
_46.forEach(this._attachEvents,this.disconnect,this);
this._attachEvents=[];
this.inherited(arguments);
}});
_4a._templateCache={};
_4a.getCachedTemplate=function(_61,_62){
var _63=_4a._templateCache;
var key=_61;
var _64=_63[key];
if(_64){
try{
if(!_64.ownerDocument||_64.ownerDocument==win.doc){
return _64;
}
}
catch(e){
}
_48.destroy(_64);
}
_61=_44.trim(_61);
if(_62||_61.match(/\$\{([^\}]+)\}/g)){
return (_63[key]=_61);
}else{
var _65=_48.toDom(_61);
if(_65.nodeType!=1){
throw new Error("Invalid template: "+_61);
}
return (_63[key]=_65);
}
};
if(has("ie")){
_49.addOnWindowUnload(function(){
var _66=_4a._templateCache;
for(var key in _66){
var _67=_66[key];
if(typeof _67=="object"){
_48.destroy(_67);
}
delete _66[key];
}
});
}
_41.extend(_43,{dojoAttachEvent:"",dojoAttachPoint:""});
return _4a;
});
},"curam/util/UimDialog":function(){
define("curam/util/UimDialog",["curam/util","curam/define","curam/dialog","curam/util/DialogObject","curam/util/RuntimeContext"],function(){
curam.define.singleton("curam.util.UimDialog",{open:function(_68,_69,_6a){
var url=_68+curam.util.makeQueryString(_69);
return this.openUrl(url,_6a);
},openUrl:function(url,_6b){
var _6c=curam.tab.getContentPanelIframe();
var rtc=new curam.util.RuntimeContext(_6c.contentWindow);
var _6d=curam.util.setRpu(url,rtc);
var _6e={href:_6d};
var _6f=null;
if(_6b){
_6f="width="+_6b.width+",height="+_6b.height;
}
var _70=curam.util.getCacheBusterParameter();
var _71=new curam.util.DialogObject(_70);
curam.util.openModalDialog(_6e,_6f,null,null,_70);
return _71;
},get:function(){
if(curam.dialog._id==null){
throw "Dialog infrastructure not ready.";
}
return new curam.util.DialogObject(null,curam.dialog._id);
},ready:function(_72){
if(curam.dialog._id==null){
dojo.subscribe("/curam/dialog/ready",_72);
}else{
_72();
}
},_getDialogFrameWindow:function(_73){
var _74=window.top.dijit.byId(_73);
return _74.uimController.getIFrame().contentWindow;
}});
return curam.util.UimDialog;
});
},"dijit/_Templated":function(){
define("dijit/_Templated",["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_75,_76,_77,_78,_79,_7a,_7b){
_7a.extend(_75,{waiRole:"",waiState:""});
return _79("dijit._Templated",[_76,_77],{widgetsInTemplate:false,constructor:function(){
_7b.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");
},_attachTemplateNodes:function(_7c,_7d){
this.inherited(arguments);
var _7e=_7a.isArray(_7c)?_7c:(_7c.all||_7c.getElementsByTagName("*"));
var x=_7a.isArray(_7c)?0:-1;
for(;x<_7e.length;x++){
var _7f=(x==-1)?_7c:_7e[x];
var _80=_7d(_7f,"waiRole");
if(_80){
_7f.setAttribute("role",_80);
}
var _81=_7d(_7f,"waiState");
if(_81){
_78.forEach(_81.split(/\s*,\s*/),function(_82){
if(_82.indexOf("-")!=-1){
var _83=_82.split("-");
_7f.setAttribute("aria-"+_83[0],_83[1]);
}
});
}
}
}});
});
},"curam/util/DialogObject":function(){
define("curam/util/DialogObject",["curam/dialog","curam/util"],function(){
var _84=dojo.declare("curam.util.DialogObject",null,{_id:null,constructor:function(_85,id){
if(!id){
var _86=window.top.dojo.subscribe("/curam/dialog/uim/opened/"+_85,this,function(_87){
this._id=_87;
window.top.dojo.unsubscribe(_86);
});
}else{
this._id=id;
}
},registerBeforeCloseHandler:function(_88){
var _89=window.top.dojo.subscribe("/curam/dialog/BeforeClose",this,function(_8a){
if(_8a==this._id){
_88();
}
window.top.dojo.unsubscribe(_89);
});
},registerOnDisplayHandler:function(_8b){
if(curam.dialog._displayed==true){
_8b(curam.dialog._size);
}else{
var ut=window.top.dojo.subscribe("/curam/dialog/displayed",this,function(_8c,_8d){
if(_8c==this._id){
_8b(_8d);
}
window.top.dojo.unsubscribe(ut);
});
}
},close:function(_8e,_8f,_90){
var win=curam.util.UimDialog._getDialogFrameWindow(this._id);
var _91=win.curam.dialog.getParentWindow(win);
if(_8e&&!_8f){
win.curam.dialog.forceParentRefresh();
curam.dialog.doRedirect(_91,null);
}else{
if(_8f){
var _92=_8f;
if(_8f.indexOf("Page.do")==-1){
_92=_8f+"Page.do"+curam.util.makeQueryString(_90);
}
curam.dialog.doRedirect(_91,_92);
}
}
curam.dialog.closeModalDialog();
}});
return _84;
});
},"dijit/_CssStateMixin":function(){
define("dijit/_CssStateMixin",["dojo/touch","dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/_base/window"],function(_93,_94,_95,_96,_97,win){
return _95("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){
this.inherited(arguments);
_94.forEach(["onmouseenter","onmouseleave",_93.press],function(e){
this.connect(this.domNode,e,"_cssMouseEvent");
},this);
_94.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(_98){
this.watch(_98,_97.hitch(this,"_setStateClass"));
},this);
for(var ap in this.cssStateNodes){
this._trackMouseState(this[ap],this.cssStateNodes[ap]);
}
this._setStateClass();
},_cssMouseEvent:function(_99){
if(!this.disabled){
switch(_99.type){
case "mouseenter":
case "mouseover":
this._set("hovering",true);
this._set("active",this._mouseDown);
break;
case "mouseleave":
case "mouseout":
this._set("hovering",false);
this._set("active",false);
break;
case "mousedown":
case "touchpress":
this._set("active",true);
this._mouseDown=true;
var _9a=this.connect(win.body(),_93.release,function(){
this._mouseDown=false;
this._set("active",false);
this.disconnect(_9a);
});
break;
}
}
},_setStateClass:function(){
var _9b=this.baseClass.split(" ");
function _9c(_9d){
_9b=_9b.concat(_94.map(_9b,function(c){
return c+_9d;
}),"dijit"+_9d);
};
if(!this.isLeftToRight()){
_9c("Rtl");
}
var _9e=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");
if(this.checked){
_9c(_9e);
}
if(this.state){
_9c(this.state);
}
if(this.selected){
_9c("Selected");
}
if(this.disabled){
_9c("Disabled");
}else{
if(this.readOnly){
_9c("ReadOnly");
}else{
if(this.active){
_9c("Active");
}else{
if(this.hovering){
_9c("Hover");
}
}
}
}
if(this.focused){
_9c("Focused");
}
var tn=this.stateNode||this.domNode,_9f={};
_94.forEach(tn.className.split(" "),function(c){
_9f[c]=true;
});
if("_stateClasses" in this){
_94.forEach(this._stateClasses,function(c){
delete _9f[c];
});
}
_94.forEach(_9b,function(c){
_9f[c]=true;
});
var _a0=[];
for(var c in _9f){
_a0.push(c);
}
var cls=_a0.join(" ");
if(cls!=tn.className){
tn.className=cls;
}
this._stateClasses=_9b;
},_trackMouseState:function(_a1,_a2){
var _a3=false,_a4=false,_a5=false;
var _a6=this,cn=_97.hitch(this,"connect",_a1);
function _a7(){
var _a8=("disabled" in _a6&&_a6.disabled)||("readonly" in _a6&&_a6.readonly);
_96.toggle(_a1,_a2+"Hover",_a3&&!_a4&&!_a8);
_96.toggle(_a1,_a2+"Active",_a4&&!_a8);
_96.toggle(_a1,_a2+"Focused",_a5&&!_a8);
};
cn("onmouseenter",function(){
_a3=true;
_a7();
});
cn("onmouseleave",function(){
_a3=false;
_a4=false;
_a7();
});
cn(_93.press,function(){
_a4=true;
_a7();
});
cn(_93.release,function(){
_a4=false;
_a7();
});
cn("onfocus",function(){
_a5=true;
_a7();
});
cn("onblur",function(){
_a5=false;
_a7();
});
this.watch("disabled",_a7);
this.watch("readOnly",_a7);
}});
});
},"curam/ui/UIController":function(){
define("curam/ui/UIController",["dojo/_base/lang","dojo/json","curam/define","curam/util/RuntimeContext","curam/tab/TabDescriptor","curam/util/ui/ApplicationTabbedUiController","curam/util/ResourceBundle"],function(_a9,_aa){
dojo.requireLocalization("curam.application","Debug");
var _ab=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.ui.UIController",{TAB_TOPIC:"/app/tab",ROOT_OBJ:"curam.ui.UIController",PAGE_ASSOCIATIONS:{},RESOLVE_PAGES:{},PAGE_ID_PARAM_NAME:"o3pid",COMMAND_PARAM_NAME:"o3c",CACHE_BUSTER:0,CACHE_BUSTER_PARAM_NAME:"o3nocache",DUPLICATE_TAB_MAPPING_ERROR:"dupTabError",UNASSOCIATED_SHORTCUT_ERROR:"looseShortcutError",LOAD_MASK_TIMEOUT:15000,TABS_INFO_MODAL_TITLE_PROP_NAME:"title.info",TABS_ERROR_MODAL_TITLE_PROP_NAME:"title.error",TABS_INFO_MODAL_MSG_PROP_NAME:"message.max.tabs.info",TABS_ERROR_MODAL_MSG_PROP_NAME:"message.max.tabs.error",TABS_MSG_PLACEHOLDER_MAX_TABS:-1,MAX_NUM_TABS:-1,MAX_TABS_MODAL_SIZE:"width=470,height=80",initialize:function(_ac){
curam.ui.UIController._log("curam.ui.UIController.initialize()");
curam.ui.UIController._log("dojo.isQuirks: "+dojo.isQuirks);
window.rootObject=curam.ui.UIController.ROOT_OBJ;
curam.util.subscribe(curam.ui.UIController.TAB_TOPIC,curam.ui.UIController.tabTopicHandler);
curam.util.subscribe("tab.title.name.set",curam.ui.UIController.setTabTitleAndName);
if(_ac){
new curam.tab.TabSessionManager().init(_ac);
}else{
new curam.tab.TabSessionManager().init();
}
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.event"));
},ajaxPostFailure:function(err){
curam.ui.UIController._log("========= "+_ab.getProperty("curam.ui.UIController.test")+" JSON "+_ab.getProperty("curam.ui.UIController.servlet.failure")+" =========");
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.error")+" "+err);
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.args")+" "+ioargs);
curam.ui.UIController._log("============================================");
},instantiateTab:function(_ad,_ae,_af){
var _b0=dijit.byId(_ae);
if(_b0){
var td=_b0.tabDescriptor;
var _b1="'"+td.tabID+"/"+_ae+"'";
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.instantiating")+" "+_b1+" "+_ab.getProperty("curam.ui.UIController.with.signature"));
td.setTabSignature(_ad,_b0.uimPageRequest);
var _b2=function(){
var _b3=dojo.query("#"+_ae+" .tab-wrapper .tab-load-mask")[0];
if(_b3&&dojo.style(_b3,"display")!="none"){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.revealing")+" "+_b1+" "+_ab.getProperty("curam.ui.UIController.now"));
dojo.style(_b3,"display","none");
curam.util.getTopmostWindow().dojo.publish("/curam/application/tab/revealed",[_ae]);
}
};
if(!_af){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.no.details"));
_b2();
}else{
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.has.details")+_b1+_ab.getProperty("curam.ui.UIController.listeners"));
dojo.global.tabLoadMaskTimeout=setTimeout(_b2,curam.ui.UIController.LOAD_MASK_TIMEOUT);
var _b4=false;
var _b5=function(){
if(_b4){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.panels.loaded"));
_b2();
clearTimeout(dojo.global.tabLoadMaskTimeout);
}else{
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.panels.not.loaded")+" "+_b1+" "+_ab.getProperty("curam.ui.UIController.later"));
_b4=true;
}
};
var _b6=dojo.connect(_b0,"onDownloadEnd",function(){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.content.pane.loaded")+" "+_ab.getProperty("curam.ui.UIController.reveal")+" "+_b1+" "+_ab.getProperty("curam.ui.UIController.now"));
_b5();
dojo.disconnect(_b6);
});
var _b7=curam.util.getTopmostWindow().dojo.subscribe("/curam/frame/detailsPanelLoaded",function(_b8,_b9){
if(_ae==_b9){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.details.panel.loaded")+" "+_b1+" "+ +_ab.getProperty("curam.ui.UIController.now"));
_b5();
dojo.unsubscribe(_b7);
}
});
}
var _ba=curam.tab.getHandlerForTab(function(_bb,_bc){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.content.pane.changed")+" "+_b1+" "+_ab.getProperty("curam.ui.UIController.now"));
curam.ui.UIController._contentPanelUpdated(_b0);
},_ae);
var _bd=curam.util.getTopmostWindow().dojo.subscribe("/curam/main-content/page/loaded",null,_ba);
curam.tab.unsubscribeOnTabClose(_bd,_ae);
}else{
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.tab.not.found")+" '"+_ae+"'.");
}
},_contentPanelUpdated:function(tab){
var _be=curam.tab.getContentPanelIframe(tab);
tab.tabDescriptor.setTabContent(new curam.ui.PageRequest(_be.src),null);
},getCacheBusterParameter:function(){
return curam.ui.UIController.CACHE_BUSTER_PARAM_NAME+"="+new Date().getTime()+"_"+curam.ui.UIController.CACHE_BUSTER++;
},_getTabbedUiApi:function(_bf){
var _c0=curam.ui.UIController._selectSection(_bf);
return new curam.util.ui.ApplicationTabbedUiController(_c0);
},_selectSection:function(_c1){
var _c2=_c1?!_c1.openInBackground:true;
var _c3=dijit.byId(curam.tab.SECTION_TAB_CONTAINER_ID);
var _c4=_c1?_c1.tabDescriptor.sectionID:curam.tab.getCurrentSectionId();
var _c5=dijit.byId(_c4+"-sbc");
var _c6=curam.tab.getTabContainer(_c4);
if(_c2){
if(_c5){
_c3.selectChild(_c5);
}else{
_c3.selectChild(_c6);
}
}
return _c6;
},tabTopicHandler:function(_c7){
var api=curam.ui.UIController._getTabbedUiApi(_c7);
curam.ui.UIController._doHandleTabEvent(_c7,api);
},_doHandleTabEvent:function(_c8,_c9){
var _ca=_c8.tabDescriptor;
var _cb=_ca.sectionID;
var _cc=curam.tab.getTabContainer(_cb);
var _cd=curam.util.getTopmostWindow().dojo;
var _ce=false;
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.fired")+" "+_cb+" : "+_ca.tabID+" : "+_c8.uimPageRequest.pageID);
var tab=_c9.findOpenTab(_c8);
if(tab===null&&_a9.exists("selectedChildWidget.tabDescriptor.isHomePage",_cc)&&_cc.selectedChildWidget.tabDescriptor.isHomePage===true&&_cc.selectedChildWidget.tabDescriptor.tabID===_c8.tabDescriptor.tabID){
tab=_cc.selectedChildWidget;
}
if(!tab){
if(_cc==undefined){
return false;
}
var _cf=_cc.getChildren().length+1;
var _d0=this.MAX_NUM_TABS;
var _d1=this._checkMaxNumOpenTabsExceeded(_d0,_cf);
if(_d1){
return true;
}
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.creating"));
tab=_c9.createTab(_c8);
tab.connect(tab,"onLoad",function(){
var _d2=curam.tab.getContentPanelIframe(tab);
dojo.attr(_d2,"src",dojo.attr(_d2,"data-content-url"));
_cd.publish("/curam/application/tab/ready",[tab]);
});
_ce=true;
}
_cd.publish("/curam/application/tab/requested",[curam.tab.getTabWidgetId(tab)]);
if(_ce){
var _d3=_c9.insertTabIntoApp(tab,_c8.uimPageRequest.isHomePage);
if(!_c8.openInBackground){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.new.fore.tab"),tab.tabDescriptor);
_c9.selectTab(tab);
if(_d3!=null){
_c9.selectTab(_d3);
}
}else{
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.new.back.tab"),tab.tabDescriptor);
}
this._checkMaxNumOpenTabsReached(_d0,_cf);
}else{
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.show.page"),tab.tabDescriptor);
_c9.selectTab(tab);
if(_c8.uimPageRequest.justRefresh){
_c9.refreshExistingPageInTab(tab);
}else{
if(_c8.uimPageRequest.forceLoad){
_c9.openPageInCurrentTab(_c8.uimPageRequest);
}else{
var _d4=tab.tabDescriptor;
var _d5=_d4.tabID==_c8.tabDescriptor.tabID&&_d4.matchesPageRequest(_c8.uimPageRequest);
var _d6=_d4.tabContent.pageID==_c8.uimPageRequest.pageID;
if(_d5&&!_d6){
_c9.openPageInCurrentTab(_c8.uimPageRequest);
}
}
}
}
return true;
},_checkMaxNumOpenTabsReached:function(_d7,_d8){
if(_d8==_d7){
this.TABS_MSG_PLACEHOLDER_MAX_TABS=_d7;
curam.util.openGenericErrorModalDialog(this.MAX_TABS_MODAL_SIZE,this.TABS_INFO_MODAL_TITLE_PROP_NAME,this.TABS_INFO_MODAL_MSG_PROP_NAME,this.TABS_MSG_PLACEHOLDER_MAX_TABS,false);
return true;
}
},_checkMaxNumOpenTabsExceeded:function(_d9,_da){
if(_da>_d9){
this.TABS_MSG_PLACEHOLDER_MAX_TABS=_d9;
curam.util.openGenericErrorModalDialog(this.MAX_TABS_MODAL_SIZE,this.TABS_ERROR_MODAL_TITLE_PROP_NAME,this.TABS_ERROR_MODAL_MSG_PROP_NAME,this.TABS_MSG_PLACEHOLDER_MAX_TABS,true);
return true;
}
},checkPage:function(_db,_dc){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.checking.page")+" '"+_db.pageID+"'.");
if(_db.pageID==""){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.ignoring")+" "+_db.getURL());
return;
}
var _dd=curam.ui.UIController._ensurePageAssociationInitialized(_db,function(){
if(curam.ui.UIController.isPageAssociationInitialized(_db.pageID,curam.ui.UIController.PAGE_ASSOCIATIONS)){
curam.ui.UIController.checkPage(_db,_dc);
}else{
var msg=_ab.getProperty("curam.ui.UIController.failed");
curam.ui.UIController._log(msg);
throw new Error(msg);
}
});
if(_dd){
try{
var _de=curam.ui.UIController.getTabDescriptorForPage(_db.pageID,curam.ui.UIController.PAGE_ASSOCIATIONS);
if(_de!=null){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.page.opened")+" '"+_db.pageID+"'. "+_ab.getProperty("curam.ui.UIController.sec.id")+" '"+_de.sectionID+"'. "+_ab.getProperty("curam.ui.UIController.tab.id")+" '"+_de.tabID+"'.");
if(_db.isHomePage){
_de.isHomePage=true;
}
_de.setTabContent(_db);
dojo.publish(curam.ui.UIController.TAB_TOPIC,[new curam.ui.OpenTabEvent(_de,_db)]);
}else{
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.page.id")+" '"+_db.pageID+"'.");
if(!_dc){
if(typeof curam.tab.getSelectedTab()=="undefined"){
throw {name:curam.ui.UIController.UNASSOCIATED_SHORTCUT_ERROR,message:"ERROR:The requested page "+_db.pageID+" is not associated with any tab and there is no "+"tab to open it!"};
}
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.load"));
curam.ui.UIController._getTabbedUiApi().openPageInCurrentTab(_db);
}else{
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.unmapped"));
_dc(_db);
}
}
}
catch(e){
if(e.name==curam.ui.UIController.DUPLICATE_TAB_MAPPING_ERROR){
alert(e.message);
curam.ui.UIController._getTabbedUiApi().openPageInCurrentTab(_db);
return null;
}else{
if(e.name==curam.ui.UIController.UNASSOCIATED_SHORTCUT_ERROR){
alert(e.message);
console.error(e.message);
return null;
}else{
throw e;
}
}
}
}
},isPageAssociationInitialized:function(_df,_e0){
var _e1=_e0[_df];
return !(typeof _e1=="undefined");
},_ensurePageAssociationInitialized:function(_e2,_e3){
if(!curam.ui.UIController.isPageAssociationInitialized(_e2.pageID,curam.ui.UIController.PAGE_ASSOCIATIONS)){
var _e4="/config/tablayout/associated["+_e2.pageID+"]["+USER_APPLICATION_ID+"]";
new curam.ui.ClientDataAccessor().getRaw(_e4,function(_e5){
curam.ui.UIController.initializePageAssociations(_e2,_e5);
_e3();
},function(_e6,_e7){
var msg=curam_ui_UIController_data_error+" "+_e6;
curam.ui.UIController._log(msg);
if(!curam.ui.UIController._isLoginPage(_e7.xhr)){
alert(msg);
}
curam.util.getTopmostWindow().location.reload(true);
},null);
return false;
}
return true;
},_isLoginPage:function(_e8){
return _e8.responseText.indexOf("action=\"j_security_check\"")>0;
},initializePageAssociations:function(_e9,_ea){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.got.assoc")+" '"+_e9.pageID+"'.");
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.assoc"),_ea);
if(_ea){
if(_ea.tabIDs&&_ea.tabIDs.length>0){
curam.ui.UIController.PAGE_ASSOCIATIONS[_e9.pageID]=_ea;
}else{
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.no.mappings")+" '"+_e9.pageID+"'.");
curam.ui.UIController.PAGE_ASSOCIATIONS[_e9.pageID]=null;
}
}else{
throw "initializePageAssociations did not recieve a valid response.";
}
},getTabDescriptorForPage:function(_eb,_ec){
var _ed=_ec[_eb];
if(!curam.ui.UIController.isPageAssociationInitialized(_eb,_ec)){
throw "Page associations have not been initialized for: "+_eb;
}
if(_ed!=null){
var _ee=curam.ui.UIController.getTabFromMappings(_ed.tabIDs,curam.tab.getSelectedTab());
return new curam.tab.TabDescriptor(_ed.sectionID,_ee);
}else{
return null;
}
},getTabFromMappings:function(_ef,_f0){
if(!_f0){
if(_ef.length==1){
return _ef[0];
}else{
if(_ef.length>1){
throw "Home page mapped to multiple tabs";
}
}
}
var _f1=_f0.tabDescriptor.tabID;
for(var i=0;i<_ef.length;i++){
if(_f1==_ef[i]){
return _f1;
}
}
if(_ef.length==1){
return _ef[0];
}else{
if(_ef.length>1){
throw {name:curam.ui.UIController.DUPLICATE_TAB_MAPPING_ERROR,message:"ERROR: The page that you are trying to link to is associated with "+"multiple tabs: ["+_ef.toString()+"]. Therefore the "+"tab to open cannot be determined and the page will open in the "+"current tab. Please report this error.",tabID:_f1};
}else{
}
}
},handleUIMPageID:function(_f2,_f3){
var _f4=_f3?true:false;
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.handling.uim")+" '"+_f2+"'. Page is "+(_f4?"":"not ")+_ab.getProperty("curam.ui.UIController.default.sec"));
curam.ui.UIController.handlePageRequest(new curam.ui.PageRequest(_f2+"Page.do",_f4));
},processURL:function(url){
var _f5=new curam.ui.PageRequest(url);
curam.ui.UIController.handlePageRequest(_f5);
},handlePageRequest:function(_f6){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.handling.page")+" '"+_f6.pageID+"'. "+_ab.getProperty("curam.ui.UIController.panel.will")+(_f6.forceRefresh?"":_ab.getProperty("curam.ui.UIController.not"))+_ab.getProperty("curam.ui.UIController.reload"));
var _f7=curam.ui.UIController.checkResolvePage(_f6,_f6.forceRefresh);
if(_f7==true){
curam.ui.UIController.checkPage(_f6);
}
},checkResolvePage:function(_f8,_f9){
if(_f9){
return true;
}
var _fa=curam.ui.UIController.RESOLVE_PAGES[_f8.pageID];
if(_fa==false){
return true;
}else{
var _fb;
if(_f8.getURL().indexOf("?")==-1){
_fb="?";
}else{
_fb="&";
}
var loc=curam.config?curam.config.locale+"/":"";
dojo.xhrPost({url:loc+_f8.getURL()+_fb+"o3resolve=true",handleAs:"text",preventCache:true,load:dojo.hitch(curam.ui.UIController,"resolvePageCheckSuccess",_f8),error:dojo.hitch(curam.ui.UIController,"resolvePageCheckFailure",_f8)});
return false;
}
},resolvePageCheckSuccess:function(_fc,_fd,_fe){
var _ff=false;
var _100;
var _101;
var _102;
if(_fd.substring(2,0)=="{\""&&_fd.charAt(_fd.length-1)=="}"){
_ff=true;
_fd=_aa.parse(_fd,true);
_100=_fd.pageID;
_101=_fd.pageURL;
}else{
_ff=false;
}
if(_ff&&_fc.pageID!=_100){
curam.ui.UIController.RESOLVE_PAGES[_fc.pageID]=true;
_101=_101.replace("&amp;o3resolve=true","");
_101=_101.replace("&o3resolve=true","");
_101=_101.replace("o3resolve=true","");
for(paramName in _fc.cdejParameters){
if(paramName.length>0&&paramName.indexOf("__o3")!=-1){
if(_101.indexOf("?")==-1){
_101+="?"+paramName+"="+encodeURIComponent(_fc.cdejParameters[paramName]);
}else{
_101+="&"+paramName+"="+encodeURIComponent(_fc.cdejParameters[paramName]);
}
}
}
_102=new curam.ui.PageRequest(_101);
}else{
curam.ui.UIController.RESOLVE_PAGES[_fc.pageID]=false;
_102=_fc;
}
curam.ui.UIController.checkPage(_102);
},resolvePageCheckFailure:function(_103,_104,_105){
curam.ui.UIController.RESOLVE_PAGES[_103.pageID]=false;
curam.ui.UIController.checkPage(_103);
},setTabTitleAndName:function(_106,_107,_108){
var tab=curam.tab.getContainerTab(_106);
if(tab){
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.changing.tab")+" '"+_107+"', '"+_108+"'. "+_ab.getProperty("curam.ui.UIController.descriptor.before"),tab.tabDescriptor);
dojo.query("span.detailsTitleText",tab.domNode)[0].innerHTML=_107;
var _109=dojo.query("span.detailsTitleText",tab.domNode)[0];
_109.setAttribute("title",_107);
tab.set("title",_108);
dojo.publish("tab.title.name.finished");
}else{
curam.ui.UIController._log(_ab.getProperty("curam.ui.UIController.cannot.change")+" '"+_107+"', '"+_108+"'. "+_ab.getProperty("curam.ui.UIController.iframe")+" '"+_106.id+"'.");
}
},handleLinkClick:function(_10a,_10b){
curam.ui.UIController._doHandleLinkClick(_10a,_10b,curam.tab.getContentPanelIframe(),curam.ui.UIController.handlePageRequest,curam.util.openModalDialog);
},_doHandleLinkClick:function(_10c,_10d,_10e,_10f,_110){
var _111=_10c;
if(_10e){
var rtc=new curam.util.RuntimeContext(_10e.contentWindow);
var _112=null;
if(_10d){
_112=[{key:"o3frame",value:"modal"}];
}
_111=curam.util.setRpu(_10c,rtc,_112);
}
if(_10d&&curam.config&&curam.config.modalsEnabled!="false"){
var _113=_10d.openDialogFunction||_110;
var _114=_10d.args||[{href:_111},_10d.dialogOptions];
_113.apply(this,_114);
}else{
var _115=new curam.ui.PageRequest(_111);
_10f(_115);
}
},handleDownLoadClickLegacy:function(_116){
require(["dojo/io/iframe"]);
var _117=dojo.io.iframe.create("o3lrm_frame","");
_117.src=location.href.substring(0,location.href.lastIndexOf("/"))+decodeURIComponent(_116.replace(/\+/g," "));
return;
},handleDownLoadClick:function(_118){
var _119=curam.tab.getContentPanelIframe();
_119.src=location.href.substring(0,location.href.lastIndexOf("/"))+decodeURIComponent(_118.replace(/\+/g," "))+"&"+jsScreenContext.toRequestString();
return;
},_log:function(msg,_11a){
if(curam.debug.enabled()){
curam.debug.log("UI CONTROLLER: "+msg+(_11a?" "+dojo.toJson(_11a):""));
}
}});
return curam.ui.UIController;
});
},"dijit/layout/ScrollingTabController":function(){
require({cache:{"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition} tabStrip-disabled dijitLayoutContainer\"><!-- CURAM-FIX: removed style=\"visibility:hidden, dd the tabStrip-disabled class by default.\" -->\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\r\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\r\n\t\t\tid=\"${id}_menuBtn\"\r\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\r\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\r\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\r\n\t\t\tid=\"${id}_leftBtn\"\r\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\r\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\r\n\t\t\tid=\"${id}_rightBtn\"\r\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\r\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\r\n\t<div class='dijitTabListWrapper dijitTabContainerTopNone dijitAlignClient' data-dojo-attach-point='tablistWrapper'>\r\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\r\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip dijitTabContainerTop-tabs'></div>\r\n\t</div>\r\n</div>\r\n","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\">\n\t<div role=\"presentation\" class=\"dijitTabInnerDiv\" data-dojo-attach-point=\"innerDiv,focusNode\">\n\t\t<div role=\"presentation\" class=\"dijitTabContent dijitButtonContents\" data-dojo-attach-point=\"tabContent\">\n\t\t\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n\t\t</div>\n\t</div>\n</div>"}});
define("dijit/layout/ScrollingTabController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/query","dojo/_base/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom"],function(_11b,_11c,_11d,_11e,_11f,fx,lang,_120,has,_121,_122,_123,_124,_125,_126,Menu,_127,_128,_129){
var _12a=_11c("dijit.layout.ScrollingTabController",[_124,_126],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_122,useMenu:true,useSlider:true,tabStripClass:"",widgetsInTemplate:true,_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},_tabsWidth:-1,_tablistMenuItemIdSuffix:"_stcMi",buildRendering:function(){
this.inherited(arguments);
var n=this.domNode;
this.scrollNode=this.tablistWrapper;
this._initButtons();
if(!this.tabStripClass){
this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";
_11d.add(n,"tabStrip-disabled");
}
_11d.add(this.tablistWrapper,this.tabStripClass);
},onStartup:function(){
this.inherited(arguments);
this._postStartup=true;
},onAddChild:function(page,_12b){
this.inherited(arguments);
var _12c=page.id;
this.bustSizeCache=true;
this._tabsWidth=-1;
_11b.forEach(["label","iconClass"],function(attr){
this.pane2watches[page.id].push(this.pane2button[page.id].watch(attr,lang.hitch(this,function(){
if(this._postStartup&&this._dim){
this.resize(this._dim);
}
if(this._dim){
this.bustSizeCache=true;
this._tabsWidth=-1;
this.pane2button[_12c].domNode._width=0;
}
})));
},this);
var _12d=function(pid,_12e){
var _12f=null;
if(_12e._menuBtn.dropDown){
var _130=dojo.query(pid+_12e._tablistMenuItemIdSuffix,_12e._menuBtn.dropDown.domNode)[0];
if(_130){
_12f=dijit.byNode(_130);
}
}
return _12f;
};
this.pane2button[_12c].connect(this.pane2button[_12c],"_setCuramVisibleAttr",lang.hitch(this,function(){
var _131=_12d(_12c,this);
if(_131){
this._setCuramVisibility(_131,_12c);
}
}));
this.pane2button[_12c].connect(this.pane2button[_12c],"_setCuramDisabledAttr",lang.hitch(this,function(){
var _132=_12d(_12c,this);
if(_132){
this._setCuramAvailability(_132,_12c);
}
}));
_11f.set(this.containerNode,"width",(_11f.get(this.containerNode,"width")+200)+"px");
},_setCuramVisibility:function(_133,_134){
var _135=this.pane2button[_134].curamVisible;
if(_135){
dojo.replaceClass(_133.domNode,"visible","hidden");
}else{
dojo.replaceClass(_133.domNode,"hidden","visible");
}
},_setCuramAvailability:function(_136,_137){
var _138=!this.pane2button[_137].curamDisabled;
_136.disabled=!_138;
if(_138){
dojo.replaceClass(_136.domNode,"enabled","disabled");
}else{
dojo.replaceClass(_136.domNode,"disabled","enabled");
}
},_getNodeWidth:function(node){
if(!node._width){
node._width=dojo.style(node,"width");
}
return node._width;
},destroyRendering:function(_139){
_11b.forEach(this._attachPoints,function(_13a){
delete this[_13a];
},this);
this._attachPoints=[];
_11b.forEach(this._attachEvents,this.disconnect,this);
this.attachEvents=[];
},destroy:function(){
if(this._menuBtn){
this._menuBtn._curamOwnerController=null;
}
this.inherited(arguments);
},onRemoveChild:function(page,_13b){
var _13c=this.pane2button[page.id];
if(this._selectedTab===_13c.domNode){
this._selectedTab=null;
}
this.inherited(arguments);
this.bustSizeCache=true;
this._tabsWidth=-1;
},_initButtons:function(){
this.subscribe("tab.title.name.finished",this._measureBtns);
this._btnWidth=0;
this._buttons=_120("> .tabStripButton",this.domNode).filter(function(btn){
if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){
this._btnWidth+=_11e.getMarginBoxSimple(btn).w;
return true;
}else{
_11f.set(btn,"display","none");
return false;
}
},this);
this._menuBtn._curamOwnerController=this;
},_getTabsWidth:function(){
if(this._tabsWidth>-1){
return this._tabsWidth;
}
var _13d=this.getChildren();
if(_13d.length){
var _13e=_13d[this.isLeftToRight()?_13d.length-1:0].domNode;
var _13f=this._getNodeWidth(_13e);
this._tabsWidth=_13e.offsetLeft+_13f;
return this._tabsWidth;
}else{
return 0;
}
},_enableBtn:function(_140){
var _141=this._getTabsWidth();
_140=_140||_11f.get(this.scrollNode,"width");
return _141>0&&_140<_141;
},_measureBtns:function(){
if(this._enableBtn()&&this._rightBtn.domNode.style.display=="none"){
this.resize(this._dim);
if(this.isLeftToRight()){
this._rightBtn.set("disabled",true);
}else{
this._leftBtn.set("disabled",true);
}
}
},resize:function(dim){
if(dojo.query("> *",this.containerNode).length<1){
if(this.domNode.style.height!="1px"){
dojo.style(this.domNode,"height","1px");
}
return;
}
if(!this.bustSizeCache&&this._dim&&dim&&this._dim.w==dim.w){
return;
}
this.bustSizeCache=false;
this.scrollNodeHeight=this.scrollNodeHeight||this.scrollNode.offsetHeight;
this._dim=dim;
this.scrollNode.style.height="auto";
var cb=this._contentBox=_125.marginBox2contentBox(this.domNode,{h:0,w:dim.w});
cb.h=this.scrollNodeHeight;
_11e.setContentSize(this.domNode,cb);
var _142=this._enableBtn(this._contentBox.w);
this._buttons.style("display",_142?"":"none");
this._leftBtn.layoutAlign="left";
this._rightBtn.layoutAlign="right";
this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";
var _143;
if(_142){
_143=dijit.layout.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client",fakeWidget:true}]);
}else{
_143=dijit.layout.layoutChildren(this.domNode,this._contentBox,[{domNode:this.scrollNode,layoutAlign:"client",fakeWidget:true}]);
}
this.scrollNode._width=_143.client.w;
if(this._selectedTab){
if(this._anim&&this._anim.status()=="playing"){
this._anim.stop();
}
this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());
}
this._setButtonClass(this._getScroll());
this._postResize=true;
return {h:this._contentBox.h,w:dim.w};
},_getScroll:function(){
return (this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_11f.get(this.containerNode,"width")-_11f.get(this.scrollNode,"width")+(has("ie")==8?-1:1)*this.scrollNode.scrollLeft;
},_convertToScrollLeft:function(val){
if(this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit")){
return val;
}else{
var _144=_11f.get(this.containerNode,"width")-_11f.get(this.scrollNode,"width");
return (has("ie")==8?-1:1)*(val-_144);
}
},onSelectChild:function(page){
var tab=this.pane2button[page.id];
if(!tab||!page){
return;
}
var node=tab.domNode;
if(node!=this._selectedTab){
this._selectedTab=node;
if(this._postResize){
var _145=this._getNodeWidth(this.scrollNode);
if(this._getTabsWidth()<_145){
tab.onClick(null);
}else{
var sl=this._getScroll();
if(sl>node.offsetLeft||sl+_145<node.offsetLeft+this._getNodeWidth(node)){
this.createSmoothScroll().play();
}
}
}
}
this.inherited(arguments);
},_getScrollBounds:function(){
var _146=this.getChildren(),_147=this._getNodeWidth(this.scrollNode),_148=this._getNodeWidth(this.containerNode),_149=_148-_147,_14a=this._getTabsWidth();
if(_146.length&&_14a>_147){
return {min:this.isLeftToRight()?0:this._getNodeWidth(_146[_146.length-1].domNode),max:this.isLeftToRight()?_14a-_147:_149};
}else{
var _14b=this.isLeftToRight()?0:_149;
return {min:_14b,max:_14b};
}
},_getScrollForSelectedTab:function(){
var w=this.scrollNode,n=this._selectedTab,_14c=_11f.get(this.scrollNode,"width"),_14d=this._getScrollBounds();
var pos=(n.offsetLeft+_11f.get(n,"width")/2)-_14c/2;
pos=Math.min(Math.max(pos,_14d.min),_14d.max);
return pos;
},createSmoothScroll:function(x){
if(arguments.length>0){
var _14e=this._getScrollBounds();
x=Math.min(Math.max(x,_14e.min),_14e.max);
}else{
x=this._getScrollForSelectedTab();
}
if(this._anim&&this._anim.status()=="playing"){
this._anim.stop();
}
var self=this,w=this.scrollNode,anim=new fx.Animation({beforeBegin:function(){
if(this.curve){
delete this.curve;
}
var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);
anim.curve=new fx._Line(oldS,newS);
},onAnimate:function(val){
w.scrollLeft=val;
}});
this._anim=anim;
this._setButtonClass(x);
return anim;
},_getBtnNode:function(e){
var n=e.target;
while(n&&!_11d.contains(n,"tabStripButton")){
n=n.parentNode;
}
return n;
},doSlideRight:function(e){
this.doSlide(1,this._getBtnNode(e));
},doSlideLeft:function(e){
this.doSlide(-1,this._getBtnNode(e));
},doSlide:function(_14f,node){
if(node&&_11d.contains(node,"dijitTabDisabled")){
return;
}
var _150=_11f.get(this.scrollNode,"width");
var d=(_150*0.75)*_14f;
var to=this._getScroll()+d;
this._setButtonClass(to);
this.createSmoothScroll(to).play();
},_setButtonClass:function(_151){
var _152=this._getScrollBounds();
this._leftBtn.set("disabled",_151<=_152.min);
this._rightBtn.set("disabled",_151>=_152.max);
}});
var _153=_11c("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_123,tabIndex:"",isFocusable:function(){
return false;
}});
_11c("dijit.layout._ScrollingTabControllerButton",[_128,_153]);
_11c("dijit.layout._ScrollingTabControllerMenuButton",[_128,_129,_153],{containerId:"",tabIndex:"-1",isLoaded:function(){
return false;
},loadDropDown:function(_154){
this.dropDown=new Menu({id:this.containerId+"_menu",dir:this.dir,lang:this.lang,textDir:this.textDir});
var _155=_121.byId(this.containerId);
_11b.forEach(_155.getChildren(),function(page){
var _156=new _127({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,dir:page.dir,lang:page.lang,textDir:page.textDir,onClick:function(){
_155.selectChild(page);
}});
this.dropDown.addChild(_156);
},this);
dojo.forEach(this.dropDown.getChildren(),lang.hitch(this,function(_157){
var _158=_157.id.split(this._curamOwnerController._tablistMenuItemIdSuffix)[0];
this._curamOwnerController._setCuramAvailability(_157,_158);
this._curamOwnerController._setCuramVisibility(_157,_158);
dojo.connect(_157,"destroy",function(){
setDynState=null;
});
}));
_154();
},closeDropDown:function(_159){
this.inherited(arguments);
if(this.dropDown){
this.dropDown.destroyRecursive();
delete this.dropDown;
}
}});
return _12a;
});
},"dijit/DialogUnderlay":function(){
define("dijit/DialogUnderlay",["dojo/_base/declare","dojo/dom-attr","dojo/_base/window","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe"],function(_15a,_15b,win,_15c,_15d,_15e,_15f){
return _15a("dijit.DialogUnderlay",[_15d,_15e],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_setDialogIdAttr:function(id){
_15b.set(this.node,"id",id+"_underlay");
this._set("dialogId",id);
},_setClassAttr:function(_160){
this.node.className="dijitDialogUnderlay "+_160;
this._set("class",_160);
},postCreate:function(){
win.body().appendChild(this.domNode);
},layout:function(){
var is=this.node.style,os=this.domNode.style;
os.display="none";
var _161=_15c.getBox();
os.top=_161.t+"px";
os.left=_161.l+"px";
is.width=_161.w+"px";
is.height=_161.h+"px";
os.display="block";
},show:function(){
this.domNode.style.display="block";
this.layout();
this.bgIframe=new _15f(this.domNode);
},hide:function(){
this.bgIframe.destroy();
delete this.bgIframe;
this.domNode.style.display="none";
}});
});
},"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\"\n\t\t/></td></tr></tbody\n></table>\n","dijit/place":function(){
define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","dojo/window",".","dojo/_base/lang"],function(_162,_163,_164,_165,win,_166,_167,lang){
function _168(node,_169,_16a,_16b){
var view=_166.getBox();
if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){
win.body().appendChild(node);
}
var best=null;
_162.some(_169,function(_16c){
var _16d=_16c.corner;
var pos=_16c.pos;
var _16e=0;
var _16f={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_16d.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_16d.charAt(0)]};
if(_16a){
var res=_16a(node,_16c.aroundCorner,_16d,_16f,_16b);
_16e=typeof res=="undefined"?0:res;
}
var _170=node.style;
var _171=_170.display;
var _172=_170.visibility;
if(_170.display=="none"){
_170.visibility="hidden";
_170.display="";
}
var mb=_163.getMarginBox(node);
_170.display=_171;
_170.visibility=_172;
var _173={"L":pos.x,"R":pos.x-mb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(mb.w>>1))-mb.w)}[_16d.charAt(1)],_174={"T":pos.y,"B":pos.y-mb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(mb.h>>1))-mb.h)}[_16d.charAt(0)],_175=Math.max(view.l,_173),_176=Math.max(view.t,_174),endX=Math.min(view.l+view.w,_173+mb.w),endY=Math.min(view.t+view.h,_174+mb.h),_177=endX-_175,_178=endY-_176;
_16e+=(mb.w-_177)+(mb.h-_178);
if(lang.exists("curam.widget.DeferredDropDownButton.prototype.useCustomPlaceAlgorithm")&&curam.widget.DeferredDropDownButton.prototype.useCustomPlaceAlgorithm==true){
if((_16d.charAt(0)=="T"||_16d.charAt(1)=="L")&&_16e>0){
_16e=mb.w+mb.h;
}
}
if(best==null||_16e<best.overflow){
best={corner:_16d,aroundCorner:_16c.aroundCorner,x:_175,y:_176,w:_177,h:_178,overflow:_16e,spaceAvailable:_16f};
}
return !_16e;
});
if(best.overflow&&_16a){
_16a(node,best.aroundCorner,best.corner,best.spaceAvailable,_16b);
}
var l=_163.isBodyLtr(),s=node.style;
s.top=best.y+"px";
s[l?"left":"right"]=(l?best.x:view.w-best.x-best.w)+"px";
s[l?"right":"left"]="auto";
return best;
};
return (_167.place={at:function(node,pos,_179,_17a){
var _17b=_162.map(_179,function(_17c){
var c={corner:_17c,pos:{x:pos.x,y:pos.y}};
if(_17a){
c.pos.x+=_17c.charAt(1)=="L"?_17a.x:-_17a.x;
c.pos.y+=_17c.charAt(0)=="T"?_17a.y:-_17a.y;
}
return c;
});
return _168(node,_17b);
},around:function(node,_17d,_17e,_17f,_180){
var _181=(typeof _17d=="string"||"offsetWidth" in _17d)?_163.position(_17d,true):_17d;
if(_17d.parentNode){
var _182=_164.getComputedStyle(_17d).position=="absolute";
var _183=_17d.parentNode;
while(_183&&_183.nodeType==1&&_183.nodeName!="BODY"){
var _184=_163.position(_183,true),pcs=_164.getComputedStyle(_183);
if(/relative|absolute/.test(pcs.position)){
_182=false;
}
if(!_182&&/hidden|auto|scroll/.test(pcs.overflow)){
var _185=Math.min(_181.y+_181.h,_184.y+_184.h);
var _186=Math.min(_181.x+_181.w,_184.x+_184.w);
_181.x=Math.max(_181.x,_184.x);
_181.y=Math.max(_181.y,_184.y);
_181.h=_185-_181.y;
_181.w=_186-_181.x;
}
if(pcs.position=="absolute"){
_182=true;
}
_183=_183.parentNode;
}
}
var x=_181.x,y=_181.y,_187="w" in _181?_181.w:(_181.w=_181.width),_188="h" in _181?_181.h:(_165.deprecated("place.around: dijit.place.__Rectangle: { x:"+x+", y:"+y+", height:"+_181.height+", width:"+_187+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_181.height+", w:"+_187+" }","","2.0"),_181.h=_181.height);
var _189=[];
function push(_18a,_18b){
_189.push({aroundCorner:_18a,corner:_18b,pos:{x:{"L":x,"R":x+_187,"M":x+(_187>>1)}[_18a.charAt(1)],y:{"T":y,"B":y+_188,"M":y+(_188>>1)}[_18a.charAt(0)]}});
};
_162.forEach(_17e,function(pos){
var ltr=_17f;
switch(pos){
case "above-centered":
push("TM","BM");
break;
case "below-centered":
push("BM","TM");
break;
case "after-centered":
ltr=!ltr;
case "before-centered":
push(ltr?"ML":"MR",ltr?"MR":"ML");
break;
case "after":
ltr=!ltr;
case "before":
push(ltr?"TL":"TR",ltr?"TR":"TL");
push(ltr?"BL":"BR",ltr?"BR":"BL");
break;
case "below-alt":
ltr=!ltr;
case "below":
push(ltr?"BL":"BR",ltr?"TL":"TR");
push(ltr?"BR":"BL",ltr?"TR":"TL");
break;
case "above-alt":
ltr=!ltr;
case "above":
push(ltr?"TL":"TR",ltr?"BL":"BR");
push(ltr?"TR":"TL",ltr?"BR":"BL");
break;
default:
push(pos.aroundCorner,pos.corner);
}
});
var _18c=_168(node,_189,_180,{w:_187,h:_188});
_18c.aroundNodePos=_181;
return _18c;
}});
});
},"dijit/_HasDropDown":function(){
define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/touch","dojo/_base/window","dojo/window","./registry","./focus","./popup","./_FocusMixin"],function(_18d,_18e,_18f,dom,_190,_191,_192,_193,has,keys,lang,_194,win,_195,_196,_197,_198,_199){
return _18d("dijit._HasDropDown",_199,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){
if(this.disabled||this.readOnly){
return;
}
e.preventDefault();
this._docHandler=this.connect(win.doc,_194.release,"_onDropDownMouseUp");
this.toggleDropDown();
},_onDropDownMouseUp:function(e){
if(e&&this._docHandler){
this.disconnect(this._docHandler);
}
var _19a=this.dropDown,_19b=false;
if(e&&this._opened){
var c=_192.position(this._buttonNode,true);
if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){
var t=e.target;
while(t&&!_19b){
if(_191.contains(t,"dijitPopup")){
_19b=true;
}else{
t=t.parentNode;
}
}
if(_19b){
t=e.target;
if(_19a.onItemClick){
var _19c;
while(t&&!(_19c=_196.byNode(t))){
t=t.parentNode;
}
if(_19c&&_19c.onClick&&_19c.getParent){
_19c.getParent().onItemClick(_19c,e);
}
}
return;
}
}
}
if(this._opened){
if(_19a.focus&&_19a.autoFocus!==false){
window.setTimeout(lang.hitch(_19a,"focus"),1);
}
}else{
setTimeout(lang.hitch(this,"focus"),0);
}
if(has("ios")){
this._justGotMouseUp=true;
setTimeout(lang.hitch(this,function(){
this._justGotMouseUp=false;
}),0);
}
},_onDropDownClick:function(e){
if(has("ios")&&!this._justGotMouseUp){
this._onDropDownMouseDown(e);
this._onDropDownMouseUp(e);
}
if(this._stopClickEvents){
_18f.stop(e);
}
},buildRendering:function(){
this.inherited(arguments);
this._buttonNode=this._buttonNode||this.focusNode||this.domNode;
this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;
var _19d={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";
_191.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_19d+"ArrowButton");
},postCreate:function(){
this.inherited(arguments);
this.connect(this._buttonNode,_194.press,"_onDropDownMouseDown");
this.connect(this._buttonNode,"onclick","_onDropDownClick");
this.connect(this.focusNode,"onkeypress","_onKey");
this.connect(this.focusNode,"onkeyup","_onKeyUp");
},destroy:function(){
if(this.dropDown){
if(!this.dropDown._destroyed){
this.dropDown.destroyRecursive();
}
delete this.dropDown;
}
this.inherited(arguments);
},_onKey:function(e){
if(this.disabled||this.readOnly){
return;
}
var d=this.dropDown,_19e=e.target;
if(d&&this._opened&&d.handleKey){
if(d.handleKey(e)===false){
_18f.stop(e);
return;
}
}
if(d&&this._opened&&e.charOrCode==keys.ESCAPE){
this.closeDropDown();
_18f.stop(e);
}else{
if(!this._opened&&(e.charOrCode==keys.DOWN_ARROW||((e.charOrCode==keys.ENTER||e.charOrCode==" ")&&((_19e.tagName||"").toLowerCase()!=="input"||(_19e.type&&_19e.type.toLowerCase()!=="text"))))){
this._toggleOnKeyUp=true;
_18f.stop(e);
}
}
},_onKeyUp:function(){
if(this._toggleOnKeyUp){
delete this._toggleOnKeyUp;
this.toggleDropDown();
var d=this.dropDown;
if(d&&d.focus){
setTimeout(lang.hitch(d,"focus"),1);
}
}
},_onBlur:function(){
var _19f=_197.curNode&&this.dropDown&&dom.isDescendant(_197.curNode,this.dropDown.domNode);
this.closeDropDown(_19f);
this.inherited(arguments);
},isLoaded:function(){
return true;
},loadDropDown:function(_1a0){
_1a0();
},loadAndOpenDropDown:function(){
var d=new _18e(),_1a1=lang.hitch(this,function(){
this.openDropDown();
d.resolve(this.dropDown);
});
if(!this.isLoaded()){
this.loadDropDown(_1a1);
}else{
_1a1();
}
return d;
},toggleDropDown:function(){
if(this.disabled||this.readOnly){
return;
}
if(!this._opened){
this.loadAndOpenDropDown();
}else{
this.closeDropDown();
}
},openDropDown:function(){
var _1a2=this.dropDown,_1a3=_1a2.domNode,_1a4=this._aroundNode||this.domNode,self=this;
if(!this._preparedNode){
this._preparedNode=true;
if(_1a3.style.width){
this._explicitDDWidth=true;
}
if(_1a3.style.height){
this._explicitDDHeight=true;
}
}
if(this.maxHeight||this.forceWidth||this.autoWidth){
var _1a5={display:"",visibility:"hidden"};
if(!this._explicitDDWidth){
_1a5.width="";
}
if(!this._explicitDDHeight){
_1a5.height="";
}
_193.set(_1a3,_1a5);
var _1a6=this.maxHeight;
if(_1a6==-1){
var _1a7=_195.getBox(),_1a8=_192.position(_1a4,false);
_1a6=Math.floor(Math.max(_1a8.y,_1a7.h-(_1a8.y+_1a8.h)));
}
_198.moveOffScreen(_1a2);
if(_1a2.startup&&!_1a2._started){
_1a2.startup();
}
var mb=_192.getMarginSize(_1a3);
var _1a9=(_1a6&&mb.h>_1a6);
_193.set(_1a3,{overflowX:"hidden",overflowY:_1a9?"auto":"hidden"});
if(_1a9){
mb.h=_1a6;
if("w" in mb){
mb.w+=16;
}
}else{
delete mb.h;
}
if(this.forceWidth){
mb.w=_1a4.offsetWidth;
}else{
if(this.autoWidth){
mb.w=Math.max(mb.w,_1a4.offsetWidth);
}else{
delete mb.w;
}
}
if(lang.isFunction(_1a2.resize)){
_1a2.resize(mb);
}else{
_192.setMarginBox(_1a3,mb);
}
}
var _1aa=_198.open({parent:this,popup:_1a2,around:_1a4,orient:this.dropDownPosition,onExecute:function(){
self.closeDropDown(true);
},onCancel:function(){
self.closeDropDown(true);
},onClose:function(){
_190.set(self._popupStateNode,"popupActive",false);
_191.remove(self._popupStateNode,"dijitHasDropDownOpen");
self._opened=false;
}});
_190.set(this._popupStateNode,"popupActive","true");
_191.add(self._popupStateNode,"dijitHasDropDownOpen");
this._opened=true;
return _1aa;
},closeDropDown:function(_1ab){
if(this._opened){
if(_1ab){
this.focus();
}
_198.close(this.dropDown);
this._opened=false;
}
}});
});
},"dijit/tree/TreeStoreModel":function(){
define("dijit/tree/TreeStoreModel",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/json","dojo/_base/lang"],function(_1ac,_1ad,_1ae,json,lang){
return _1ae("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){
lang.mixin(this,args);
this.connects=[];
var _1af=this.store;
if(!_1af.getFeatures()["dojo.data.api.Identity"]){
throw new Error("dijit.Tree: store must support dojo.data.Identity");
}
if(_1af.getFeatures()["dojo.data.api.Notification"]){
this.connects=this.connects.concat([_1ad.after(_1af,"onNew",lang.hitch(this,"onNewItem"),true),_1ad.after(_1af,"onDelete",lang.hitch(this,"onDeleteItem"),true),_1ad.after(_1af,"onSet",lang.hitch(this,"onSetItem"),true)]);
}
},destroy:function(){
var h;
while(h=this.connects.pop()){
h.remove();
}
},getRoot:function(_1b0,_1b1){
if(this.root){
_1b0(this.root);
}else{
this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_1b2){
if(_1b2.length!=1){
throw new Error(this.declaredClass+": query "+json.stringify(this.query)+" returned "+_1b2.length+" items, but must return exactly one item");
}
this.root=_1b2[0];
_1b0(this.root);
}),onError:_1b1});
}
},mayHaveChildren:function(item){
return _1ac.some(this.childrenAttrs,function(attr){
return this.store.hasAttribute(item,attr);
},this);
},getChildren:function(_1b3,_1b4,_1b5){
var _1b6=this.store;
if(!_1b6.isItemLoaded(_1b3)){
var _1b7=lang.hitch(this,arguments.callee);
_1b6.loadItem({item:_1b3,onItem:function(_1b8){
_1b7(_1b8,_1b4,_1b5);
},onError:_1b5});
return;
}
var _1b9=[];
for(var i=0;i<this.childrenAttrs.length;i++){
var vals=_1b6.getValues(_1b3,this.childrenAttrs[i]);
_1b9=_1b9.concat(vals);
}
var _1ba=0;
if(!this.deferItemLoadingUntilExpand){
_1ac.forEach(_1b9,function(item){
if(!_1b6.isItemLoaded(item)){
_1ba++;
}
});
}
if(_1ba==0){
_1b4(_1b9);
}else{
_1ac.forEach(_1b9,function(item,idx){
if(!_1b6.isItemLoaded(item)){
_1b6.loadItem({item:item,onItem:function(item){
_1b9[idx]=item;
if(--_1ba==0){
_1b4(_1b9);
}
},onError:_1b5});
}
});
}
},isItem:function(_1bb){
return this.store.isItem(_1bb);
},fetchItemByIdentity:function(_1bc){
this.store.fetchItemByIdentity(_1bc);
},getIdentity:function(item){
return this.store.getIdentity(item);
},getLabel:function(item){
if(this.labelAttr){
return this.store.getValue(item,this.labelAttr);
}else{
return this.store.getLabel(item);
}
},newItem:function(args,_1bd,_1be){
var _1bf={parent:_1bd,attribute:this.childrenAttrs[0]},_1c0;
if(this.newItemIdAttr&&args[this.newItemIdAttr]){
this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){
if(item){
this.pasteItem(item,null,_1bd,true,_1be);
}else{
_1c0=this.store.newItem(args,_1bf);
if(_1c0&&(_1be!=undefined)){
this.pasteItem(_1c0,_1bd,_1bd,false,_1be);
}
}
}});
}else{
_1c0=this.store.newItem(args,_1bf);
if(_1c0&&(_1be!=undefined)){
this.pasteItem(_1c0,_1bd,_1bd,false,_1be);
}
}
},pasteItem:function(_1c1,_1c2,_1c3,_1c4,_1c5){
var _1c6=this.store,_1c7=this.childrenAttrs[0];
if(_1c2){
_1ac.forEach(this.childrenAttrs,function(attr){
if(_1c6.containsValue(_1c2,attr,_1c1)){
if(!_1c4){
var _1c8=_1ac.filter(_1c6.getValues(_1c2,attr),function(x){
return x!=_1c1;
});
_1c6.setValues(_1c2,attr,_1c8);
}
_1c7=attr;
}
});
}
if(_1c3){
if(typeof _1c5=="number"){
var _1c9=_1c6.getValues(_1c3,_1c7).slice();
_1c9.splice(_1c5,0,_1c1);
_1c6.setValues(_1c3,_1c7,_1c9);
}else{
_1c6.setValues(_1c3,_1c7,_1c6.getValues(_1c3,_1c7).concat(_1c1));
}
}
},onChange:function(){
},onChildrenChange:function(){
},onDelete:function(){
},onNewItem:function(item,_1ca){
if(!_1ca){
return;
}
this.getChildren(_1ca.item,lang.hitch(this,function(_1cb){
this.onChildrenChange(_1ca.item,_1cb);
}));
},onDeleteItem:function(item){
this.onDelete(item);
},onSetItem:function(item,_1cc){
if(_1ac.indexOf(this.childrenAttrs,_1cc)!=-1){
this.getChildren(item,lang.hitch(this,function(_1cd){
this.onChildrenChange(item,_1cd);
}));
}else{
this.onChange(item);
}
}});
});
},"dijit/_MenuBase":function(){
define("dijit/_MenuBase",["./popup","dojo/window","./_Widget","./_KeyNavContainer","./_TemplatedMixin","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/_base/array"],function(pm,_1ce,_1cf,_1d0,_1d1,_1d2,dom,_1d3,_1d4,lang,_1d5){
return _1d2("dijit._MenuBase",[_1cf,_1d1,_1d0],{parentMenu:null,popupDelay:500,onExecute:function(){
},onCancel:function(){
},_moveToPopup:function(evt){
if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){
this.focusedChild._onClick(evt);
}else{
var _1d6=this._getTopMenu();
if(_1d6&&_1d6._isMenuBar){
_1d6.focusNext();
}
}
},_onPopupHover:function(){
if(this.currentPopup&&this.currentPopup._pendingClose_timer){
var _1d7=this.currentPopup.parentMenu;
if(_1d7.focusedChild){
_1d7.focusedChild._setSelected(false);
}
_1d7.focusedChild=this.currentPopup.from_item;
_1d7.focusedChild._setSelected(true);
this._stopPendingCloseTimer(this.currentPopup);
}
},onItemHover:function(item){
if(this.isActive){
this.focusChild(item);
if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){
this.hover_timer=setTimeout(lang.hitch(this,"_openPopup"),this.popupDelay);
}
}
if(this.focusedChild){
this.focusChild(item);
}
this._hoveredChild=item;
},_onChildBlur:function(item){
this._stopPopupTimer();
item._setSelected(false);
var _1d8=item.popup;
if(_1d8){
this._stopPendingCloseTimer(_1d8);
_1d8._pendingClose_timer=setTimeout(function(){
_1d8._pendingClose_timer=null;
if(_1d8.parentMenu){
_1d8.parentMenu.currentPopup=null;
}
pm.close(_1d8);
},this.popupDelay);
}
},onItemUnhover:function(item){
if(this.isActive){
this._stopPopupTimer();
}
if(this._hoveredChild==item){
this._hoveredChild=null;
}
},_stopPopupTimer:function(){
if(this.hover_timer){
clearTimeout(this.hover_timer);
this.hover_timer=null;
}
},_stopPendingCloseTimer:function(_1d9){
if(_1d9._pendingClose_timer){
clearTimeout(_1d9._pendingClose_timer);
_1d9._pendingClose_timer=null;
}
},_stopFocusTimer:function(){
if(this._focus_timer){
clearTimeout(this._focus_timer);
this._focus_timer=null;
}
},_getTopMenu:function(){
for(var top=this;top.parentMenu;top=top.parentMenu){
}
return top;
},onItemClick:function(item,evt){
if(typeof this.isShowingNow=="undefined"){
this._markActive();
}
this.focusChild(item);
if(item.disabled){
return false;
}
if(item.popup){
this._openPopup();
}else{
this.onExecute();
item.onClick(evt);
}
},_openPopup:function(){
this._stopPopupTimer();
var _1da=this.focusedChild;
if(!_1da){
return;
}
var _1db=_1da.popup;
if(_1db.isShowingNow){
return;
}
if(this.currentPopup){
this._stopPendingCloseTimer(this.currentPopup);
pm.close(this.currentPopup);
}
_1db.parentMenu=this;
_1db.from_item=_1da;
var self=this;
pm.open({parent:this,popup:_1db,around:_1da.domNode,orient:this._orient||["after","before"],onCancel:function(){
self.focusChild(_1da);
self._cleanUp();
_1da._setSelected(true);
self.focusedChild=_1da;
},onExecute:lang.hitch(this,"_cleanUp")});
this.currentPopup=_1db;
if(this.popupHoverHandle){
this.disconnect(this.popupHoverHandle);
}
this.popupHoverHandle=this.connect(_1db.domNode,"onmouseenter","_onPopupHover");
if(_1db.focus){
_1db._focus_timer=setTimeout(lang.hitch(_1db,function(){
this._focus_timer=null;
this.focus();
}),0);
}
},_markActive:function(){
this.isActive=true;
_1d4.replace(this.domNode,"dijitMenuActive","dijitMenuPassive");
},onOpen:function(){
this.isShowingNow=true;
this._markActive();
},_markInactive:function(){
this.isActive=false;
_1d4.replace(this.domNode,"dijitMenuPassive","dijitMenuActive");
},onClose:function(){
this._stopFocusTimer();
this._markInactive();
this.isShowingNow=false;
this.parentMenu=null;
},_closeChild:function(){
this._stopPopupTimer();
if(this.currentPopup){
if(_1d5.indexOf(this._focusManager.activeStack,this.id)>=0){
_1d3.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex);
this.focusedChild.focusNode.focus();
}
pm.close(this.currentPopup);
this.currentPopup=null;
}
if(this.focusedChild){
this.focusedChild._setSelected(false);
this.focusedChild._onUnhover();
this.focusedChild=null;
}
},_onItemFocus:function(item){
if(this._hoveredChild&&this._hoveredChild!=item){
this._hoveredChild._onUnhover();
}
},_onBlur:function(){
this._cleanUp();
this.inherited(arguments);
},_cleanUp:function(){
this._closeChild();
if(typeof this.isShowingNow=="undefined"){
this._markInactive();
}
}});
});
},"curam/omega3-util":function(){
define("curam/omega3-util",["dojo/dom-geometry","curam/util","curam/html","curam/GlobalVars","cm/_base/_dom","cm/_base/_form","curam/util/RuntimeContext","curam/util/ResourceBundle"],function(_1dc){
dojo.requireLocalization("curam.application","Debug");
var _1dd=new curam.util.ResourceBundle("Debug");
var _1de={getAnchorPosition:function(_1df){
var _1e0=false;
var _1e1=new Object();
var x=0;
var y=0;
x=AnchorPosition_getPageOffsetLeft(document.getElementById(_1df));
y=AnchorPosition_getPageOffsetTop(document.getElementById(_1df));
_1e1.x=x;
_1e1.y=y;
return _1e1;
},getAnchorWindowPosition:function(_1e2){
var _1e3=getAnchorPosition(_1e2);
var x=0;
var y=0;
if(isNaN(window.screenX)){
x=_1e3.x-document.body.scrollLeft+window.screenLeft;
y=_1e3.y-document.body.scrollTop+window.screenTop;
}else{
x=_1e3.x+window.screenX+(window.outerWidth-window.innerWidth)-window.pageXOffset;
y=_1e3.y+window.screenY+(window.outerHeight-24-window.innerHeight)-window.pageYOffset;
}
_1e3.x=x;
_1e3.y=y;
return _1e3;
},AnchorPosition_getPageOffsetLeft:function(el){
var ol=el.offsetLeft;
while((el=el.offsetParent)!=null){
ol+=el.offsetLeft;
}
return ol;
},AnchorPosition_getWindowOffsetLeft:function(el){
var _1e4=document.body.scrollLeft;
return AnchorPosition_getPageOffsetLeft(el)-_1e4;
},AnchorPosition_getPageOffsetTop:function(el){
var ot=el.offsetTop;
while((el=el.offsetParent)!=null){
ot+=el.offsetTop;
}
return ot;
},AnchorPosition_getWindowOffsetTop:function(el){
var _1e5=document.body.scrollTop;
return AnchorPosition_getPageOffsetTop(el)-_1e5;
},PopupMapping:function(name,_1e6){
this.name=name;
this.targetWidgetID=_1e6;
},openPopupFromCTCode:function(_1e7,_1e8,_1e9,_1ea){
var list=_1e9.parentNode.parentNode.parentNode.childNodes[0];
var _1eb=dijit.byNode(list);
if(_1eb){
var _1ec=_1eb.getValue();
}else{
var list=_1e9.parentNode.parentNode.parentNode.childNodes[1];
var _1ec=list.options[list.selectedIndex].value;
}
if(_1ec!=""){
if(curam.popupCTCodeMappings[_1ec]){
openPopupFromDomain(_1e7,_1e8,curam.popupCTCodeMappings[_1ec],_1ea,false);
}
}
},openPopupFromCTCodeNoDomain:function(_1ed,_1ee,_1ef,_1f0){
var list=_1ef.parentNode.parentNode.parentNode.childNodes[2];
var _1f1=dijit.byNode(list);
var _1f2;
var _1f3;
var _1f4;
var _1f5;
var _1f6;
var _1f7;
var _1f8;
var _1f9;
if(_1f1){
var _1fa=_1f1.getValue();
}else{
var list=_1ef.parentNode.parentNode.parentNode.childNodes[1];
var _1fa=list.options[list.selectedIndex].value;
}
if(_1fa!=""){
if(curam.popupCTCodeMappings[_1fa]){
_1f2=getPopupProperties(curam.popupCTCodeMappings[_1fa]);
_1f3=_1f2.pageID;
_1f4=_1f2.createPageID;
_1f5=_1f2.height;
_1f6=_1f2.width;
_1f7=_1f2.scrollBars;
_1f8=_1f2.insertMode;
_1f9=_1f2.codeTableCode;
var _1fb=_1f2.uimType;
if(_1fb=="DYNAMIC"){
openPopup(_1ed,_1ee,null,_1f3,_1f4,_1f6,_1f5,_1f7,_1f8,null,null,_1f0,false);
}
}
}
},openPopupFromDomain:function(_1fc,_1fd,_1fe,_1ff,_200){
var _201=getPopupProperties(_1fe);
var _202=_201.pageID;
var _203=_201.createPageID;
var _204=_201.height;
var _205=_201.width;
var _206=_201.scrollBars;
var _207=_201.insertMode;
var _208=_201.codeTableCode;
openPopup(_1fc,_1fd,_1fe,_202,_203,_205,_204,_206,_207,_208,_1ff,_200);
},openPopupNoDomain:function(_209,_20a,_20b,_20c,_20d,_20e,_20f,_210,_211,_212){
openPopup(_209,_20a,null,_20b,_20c,_20d,_20e,_20f,_210,null,null,_211,_212);
},openPopup:function(_213,_214,_215,_216,_217,_218,_219,_21a,_21b,_21c,_21d,_21e){
setMappingsLoaded(_214);
var _21f=getAnchorWindowPosition(_213);
_21f.y=_21f.y+25;
if(_21f.x+_218>screen.availWidth){
_21f.x-=(_21f.x+_218)-screen.availWidth;
_21f.x-=15;
}
if(_21f.y+_219>screen.availHeight){
_21f.y-=(_21f.y+_219)-screen.availHeight;
_21f.y-=35;
}
if(curam.popupWindow&&!curam.popupWindow.closed){
curam.popupWindow.close();
}
curam.currentPopupInstanceName=_214;
curam.currentPopupProps=setPopupProperties(_216,_215,_21c,_218,_219,_21a,_217,_21b,null);
var ctx=jsScreenContext;
ctx.addContextBits("POPUP");
ctx.clear("TAB|TREE|AGENDA");
var url="";
if(_21e==true){
url=_217;
}else{
url=_216;
}
if(_21d&&_21d.length>0){
url=url+"?"+_21d;
url+="&";
}else{
url+="?";
}
url+=ctx.toRequestString();
if(window.curam.util.showModalDialog){
curam.util.showModalDialog(url,null,_218,_219,_21f.x,_21f.y,false,null,null);
}else{
curam.popupWindow=window.open(url,createWindowName(curam.currentPopupInstanceName),getPopupAttributes(_218,_219,_21a)+"screenX="+_21f.x+",left="+_21f.x+",screenY="+_21f.y+","+"top="+_21f.y);
}
},addPopupMapping:function(_220,_221,_222){
var _223=curam.popupMappingRepository;
if(curam.popupMappingLoaded[_220]==true){
return;
}
if(_223[_220]==null){
_223[_220]=[];
_223[_220][_221]=[];
_223[_220][_221][0]=_222;
}else{
if(_223[_220][_221]==null){
_223[_220][_221]=[];
_223[_220][_221][0]=_222;
}else{
var _224=_223[_220][_221].length;
_223[_220][_221][_224]=_222;
}
}
},setMappingsLoaded:function(_225){
curam.popupMappingLoaded[_225]=true;
},executeMapping:function(_226,_227){
var pmr=curam.popupMappingRepository;
var cpin=curam.currentPopupInstanceName;
if(!pmr||!pmr[cpin]||pmr[cpin][_226]==null){
return;
}
for(var i=0;i<pmr[cpin][_226].length;i++){
var _228=null;
_228=dojo.byId(pmr[cpin][_226][i]);
if(_228.tagName=="SPAN"){
_228.innerHTML=curam.html.splitWithTag(_227,null,null,escapeXML);
_228.setAttribute("title",_227);
_228._reposition=_228._reposition||dojo.query("div",_228).length>0;
if(_228._reposition){
var _229=cm.nextSibling(_228,"span");
if(_229){
var _22a=_1dc.getMarginBoxSimple(_228).h;
var _22b=_1dc.getMarginBoxSimple(_229).h;
dojo.style(_229,"position","relative");
var diff=_22a-_22b-((dojo.isIE&&dojo.isIE<9)?2:0);
dojo.style(_229,"bottom","-"+(diff)+"px");
}
}
}else{
if(_228.tagName=="TEXTAREA"){
if(curam.currentPopupProps.insertMode=="insert"){
insertAtCursor(_228,escapeXML(_227));
}else{
if(curam.currentPopupProps.insertMode=="append"){
_228.value+=_227;
}else{
_228.value=_227;
}
}
}else{
if(dijit.byId(pmr[cpin][_226][i])){
dijit.byId(pmr[cpin][_226][i]).set("value",_227);
_228.value=_227;
}else{
_228.value=_227;
}
}
}
}
},insertAtCursor:function(_22c,_22d){
if(document.selection){
_22c.focus();
sel=document.selection.createRange();
sel.text=_22d;
}else{
if(_22c.selectionStart||_22c.selectionStart=="0"){
var _22e=_22c.selectionStart;
var _22f=_22c.selectionEnd;
_22c.value=_22c.value.substring(0,_22e)+_22d+_22c.value.substring(_22f,_22c.value.length);
}else{
_22c.value+=_22d;
}
}
},escapeXML:function(_230){
return _230.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/"/g,"&#34;").replace(/'/g,"&#39;");
},executeOpenerMapping:function(_231,_232){
var _233=undefined;
if(curam.util.isModalWindow()){
_233=curam.dialog.getParentWindow(window);
}else{
if(window.dialogArguments){
_233=window.dialogArguments[0];
}
}
if((_233)&&(!_233.closed)){
_233.executeMapping(_231,_232);
}else{
curam.debug.log("curam.omega3-util.executeOpenerMapping:, "+_1dd.getProperty("curam.omega3-util.parent"));
}
},storePopupInputFromWidget:function(name,_234){
var _235=null;
_235=dojo.byId(_234).value;
if(_235){
curam.popupInputs[name]=_235;
}else{
curam.popupInputs[name]="";
}
},getPopupInput:function(name){
if(curam.popupInputs[name]!=null){
return curam.popupInputs[name];
}else{
return "";
}
},PopupProperties:function(_236,_237,_238,_239,_23a,_23b,_23c){
this.width=_237;
this.height=_238;
this.scrollBars=_239;
this.pageID=_236;
this.createPageID=_23a;
if(_23b==null){
this.insertMode="overwrite";
}else{
this.insertMode=_23b;
}
if(_23c!=null){
this.uimType=_23c;
}
},setPopupProperties:function(_23d,_23e,_23f,_240,_241,_242,_243,_244,_245){
if(_23f){
curam.popupCTCodeMappings[_23f]=_23e;
}
curam.popupPropertiesRepository[_23e]=new PopupProperties(_23d,_240,_241,_242,_243,_244,_245);
},getPopupAttributes:function(_246,_247,_248){
var _249="width="+_246+","+"height="+_247+","+"scrollbars="+(_248?"yes":"no")+",";
return _249;
},getPopupAttributesIEModal:function(_24a){
var _24b="dialogWidth:"+curam.popupPropertiesRepository[_24a].width+"px;"+"dialogHeight:"+curam.popupPropertiesRepository[_24a].height+"px;";
return _24b;
},trimFileExtension:function(_24c){
var _24d=_24c.lastIndexOf("/")+1;
if(_24d==-1){
_24d=_24c.lastIndexOf("\\")+1;
}
if(_24d==-1){
_24d=0;
}
return _24c.substring(_24d,_24c.lastIndexOf("."));
},getPopupProperties:function(_24e){
return curam.popupPropertiesRepository[_24e];
},validateDate:function(_24f){
require(["curam/validation"]);
return curam.validation.validateDate(_24f).valid;
},addStartDate:function(_250){
require(["curam/validation"]);
var _251=dojo.byId("startDate").value;
var _252=curam.validation.validateDate(_251);
if(_252.valid){
var _253=dojo.byId("gotoDate");
_253.href=curam.util.replaceUrlParam(_253.href,"startDate",_251);
return true;
}else{
require(["curam/validation/calendar"],function(){
alert(curam.validation.calendar.invalidGotoDateEntered.replace("%s",_251).replace("%s",jsDFs));
});
dojo.stopEvent(_250);
return false;
}
},checkEnter:function(_254){
if(_254.keyCode==13){
if(addStartDate(_254)){
var _255=dojo.byId("gotoDate");
window.location=_255.href;
return true;
}
return false;
}
return true;
},createWindowName:function(_256){
var _257=new String("");
for(var i=0;i<_256.length;i++){
var ch=_256.charAt(i);
if(ch=="$"||ch=="."){
_257+="_";
}else{
_257+=ch;
}
}
return _257;
},clearPopup:function(_258,_259){
var _25a=_258.id.substring(0,_258.id.indexOf("_clear"));
var _25b=_25a+"_value";
var _25c=_25a+"_desc";
var _25d=_25a+"_deschf";
var _25e=dojo.byId(_25b);
if(_25e){
if(_25e.tagName=="INPUT"){
_25e.value="";
}else{
if(_25e.tagName=="TEXTAREA"){
_25e.value="";
}
}
if(_25e.tagName=="SPAN"){
_25e.innerHTML=curam.POPUP_EMPTY_SPAN_VALUE;
}
}
var _25f=dojo.byId(_25c);
if(_25f){
if(_25f.tagName=="INPUT"){
_25f.value="";
}else{
if(_25f.tagName=="TEXTAREA"){
_25f.value="";
}else{
if(_25f.tagName=="SPAN"){
_25f.innerHTML=curam.POPUP_EMPTY_SPAN_VALUE;
_25f.removeAttribute("title");
}
}
}
}
var _260=dojo.byId(_25d);
if(_260){
if(_260.tagName=="INPUT"){
_260.value="";
}else{
_260.innerHTML="&nbsp";
}
}
if(_259){
_259=dojo.fixEvent(_259);
dojo.stopEvent(_259);
}
return false;
},swapImage:function(_261,_262){
dojo.byId(_261).src=_262;
},appendTabColumn:function(_263,_264){
var _265;
var _266=[];
dojo.query("input[name='"+_263+"']").filter(function(_267){
return _267.checked;
}).forEach(function(_268){
_266.push(_268.value);
});
_265=_266.join("\t");
_264.href=_264.href+(_264.href.indexOf("?")==-1?"?":"&");
if(_265!=""){
_264.href=_264.href+_263+"="+encodeURIComponent(_265);
}else{
_264.href=_264.href+_263+"=";
}
},ToggleAll:function(e,_269){
dojo.query("input[name='"+_269+"']").forEach(function(_26a){
if(_26a.checked===true){
_26a.checked=false;
}else{
_26a.checked=true;
}
});
},ToggleSelectAll:function(e,_26b){
if(e.checked){
CheckAll(_26b);
}else{
ClearAll(_26b);
}
},CheckAll:function(_26c){
dojo.query("input[name='"+_26c+"']").forEach(function(_26d){
_26d.checked=true;
});
},ClearAll:function(_26e){
dojo.query("input[name='"+_26e+"']").forEach(function(_26f){
_26f.checked=false;
});
},Check:function(e){
e.checked=true;
},Clear:function(e){
e.checked=false;
},ChooseSelectAll:function(e,_270,_271){
var sAll=dojo.byId(_270);
if(sAll){
if(dojo.query("input[name='"+_271+"']").every("return item.checked")){
Check(sAll);
}else{
Clear(sAll);
}
}
},selectAllIfNeeded:function(_272,_273){
if(dojo.query("input[name='"+_273+"']").some("return !item.checked")){
return;
}
var sAll=dojo.byId(_272);
if(sAll){
Check(sAll);
}
},CopyToClipboard:function(txt){
if(window.clipboardData){
clipboardData.clearData();
clipboardData.setData("Text",txt);
window.status="pasted";
window.status="";
}
},dc:function(_274,_275,_276){
if(cm.wasFormSubmitted(_274)){
var evt=dojo.fixEvent(_276);
dojo.stopEvent(evt);
return false;
}
cm.setFormSubmitted(_274,1);
return true;
},setFocus:function(){
curam.util.setFocus();
},setParentFocus:function(_277){
curam.debug.log("curam.omega3-util.setParentFocus: "+_1dd.getProperty("curam.omega3-util.called"));
var _278=curam.dialog.getParentWindow(window);
if(!_278.closed){
_278.focus();
}else{
alert("The parent window has been closed");
}
if(_277||window.event){
dojo.stopEvent(_277||window.event);
}
curam.dialog.closeModalDialog();
},createElement:function(name,_279,_27a,text){
var e=dojo.create(name,_279);
if(_27a){
for(key in _27a){
e.style[key]=_27a[key];
}
}
if(text){
e.appendChild(document.createTextNode(text));
}
return e;
},getParentWin:function(){
return curam.dialog.getParentWindow(window);
},addQuestionsFromPopup:function(evt){
evt=dojo.fixEvent(evt);
dojo.stopEvent(evt);
if(window._questionsAdded){
return;
}
window._questionsAdded=true;
var _27b=getParentWin();
var _27c=dojo.query("INPUT");
var _27d=[];
dojo.query("INPUT[type='checkbox']").forEach(function(item){
if(item.checked&&item.id.indexOf("__o3mswa")<0){
_27d.push(item.value);
}
});
var _27e=dojo.toJson(_27d);
_27b.newQuestions=_27e;
_27b.curam.matrix.Constants.container.matrix.addQuestionsFromPopup();
curam.dialog.closeModalDialog();
return false;
},addOutcomesFromPopup:function(evt){
evt=dojo.fixEvent(evt);
dojo.stopEvent(evt);
if(window._outcomesAdded){
return;
}
window._outcomesAdded=true;
var _27f=[];
dojo.query("INPUT[type='checkbox']").forEach(function(item){
if(item.checked&&item.id.indexOf("__o3mswa")<0){
_27f.push(item.value);
}
});
getParentWin().curam.matrix.Constants.container.matrix.addOutcomesFromPopup(_27f);
curam.dialog.closeModalDialog();
return false;
},addMatrixQuestionsPopupListener:function(){
addMatrixPopupListener(addQuestionsFromPopup);
},addMatrixOutcomesPopupListener:function(){
addMatrixPopupListener(addOutcomesFromPopup);
},addMatrixPopupListener:function(fn){
dojo.query("form").connect("onsubmit",fn);
},getRequestParams:function(_280){
var _281=[];
var uri=new dojo._Url(_280);
if(uri.query!=null){
var _282=uri.query.split("&");
for(var i=0;i<_282.length;i++){
var arr=_282[i].split("=");
_281[arr[0]]=arr[1];
}
}
return _281;
},openModalDialog:function(_283,_284,left,top){
curam.util.openModalDialog(_283,_284,left,top);
},initCluster:function(_285){
var _286=_285.parentNode;
var _287=dojo.query("div.toggle-group",_286);
if(_287.length>=1){
return _287[0];
}
var next=cm.nextSibling(_285,"p")||cm.nextSibling(_285,"table");
if(!next){
return;
}
_287=dojo.create("div",{"class":"toggle-group"},next,"before");
var arr=[];
var _288=dojo.query("p.description",_285)[0];
if(_288){
arr.push(_288);
var _289=dojo.style(_285,"marginBottom");
dojo.style(_285,"marginBottom",0);
dojo.style(_288,"marginBottom",_289+"px");
}
var _28a=_286;
while(_28a&&!(dojo.hasClass(_28a,"cluster")||dojo.hasClass(_28a,"list"))){
_28a=_28a.parentNode;
}
_287.isClosed=dojo.hasClass(_28a,"uncollapse")?true:false;
if(_287.isClosed){
dojo.style(_287,"display","none");
}
for(var _28b=0;_28b<_286.childNodes.length;_28b++){
if(_286.childNodes[_28b]==_285||_286.childNodes[_28b]==_287){
continue;
}
arr.push(_286.childNodes[_28b]);
}
for(var _28b=0;_28b<arr.length;_28b++){
_287.appendChild(arr[_28b]);
}
return _287;
},initClusterHeight:function(_28c,_28d,_28e){
if(_28c.correctHeight){
return;
}
var _28f=dojo._getBorderBox(_28d).h;
var _290=0,_291;
for(var _292=0;_292<_28c.childNodes.length;_292++){
_291=_28c.childNodes[_292];
if(_291==_28d){
continue;
}
_290+=dojo._getBorderBox(_291).h;
}
if(_290==0){
return;
}
if(_28e){
dojo.style(_28d.parentNode,"height","");
}
_28c.correctHeight=_290;
},getCursorPosition:function(e){
e=e||dojo.global().event;
var _293={x:0,y:0};
if(e.pageX||e.pageY){
_293.x=e.pageX;
_293.y=e.pageY;
}else{
var de=dojo.doc().documentElement;
var db=dojo.body();
_293.x=e.clientX+((de||db)["scrollLeft"])-((de||db)["clientLeft"]);
_293.y=e.clientY+((de||db)["scrollTop"])-((de||db)["clientTop"]);
}
return _293;
},overElement:function(_294,e){
_294=dojo.byId(_294);
var _295=getCursorPosition(e);
var bb=dojo._getBorderBox(_294);
var _296=dojo._abs(_294,true);
var top=_296.y;
var _297=top+bb.h;
var left=_296.x;
var _298=left+bb.w;
return (_295.x>=left&&_295.x<=_298&&_295.y>=top&&_295.y<=_297);
},toggleCluster:function(_299,_29a){
var _29b=_299;
while(_299&&!(dojo.hasClass(_299,"cluster")||dojo.hasClass(_299,"list"))){
_299=_299.parentNode;
}
var _29c=false;
var _29d=dojo.query(" > :not(.header-wrapper) ",_299.childNodes[0]);
if(!dojo.hasClass(_29d[0],"toggleDiv")){
var _29e=dojo.create("div",{className:"toggleDiv"},_29d[0].parentNode);
var _29f=dojo.create("div",{className:"toggleDiv2"},_29d[0].parentNode);
_29d.forEach(function(node){
if(node.tagName!="DIV"){
_29e.appendChild(node);
}else{
_29f.appendChild(node);
}
});
}else{
var _29e=_29d[0];
var _29f=_29d[1];
}
var desc=dojo.query(" > .header-wrapper p ",_299.childNodes[0])[0];
if(typeof desc!="undefined"){
_29c=true;
}
if(dojo.hasClass(_299,"init-collapsed")){
dojo.removeClass(_299,"init-collapsed");
dojo.style(_29e,"display","none");
}
if(!_29e||_29e.inAnimation){
return;
}
require(["dojo/fx"],function(fx){
var _2a0={node:_29e,duration:600,onBegin:function(){
_29e.inAnimation=true;
dojo.removeClass(_299,"is-collapsed");
dojo.addClass(_299,"is-uncollapsed");
dojo.attr(_29b,"aria-expanded","true");
dojo.stopEvent(_29a);
},onEnd:function(){
_29e.inAnimation=false;
}};
var _2a1={node:_29e,duration:600,onBegin:function(){
_29e.inAnimation=true;
dojo.removeClass(_299,"is-uncollapsed");
dojo.addClass(_299,"is-collapsed");
dojo.attr(_29b,"aria-expanded","false");
dojo.stopEvent(_29a);
},onEnd:function(){
_29e.inAnimation=false;
}};
if(_29f.hasChildNodes()){
var _2a2={node:_29f,duration:600};
var _2a3={node:_29f,duration:600};
}
if(_29c){
var _2a4={node:desc,duration:100};
var _2a5={node:desc,duration:100,delay:500};
}
if(dojo.hasClass(_299,"is-collapsed")){
if(typeof _2a4!="undefined"){
fx.wipeIn(_2a4).play();
}
fx.wipeIn(_2a0).play();
if(typeof _2a2!="undefined"){
fx.wipeIn(_2a2).play();
}
}else{
if(dojo.hasClass(_299,"is-uncollapsed")){
if(typeof _2a3!="undefined"){
fx.wipeOut(_2a3).play();
}
fx.wipeOut(_2a1).play();
if(typeof _2a5!="undefined"){
fx.wipeOut(_2a5).play();
}
}else{
curam.debug.log("The cluster does not have a class name indicating"+"its collapsed/uncollapsed state");
}
}
});
},disableClusterToggle:function(node){
dojo.addOnLoad(function(){
node=dojo.byId(node);
var body=dojo.body();
while(node&&node!=body){
if(dojo.hasClass(node,"is-collapsed")||dojo.hasClass(node,"is-uncollapsed")){
dojo.removeClass(node,"is-collapsed");
dojo.removeClass(node,"is-uncollapsed");
dojo.removeAttr(dojo.query("SPAN.grouptoggleArrow",node)[0],"onclick");
}
node=node.parentNode;
}
});
},openUserPrefsEditor:function(_2a6){
_2a6=dojo.fixEvent(_2a6);
var _2a7=_2a6.target;
while(_2a7&&_2a7.tagName!="A"){
_2a7=_2a7.parentNode;
}
var _2a8={location:{href:_2a7.href}};
var rtc=new curam.util.RuntimeContext(_2a8);
var href=curam.util.setRpu("user-locale-selector.jspx",rtc);
openModalDialog({href:href},"width=500,height=300",200,150,false);
return false;
},calendarOpenModalDialog:function(_2a9,_2aa){
dojo.stopEvent(_2a9);
curam.util.openModalDialog(_2aa,"");
}};
for(prop in _1de){
dojo.global[prop]=_1de[prop];
}
return _1de;
});
},"curam/dialog":function(){
define("curam/dialog",["curam/util","curam/debug","curam/util/Refresh","curam/tab","curam/util/RuntimeContext","curam/define","curam/util/onLoad","cm/_base/_dom","curam/util/ResourceBundle"],function(util,_2ab){
dojo.requireLocalization("curam.application","Debug");
var _2ac=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.dialog",{MODAL_PREV_FLAG:"o3modalprev",MODAL_PREV_FLAG_INPUT:"curam_dialog_prev_marker",FORCE_CLOSE:false,ERROR_MESSAGES_HEADER:"error-messages-header",_hierarchy:[],_id:null,_displayedHandlerUnsToken:null,_displayed:false,_size:null,_justClose:false,validTargets:{"_top":true,"_self":true},initModal:function(_2ad,_2ae){
curam.dialog.pageId=_2ad;
curam.dialog.messagesExist=_2ae;
var _2af=util.getTopmostWindow();
var _2b0=false;
var _2b1=_2af.dojo.subscribe("/curam/dialog/SetId",this,function(_2b2){
_2ab.log("curam.dialog: "+_2ac.getProperty("curam.dialog.id"),_2b2);
curam.dialog._id=_2b2;
_2b0=true;
_2af.dojo.unsubscribe(_2b1);
});
_2af.dojo.publish("/curam/dialog/init");
if(!_2b0){
_2ab.log("curam.dialog: "+_2ac.getProperty("curam.dialog.no.id"));
_2af.dojo.unsubscribe(_2b1);
}
if(curam.dialog.closeDialog(false)){
return;
}
curam.dialog._displayedHandlerUnsToken=util.getTopmostWindow().dojo.subscribe("/curam/dialog/displayed",null,function(_2b3,size){
if(_2b3==curam.dialog._id){
curam.dialog._displayed=true;
curam.dialog._size=size;
util.getTopmostWindow().dojo.unsubscribe(curam.dialog._displayedHandlerUnsToken);
curam.dialog._displayedHandlerUnsToken=null;
}
});
if(jsScreenContext.hasContextBits("AGENDA")||jsScreenContext.hasContextBits("TREE")){
dojo.addOnUnload(function(){
util.getTopmostWindow().dojo.unsubscribe(curam.dialog._displayedHandlerUnsToken);
curam.dialog._displayedHandlerUnsToken=null;
});
}
dojo.addOnLoad(function(){
util.connect(dojo.body(),"onclick",curam.dialog.modalEventHandler);
for(var i=0;i<document.forms.length;i++){
var form=document.forms[i];
curam.dialog.addFormInput(form,"hidden","o3frame","modal");
var _2b4=dojo.byId("o3ctx");
var sc=new curam.util.ScreenContext(jsScreenContext.getValue());
sc.addContextBits("ACTION|ERROR");
_2b4.value=sc.getValue();
util.connect(form,"onsubmit",curam.dialog.formSubmitHandler);
}
window.curamModal=true;
});
dojo.addOnUnload(function(){
util.getTopmostWindow().dojo.publish("/curam/dialog/iframeUnloaded",[curam.dialog._id,window]);
});
if(_2b0){
dojo.publish("/curam/dialog/ready");
}
},closeDialog:function(_2b5){
if(_2b5){
curam.dialog.forceClose();
}
var _2b6=curam.dialog.checkClose(curam.dialog.pageId);
if(_2b6){
util.onLoad.addPublisher(function(_2b7){
_2b7.modalClosing=true;
});
if(curam.dialog.messagesExist){
dojo.addOnLoad(function(){
var _2b8=dojo.byId(util.ERROR_MESSAGES_CONTAINER);
var _2b9=dojo.byId(util.ERROR_MESSAGES_LIST);
var _2ba=dojo.byId(curam.dialog.ERROR_MESSAGES_HEADER);
if(_2b9&&_2ba){
util.saveInformationalMsgs(_2b6);
util.disableInformationalLoad();
}else{
_2b6();
}
});
}else{
_2b6();
}
return true;
}
return false;
},addFormInput:function(form,type,name,_2bb){
return dojo.create("input",{"type":type,"name":name,"value":_2bb},form);
},checkClose:function(_2bc){
if(curam.dialog._justClose){
return function(){
curam.dialog.closeModalDialog();
};
}
var _2bd=curam.dialog.getParentWindow(window);
if(!_2bd){
return false;
}
var href=window.location.href;
var _2be=curam.dialog.MODAL_PREV_FLAG;
var _2bf=util.getUrlParamValue(href,_2be);
var _2c0=true;
if(_2bf){
if(_2bd){
if(_2bf==_2bc){
_2c0=false;
}
}
}else{
_2c0=false;
}
var _2c1=util.getUrlParamValue(href,"o3ctx");
if(_2c1){
var sc=new curam.util.ScreenContext();
sc.setContext(_2c1);
if(sc.hasContextBits("TREE|ACTION")){
_2c0=false;
}
}
if(_2c0||curam.dialog.FORCE_CLOSE){
if(!curam.dialog.FORCE_CLOSE){
if(_2bf=="user-prefs-editor"){
return function(){
if(_2bd&&_2bd.location!==util.getTopmostWindow().location){
curam.dialog.doRedirect(_2bd);
}
curam.dialog.closeModalDialog();
};
}
return function(){
var rp=util.removeUrlParam;
href=rp(rp(rp(href,_2be),"o3frame"),util.PREVENT_CACHE_FLAG);
href=util.adjustTargetContext(_2bd,href);
if(_2bd&&_2bd.location!==util.getTopmostWindow().location){
curam.dialog.doRedirect(_2bd,href,true);
}else{
curam.tab.getTabController().handleLinkClick(href);
}
curam.dialog.closeModalDialog();
};
}else{
return function(){
if(_2bd!==util.getTopmostWindow()){
_2bd.curam.util.loadInformationalMsgs();
}
curam.dialog.closeModalDialog();
};
}
}
return false;
},getParentWindow:function(_2c2){
if(!_2c2){
_2ab.log("curam.dialog.getParentWindow(): "+_2ac.getProperty("curam.dialog.no.child"),window);
_2ab.log("returning as parent = ",window.parent.location.href);
return window.parent;
}
_2ab.log("curam.dialog.getParentWindow(): "+_2ac.getProperty("curam.dialog.child"),_2c2.location.href);
var _2c3=curam.dialog._getDialogHierarchy();
for(var i=0;i<_2c3.length;i++){
if(_2c3[i]==_2c2){
var _2c4=(i>0)?_2c3[i-1]:_2c3[0];
_2ab.log("curam.dialog.getParentWindow(): "+_2ac.getProperty("curam.dialog.parent.window"),_2c4);
return _2c4;
}
}
_2ab.log("curam.dialog.getParentWindow(): "+_2ac.getProperty("curam.dialog.child.not.found"),_2c2.location.href);
_2ab.log("curam.dialog.getParentWindow(): "+_2ac.getProperty("curam.dialog.hierarchy"),_2c3);
var ret=_2c3.length>0?_2c3[_2c3.length-1]:undefined;
_2ab.log("curam.dialog.getParentWindow(): "+_2ac.getProperty("curam.dialog.returning.parent"),ret?ret.location.href:"undefined");
return ret;
},_getDialogHierarchy:function(){
var _2c5=util.getTopmostWindow();
_2c5.require(["curam/dialog"]);
return _2c5.curam.dialog._hierarchy;
},pushOntoDialogHierarchy:function(_2c6){
var _2c7=curam.dialog._getDialogHierarchy();
if(dojo.indexOf(_2c7,_2c6)<0){
_2c7.push(_2c6);
_2ab.log(_2ac.getProperty("curam.dialog.add.hierarchy"),_2c6.location.href);
_2ab.log(_2ac.getProperty("curam.dialog.full.hierarchy"),_2c7);
}
},removeFromDialogHierarchy:function(_2c8){
var _2c9=curam.dialog._getDialogHierarchy();
if(!_2c8||_2c9[_2c9.length-1]==_2c8){
_2c9.pop();
}else{
_2ab.log("curam.dialog.removeFromDialogHierarchy(): "+_2ac.getProperty("curam.dialog.ignore.request"));
try{
_2ab.log(_2c8.location.href);
}
catch(e){
_2ab.log(e.message);
}
}
},stripPageOrActionFromUrl:function(url){
var idx=url.lastIndexOf("Page.do");
var len=7;
if(idx<0){
idx=url.lastIndexOf("Action.do");
len=9;
}
if(idx<0){
idx=url.lastIndexOf("Frame.do");
len=8;
}
if(idx>-1&&idx==url.length-len){
return url.substring(0,idx);
}
return url;
},_isSameBaseUrl:function(href,rtc,_2ca){
if(href&&href.indexOf("#")==0){
return true;
}
var _2cb=href.split("?");
var _2cc=rtc.getHref().split("?");
if(_2cb[0].indexOf("/")<0){
var _2cd=_2cc[0].split("/");
_2cc[0]=_2cd[_2cd.length-1];
}
if(_2cc[0].indexOf("/")<0){
var _2cd=_2cb[0].split("/");
_2cb[0]=_2cd[_2cd.length-1];
}
if(_2ca&&_2ca==true){
_2cb[0]=curam.dialog.stripPageOrActionFromUrl(_2cb[0]);
_2cc[0]=curam.dialog.stripPageOrActionFromUrl(_2cc[0]);
}
if(_2cb[0]==_2cc[0]){
return true;
}
return false;
},modalEventHandler:function(_2ce){
curam.dialog._doHandleModalEvent(_2ce,new curam.util.RuntimeContext(window),curam.dialog.closeModalDialog,curam.dialog.doRedirect);
},_doHandleModalEvent:function(e,rtc,_2cf,_2d0){
var _2d1=e.target;
var u=util;
switch(_2d1.tagName){
case "INPUT":
if(dojo.attr(_2d1,"type")=="submit"&&typeof _2d1.form!="undefined"){
_2d1.form.setAttribute("keepModal",_2d1.getAttribute("keepModal"));
}
return true;
case "IMG":
case "SPAN":
case "DIV":
_2d1=cm.getParentByType(_2d1,"A");
if(_2d1==null){
return;
}
case "A":
if(_2d1._submitButton){
_2d1._submitButton.form.setAttribute("keepModal",_2d1._submitButton.getAttribute("keepModal"));
return;
}
break;
default:
return true;
}
var _2d2=dojo.stopEvent;
var href=_2d1.getAttribute("href");
if(href==""){
_2cf();
return false;
}
if(href.indexOf("javascript")==0){
return false;
}
var ctx=jsScreenContext;
ctx.addContextBits("MODAL");
if(!href){
return false;
}
var _2d3=_2d1.getAttribute("target");
if(_2d3&&!curam.dialog.validTargets[_2d3]){
return true;
}
if(href&&href.indexOf("/servlet/FileDownload?")>-1){
var _2d4=dojo.create("iframe",{src:href},dojo.body());
_2d4.style.display="none";
_2d2(e);
return false;
}
if(dojo.hasClass(_2d1,"external-link")){
return true;
}
if(util.isSameUrl(href,null,rtc)){
if(href.indexOf("#")<0){
href=u.replaceUrlParam(href,"o3frame","modal");
href=u.replaceUrlParam(href,"o3ctx",ctx.getValue());
_2d0(window,href);
return false;
}
return true;
}
if(href&&curam.dialog._isSameBaseUrl(href,rtc,true)&&!_2d1.getAttribute("keepModal")){
_2d1.setAttribute("keepModal","true");
}
var _2d5=curam.dialog.getParentWindow(rtc.contextObject());
if(_2d1&&_2d1.getAttribute){
_2d2(e);
if(_2d1.getAttribute("keepModal")=="true"){
href=u.replaceUrlParam(href,"o3frame","modal");
href=u.replaceUrlParam(href,"o3ctx",ctx.getValue());
_2d0(window,href);
}else{
if(_2d5){
href=u.removeUrlParam(href,"o3frame");
href=u.removeUrlParam(href,curam.dialog.MODAL_PREV_FLAG);
if(_2d5.location!==util.getTopmostWindow().location){
var _2d6=new curam.util.RuntimeContext(_2d5);
var _2d7=_2d6.getHref();
_2d7=u.removeUrlParam(_2d7,"o3frame");
if(util.isActionPage(_2d7)){
if(!curam.dialog._isSameBaseUrl(href,_2d6,true)){
href=u.adjustTargetContext(_2d5,href);
_2d0(_2d5,href);
}
}else{
if(!util.isSameUrl(href,_2d7)){
href=u.adjustTargetContext(_2d5,href);
curam.dialog.doRedirect(_2d5,href);
}
}
}else{
var _2d8=new curam.util.ScreenContext("TAB");
href=u.replaceUrlParam(href,"o3ctx",_2d8.getValue());
curam.tab.getTabController().handleLinkClick(href);
}
_2cf();
}
}
return false;
}
if(_2d5&&typeof (_2d1)=="undefined"||_2d1==null||_2d1=="_self"||_2d1==""){
_2d2(e);
href=href.replace(/[&?]o3frame=modal/g,"").replace("%3Fo3frame%3Dmodal","").replace("?o3frame%3Dmodal","");
href=util.updateCtx(href);
if(_2d5.location!==util.getTopmostWindow().location){
_2d0(_2d5,href);
}else{
var _2d8=new curam.util.ScreenContext("TAB");
href=u.replaceUrlParam(href,"o3ctx",_2d8.getValue());
curam.tab.getTabController().handleLinkClick(href);
}
_2cf();
return false;
}
return true;
},formSubmitHandler:function(e){
var _2d9=curam.dialog.getParentWindow(window);
if(typeof _2d9=="undefined"){
return true;
}
e.target.method="post";
e.target.setAttribute("target",window.name);
var _2da=e.target.action;
var _2db=curam.dialog.MODAL_PREV_FLAG;
var _2dc=curam.dialog.MODAL_PREV_FLAG_INPUT;
var u=util;
var _2dd=dojo.byId(_2dc);
if(_2dd){
_2dd.parentNode.removeChild(_2dd);
}
if(e.target.getAttribute("keepModal")!="true"&&!jsScreenContext.hasContextBits("AGENDA")){
var _2de="multipart/form-data";
if(e.target.enctype==_2de||e.target.encoding==_2de){
e.target.action=u.removeUrlParam(_2da,_2db);
_2dd=curam.dialog.addFormInput(e.target,"hidden",_2db,curam.dialog.pageId);
_2dd.setAttribute("id",_2dc);
_2dd.id=_2dc;
}else{
e.target.action=u.replaceUrlParam(_2da,_2db,curam.dialog.pageId);
}
}else{
e.target.action=u.removeUrlParam(_2da,_2db);
}
_2d9.curam.util.invalidatePage();
if(!jsScreenContext.hasContextBits("EXTAPP")){
util.firePageSubmittedEvent("dialog");
}
return true;
},forceClose:function(){
curam.dialog.FORCE_CLOSE=true;
},forceParentRefresh:function(){
var _2df=curam.dialog.getParentWindow(window);
if(!_2df){
return;
}
_2df.curam.util.FORCE_REFRESH=true;
},closeModalDialog:function(){
var _2e0=util.getTopmostWindow();
if(curam.dialog._displayedHandlerUnsToken!=null){
_2e0.dojo.unsubscribe(curam.dialog._displayedHandlerUnsToken);
curam.dialog._displayedHandlerUnsToken=null;
}
if(typeof (curam.dialog._id)=="undefined"||curam.dialog._id==null){
var _2e1=window.frameElement.id;
var _2e2=_2e1.substring(7);
curam.dialog._id=_2e2;
_2ab.log("curam.dialog.closeModalDialog() "+_2ac.getProperty("curam.dialog.modal.id")+_2e2);
}
_2ab.log("publishing /curam/dialog/close for ",curam.dialog._id);
util.getTopmostWindow().dojo.publish("/curam/dialog/close",[curam.dialog._id]);
_2ab.log("publishing /curam/dialog/close for ",curam.dialog._id);
},parseWindowOptions:function(_2e3){
var opts={};
if(_2e3){
_2ab.log("curam.dialog.parseWindowOptions "+_2ac.getProperty("curam.dialog.parsing"),_2e3);
var _2e4=_2e3.split(",");
var _2e5;
for(var i=0;i<_2e4.length;i++){
_2e5=_2e4[i].split("=");
opts[_2e5[0]]=_2e5[1];
}
_2ab.log("done:",dojo.toJson(opts));
}else{
_2ab.log("curam.dialog.parseWindowOptions "+_2ac.getProperty("curam.dialog.no.options"));
}
return opts;
},doRedirect:function(_2e6,href,_2e7,_2e8){
window.curamDialogRedirecting=true;
_2e6.curam.util.redirectWindow(href,_2e7,_2e8);
},closeGracefully:function(){
curam.dialog._justClose=true;
}});
return curam.dialog;
});
},"curam/date/locale":function(){
define("curam/date/locale",["curam/define","dojo/_base/lang","dojo/date/locale"],function(_2e9,lang,_2ea){
var _2eb=_2ea._getGregorianBundle;
function _2ec(_2ed){
var _2ee=_2eb(_2ed);
if(LOCALIZED_MONTH_NAMES){
_2ee["months-format-abbr"]=LOCALIZED_SHORT_MONTH_NAMES;
_2ee["months-format-wide"]=LOCALIZED_MONTH_NAMES;
}
return _2ee;
};
_2e9.singleton("curam.date.locale",{});
lang.mixin(curam.date.locale,_2ea);
curam.date.locale.format=function(_2ef,_2f0){
_2ea._getGregorianBundle=_2ec;
var _2f1=_2ea.format(_2ef,_2f0);
_2ea._getGregorianBundle=_2eb;
return _2f1;
};
curam.date.locale.parse=function(_2f2,_2f3){
_2ea._getGregorianBundle=_2ec;
var _2f4=_2ea.parse(_2f2,_2f3);
_2ea._getGregorianBundle=_2eb;
return _2f4;
};
return curam.date.locale;
});
},"dijit/focus":function(){
define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","./a11y","./registry","."],function(_2f5,_2f6,dom,_2f7,_2f8,_2f9,lang,on,_2fa,has,_2fb,_2fc,win,_2fd,a11y,_2fe,_2ff){
var _300=_2f6([_2fb,_2f9],{curNode:null,activeStack:[],constructor:function(){
var _301=lang.hitch(this,function(node){
if(dom.isDescendant(this.curNode,node)){
this.set("curNode",null);
}
if(dom.isDescendant(this.prevNode,node)){
this.set("prevNode",null);
}
});
_2f5.before(_2f8,"empty",_301);
_2f5.before(_2f8,"destroy",_301);
},registerIframe:function(_302){
return this.registerWin(_302.contentWindow,_302);
},registerWin:function(_303,_304){
var _305=this;
var _306=function(evt){
_305._justMouseDowned=true;
setTimeout(function(){
_305._justMouseDowned=false;
},0);
if(has("ie")&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){
return;
}
_305._onTouchNode(_304||evt.target||evt.srcElement,"mouse");
};
var doc=has("ie")?_303.document.documentElement:_303.document;
if(doc){
if(has("ie")){
_303.document.body.attachEvent("onmousedown",_306);
var _307=function(evt){
var tag=evt.srcElement.tagName.toLowerCase();
if(tag=="#document"||tag=="body"){
return;
}
if(a11y.isTabNavigable(evt.srcElement)){
_305._onFocusNode(_304||evt.srcElement);
}else{
_305._onTouchNode(_304||evt.srcElement);
}
};
doc.attachEvent("onactivate",_307);
var _308=function(evt){
_305._onBlurNode(_304||evt.srcElement);
};
doc.attachEvent("ondeactivate",_308);
return {remove:function(){
_303.document.detachEvent("onmousedown",_306);
doc.detachEvent("onactivate",_307);
doc.detachEvent("ondeactivate",_308);
doc=null;
}};
}else{
doc.body.addEventListener("mousedown",_306,true);
doc.body.addEventListener("touchstart",_306,true);
var _309=function(evt){
_305._onFocusNode(_304||evt.target);
};
doc.addEventListener("focus",_309,true);
var _30a=function(evt){
_305._onBlurNode(_304||evt.target);
};
doc.addEventListener("blur",_30a,true);
return {remove:function(){
doc.body.removeEventListener("mousedown",_306,true);
doc.body.removeEventListener("touchstart",_306,true);
doc.removeEventListener("focus",_309,true);
doc.removeEventListener("blur",_30a,true);
doc=null;
}};
}
}
},_onBlurNode:function(){
this.set("prevNode",this.curNode);
this.set("curNode",null);
if(this._justMouseDowned){
return;
}
if(this._clearActiveWidgetsTimer){
clearTimeout(this._clearActiveWidgetsTimer);
}
this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){
delete this._clearActiveWidgetsTimer;
this._setStack([]);
this.prevNode=null;
}),100);
},_onTouchNode:function(node,by){
if(this._clearActiveWidgetsTimer){
clearTimeout(this._clearActiveWidgetsTimer);
delete this._clearActiveWidgetsTimer;
}
var _30b=[];
try{
while(node){
var _30c=_2f7.get(node,"dijitPopupParent");
if(_30c){
node=_2fe.byId(_30c).domNode;
}else{
if(node.tagName&&node.tagName.toLowerCase()=="body"){
if(node===win.body()){
break;
}
node=_2fd.get(node.ownerDocument).frameElement;
}else{
var id=node.getAttribute&&node.getAttribute("widgetId"),_30d=id&&_2fe.byId(id);
if(_30d&&!(by=="mouse"&&_30d.get("disabled"))){
_30b.unshift(id);
}
node=node.parentNode;
}
}
}
}
catch(e){
}
this._setStack(_30b,by);
},_onFocusNode:function(node){
if(!node){
return;
}
if(node.nodeType==9){
return;
}
this._onTouchNode(node);
if(node==this.curNode){
return;
}
this.set("curNode",node);
},_setStack:function(_30e,by){
var _30f=this.activeStack;
this.set("activeStack",_30e);
for(var _310=0;_310<Math.min(_30f.length,_30e.length);_310++){
if(_30f[_310]!=_30e[_310]){
break;
}
}
var _311;
for(var i=_30f.length-1;i>=_310;i--){
_311=_2fe.byId(_30f[i]);
if(_311){
_311._hasBeenBlurred=true;
_311.set("focused",false);
if(_311._focusManager==this){
_311._onBlur(by);
}
this.emit("widget-blur",_311,by);
}
}
for(i=_310;i<_30e.length;i++){
_311=_2fe.byId(_30e[i]);
if(_311){
_311.set("focused",true);
if(_311._focusManager==this){
_311._onFocus(by);
}
this.emit("widget-focus",_311,by);
}
}
},focus:function(node){
if(node){
try{
node.focus();
}
catch(e){
}
}
}});
var _312=new _300();
_2fa(function(){
var _313=_312.registerWin(win.doc.parentWindow||win.doc.defaultView);
if(has("ie")){
_2fc.addOnWindowUnload(function(){
_313.remove();
_313=null;
});
}
});
_2ff.focus=function(node){
_312.focus(node);
};
for(var attr in _312){
if(!/^_/.test(attr)){
_2ff.focus[attr]=typeof _312[attr]=="function"?lang.hitch(_312,attr):_312[attr];
}
}
_312.watch(function(attr,_314,_315){
_2ff.focus[attr]=_315;
});
return _312;
});
},"dojo/i18n":function(){
define("dojo/i18n",["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json"],function(dojo,_316,has,_317,_318,lang,xhr,json){
true||has.add("dojo-preload-i18n-Api",1);
true||has.add("dojo-v1x-i18n-Api",1);
var _319=dojo.i18n={},_31a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_31b=function(root,_31c,_31d,_31e){
for(var _31f=[_31d+_31e],_320=_31c.split("-"),_321="",i=0;i<_320.length;i++){
_321+=(_321?"-":"")+_320[i];
if(!root||root[_321]){
_31f.push(_31d+_321+"/"+_31e);
}
}
return _31f;
},_322={},_323=dojo.getL10nName=function(_324,_325,_326){
_326=_326?_326.toLowerCase():dojo.locale;
_324="dojo/i18n!"+_324.replace(/\./g,"/");
_325=_325.replace(/\./g,"/");
return (/root/i.test(_326))?(_324+"/nls/"+_325):(_324+"/nls/"+_326+"/"+_325);
},_327=function(_328,_329,_32a,_32b,_32c,load){
_328([_329],function(root){
var _32d=lang.clone(root.root),_32e=_31b(!root._v1x&&root,_32c,_32a,_32b);
_328(_32e,function(){
for(var i=1;i<_32e.length;i++){
_32d=lang.mixin(lang.clone(_32d),arguments[i]);
}
var _32f=_329+"/"+_32c;
_322[_32f]=_32d;
load();
});
});
},_330=function(id,_331){
return /^\./.test(id)?_331(id):id;
},_332=function(_333){
var list=_318.extraLocale||[];
list=lang.isArray(list)?list:[list];
list.push(_333);
return list;
},load=function(id,_334,load){
if(1){
var _335=id.split("*"),_336=_335[1]=="preload";
if(_336){
if(!_322[id]){
_322[id]=1;
_337(_335[2],json.parse(_335[3]),1);
}
load(1);
}
if(_336||_338(id,_334,load)){
return;
}
}
var _339=_31a.exec(id),_33a=_339[1]+"/",_33b=_339[5]||_339[4],_33c=_33a+_33b,_33d=(_339[5]&&_339[4]),_33e=_33d||dojo.locale,_33f=_33c+"/"+_33e,_340=_33d?[_33e]:_332(_33e),_341=_340.length,_342=function(){
if(!--_341){
load(lang.delegate(_322[_33f]));
}
};
_317.forEach(_340,function(_343){
var _344=_33c+"/"+_343;
if(1){
_345(_344);
}
if(!_322[_344]){
_327(_334,_33c,_33a,_33b,_343,_342);
}else{
_342();
}
});
};
if(has("dojo-unit-tests")){
var _346=_319.unitTests=[];
}
if(1||1){
var _347=_319.normalizeLocale=function(_348){
var _349=_348?_348.toLowerCase():dojo.locale;
return _349=="root"?"ROOT":_349;
},isXd=function(mid){
return (1&&1)?_316.isXdUrl(_316.toUrl(mid+".js")):true;
},_34a=0,_34b=[],_337=_319._preloadLocalizations=function(_34c,_34d,_34e){
function _34f(_350,func){
var _351=_350.split("-");
while(_351.length){
if(func(_351.join("-"))){
return true;
}
_351.pop();
}
return func("ROOT");
};
function _352(_353){
_353=_347(_353);
_34f(_353,function(loc){
if(_317.indexOf(_34d,loc)>=0){
var mid=_34c.replace(/\./g,"/")+"_"+loc;
_34a++;
(isXd(mid)||_34e?_316:_357)([mid],function(_354){
for(var p in _354){
_322[p+"/"+loc]=_354[p];
}
--_34a;
while(!_34a&&_34b.length){
load.apply(null,_34b.shift());
}
});
return true;
}
return false;
});
};
_352();
_317.forEach(dojo.config.extraLocale,_352);
},_338=function(id,_355,load){
if(_34a){
_34b.push([id,_355,load]);
}
return _34a;
};
}
if(1){
var _356=new Function("__bundle","__checkForLegacyModules","__mid","var define = function(){define.called = 1;},"+"    require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return 1;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_357=function(deps,_358){
var _359=[];
_317.forEach(deps,function(mid){
var url=_316.toUrl(mid+".js");
function load(text){
var _35a=_356(text,_345,mid);
if(_35a===1){
_316([mid],function(_35b){
_359.push(_322[url]=_35b);
});
}else{
if(_35a instanceof Error){
console.error("failed to evaluate i18n bundle; url="+url,_35a);
_35a={};
}
_359.push(_322[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_35a:{root:_35a,_v1x:1}));
}
};
if(_322[url]){
_359.push(_322[url]);
}else{
var _35c=_316.syncLoadNls(mid);
if(_35c){
_359.push(_35c);
}else{
if(!xhr){
try{
_316.getText(url,true,load);
}
catch(e){
_359.push(_322[url]={});
}
}else{
xhr.get({url:url,sync:true,load:load,error:function(){
_359.push(_322[url]={});
}});
}
}
}
});
_358&&_358.apply(null,_359);
},_345=function(_35d){
for(var _35e,_35f=_35d.split("/"),_360=dojo.global[_35f[0]],i=1;_360&&i<_35f.length-1;_360=_360[_35f[i++]]){
}
if(_360){
_35e=_360[_35f[i]];
if(!_35e){
_35e=_360[_35f[i].replace(/-/g,"_")];
}
if(_35e){
_322[_35d]=_35e;
}
}
return _35e;
};
_319.getLocalization=function(_361,_362,_363){
var _364,_365=_323(_361,_362,_363).substring(10);
load(_365,(!isXd(_365)?_357:_316),function(_366){
_364=_366;
});
return _364;
};
if(has("dojo-unit-tests")){
_346.push(function(doh){
doh.register("tests.i18n.unit",function(t){
var _367;
_367=_356("{prop:1}");
t.is({prop:1},_367);
t.is(undefined,_367[1]);
_367=_356("({prop:1})");
t.is({prop:1},_367);
t.is(undefined,_367[1]);
_367=_356("{'prop-x':1}");
t.is({"prop-x":1},_367);
t.is(undefined,_367[1]);
_367=_356("({'prop-x':1})");
t.is({"prop-x":1},_367);
t.is(undefined,_367[1]);
_367=_356("define({'prop-x':1})");
t.is(1,_367);
_367=_356("this is total nonsense and should throw an error");
t.is(_367 instanceof Error,true);
});
});
}
}
return lang.mixin(_319,{dynamic:true,normalize:_330,load:load,cache:_322});
});
},"dijit/hccss":function(){
define("dijit/hccss",["require","dojo/_base/config","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/ready","dojo/_base/sniff","dojo/_base/window"],function(_368,_369,_36a,_36b,_36c,_36d,has,win){
if(has("ie")||has("mozilla")){
_36d(90,function(){
var div=_36b.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(_369.blankGif||_368.toUrl("dojo/resources/blank.gif"))+"\");"}},win.body());
var cs=_36c.getComputedStyle(div);
if(cs){
var _36e=cs.backgroundImage;
var _36f=(cs.borderTopColor==cs.borderRightColor)||(_36e!=null&&(_36e=="none"||_36e=="url(invalid-url:)"));
if(_36f){
_36a.add(win.body(),"dijit_a11y");
}
if(has("ie")){
div.outerHTML="";
}else{
win.body().removeChild(div);
}
}
});
}
});
},"dijit/PopupMenuBarItem":function(){
define("dijit/PopupMenuBarItem",["dojo/_base/declare","./PopupMenuItem","./MenuBarItem"],function(_370,_371,_372){
var _373=_372._MenuBarItemMixin;
return _370("dijit.PopupMenuBarItem",[_371,_373],{});
});
},"dijit/tree/ForestStoreModel":function(){
define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","./TreeStoreModel"],function(_374,_375,lang,win,_376){
return _375("dijit.tree.ForestStoreModel",_376,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_377){
this.root={store:this,root:true,id:_377.rootId,label:_377.rootLabel,children:_377.rootChildren};
},mayHaveChildren:function(item){
return item===this.root||this.inherited(arguments);
},getChildren:function(_378,_379,_37a){
if(_378===this.root){
if(this.root.children){
_379(this.root.children);
}else{
this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_37b){
this.root.children=_37b;
_379(_37b);
}),onError:_37a});
}
}else{
this.inherited(arguments);
}
},isItem:function(_37c){
return (_37c===this.root)?true:this.inherited(arguments);
},fetchItemByIdentity:function(_37d){
if(_37d.identity==this.root.id){
var _37e=_37d.scope?_37d.scope:win.global;
if(_37d.onItem){
_37d.onItem.call(_37e,this.root);
}
}else{
this.inherited(arguments);
}
},getIdentity:function(item){
return (item===this.root)?this.root.id:this.inherited(arguments);
},getLabel:function(item){
return (item===this.root)?this.root.label:this.inherited(arguments);
},newItem:function(args,_37f,_380){
if(_37f===this.root){
this.onNewRootItem(args);
return this.store.newItem(args);
}else{
return this.inherited(arguments);
}
},onNewRootItem:function(){
},pasteItem:function(_381,_382,_383,_384,_385){
if(_382===this.root){
if(!_384){
this.onLeaveRoot(_381);
}
}
this.inherited(arguments,[_381,_382===this.root?null:_382,_383===this.root?null:_383,_384,_385]);
if(_383===this.root){
this.onAddToRoot(_381);
}
},onAddToRoot:function(item){
console.log(this,": item ",item," added to root");
},onLeaveRoot:function(item){
console.log(this,": item ",item," removed from root");
},_requeryTop:function(){
var _386=this.root.children||[];
this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_387){
this.root.children=_387;
if(_386.length!=_387.length||_374.some(_386,function(item,idx){
return _387[idx]!=item;
})){
this.onChildrenChange(this.root,_387);
}
})});
},onNewItem:function(item,_388){
this._requeryTop();
this.inherited(arguments);
},onDeleteItem:function(item){
if(_374.indexOf(this.root.children,item)!=-1){
this._requeryTop();
}
this.inherited(arguments);
},onSetItem:function(item,_389,_38a,_38b){
this._requeryTop();
this.inherited(arguments);
}});
});
},"curam/i18n":function(){
define("curam/i18n",["curam/define"],function(){
curam.define.singleton("curam.i18n",{values:{},set:function(key,_38c){
curam.i18n.values[key]=_38c;
},get:function(key){
return curam.i18n.values[key];
}});
return curam.i18n;
});
},"dijit/TitlePane":function(){
require({cache:{"url:dijit/templates/TitlePane.html":"<div>\n\t<div data-dojo-attach-event=\"onclick:_onTitleClick, onkeypress:_onTitleKey\"\n\t\t\tclass=\"dijitTitlePaneTitle\" data-dojo-attach-point=\"titleBarNode\">\n\t\t<div class=\"dijitTitlePaneTitleFocus\" data-dojo-attach-point=\"focusNode\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"arrowNode\" class=\"dijitArrowNode\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"arrowNodeInner\" class=\"dijitArrowNodeInner\"></span\n\t\t\t><span data-dojo-attach-point=\"titleNode\" class=\"dijitTitlePaneTextNode\"></span>\n\t\t</div>\n\t</div>\n\t<div class=\"dijitTitlePaneContentOuter\" data-dojo-attach-point=\"hideNode\" role=\"presentation\">\n\t\t<div class=\"dijitReset\" data-dojo-attach-point=\"wipeNode\" role=\"presentation\">\n\t\t\t<div class=\"dijitTitlePaneContentInner\" data-dojo-attach-point=\"containerNode\" role=\"region\" id=\"${id}_pane\">\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn't work right on node w/padding etc.  Put padding on inner div. -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"}});
define("dijit/TitlePane",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/_base/event","dojo/fx","dojo/_base/kernel","dojo/keys","./_CssStateMixin","./_TemplatedMixin","./layout/ContentPane","dojo/text!./templates/TitlePane.html","./_base/manager"],function(_38d,_38e,dom,_38f,_390,_391,_392,_393,_394,keys,_395,_396,_397,_398,_399){
return _38e("dijit.TitlePane",[_397,_396,_395],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:true,toggleable:true,tabIndex:"0",duration:_399.defaultDuration,baseClass:"dijitTitlePane",templateString:_398,doLayout:false,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.titleNode,false);
},postCreate:function(){
this.inherited(arguments);
if(this.toggleable){
this._trackMouseState(this.titleBarNode,"dijitTitlePaneTitle");
}
var _39a=this.hideNode,_39b=this.wipeNode;
this._wipeIn=_393.wipeIn({node:_39b,duration:this.duration,beforeBegin:function(){
_39a.style.display="";
}});
this._wipeOut=_393.wipeOut({node:_39b,duration:this.duration,onEnd:function(){
_39a.style.display="none";
}});
},_setOpenAttr:function(open,_39c){
_38d.forEach([this._wipeIn,this._wipeOut],function(_39d){
if(_39d&&_39d.status()=="playing"){
_39d.stop();
}
});
if(_39c){
var anim=this[open?"_wipeIn":"_wipeOut"];
anim.play();
}else{
this.hideNode.style.display=this.wipeNode.style.display=open?"":"none";
}
if(this._started){
if(open){
this._onShow();
}else{
this.onHide();
}
}
this.arrowNodeInner.innerHTML=open?"-":"+";
this.containerNode.setAttribute("aria-hidden",open?"false":"true");
this.focusNode.setAttribute("aria-pressed",open?"true":"false");
this._set("open",open);
this._setCss();
},_setToggleableAttr:function(_39e){
this.focusNode.setAttribute("role",_39e?"button":"heading");
if(_39e){
this.focusNode.setAttribute("aria-controls",this.id+"_pane");
_38f.set(this.focusNode,"tabIndex",this.tabIndex);
}else{
_38f.remove(this.focusNode,"tabIndex");
}
this._set("toggleable",_39e);
this._setCss();
},_setContentAttr:function(_39f){
if(!this.open||!this._wipeOut||this._wipeOut.status()=="playing"){
this.inherited(arguments);
}else{
if(this._wipeIn&&this._wipeIn.status()=="playing"){
this._wipeIn.stop();
}
_391.setMarginBox(this.wipeNode,{h:_391.getMarginBox(this.wipeNode).h});
this.inherited(arguments);
if(this._wipeIn){
this._wipeIn.play();
}else{
this.hideNode.style.display="";
}
}
},toggle:function(){
this._setOpenAttr(!this.open,true);
},_setCss:function(){
var node=this.titleBarNode||this.focusNode;
var _3a0=this._titleBarClass;
this._titleBarClass="dijit"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");
_390.replace(node,this._titleBarClass,_3a0||"");
this.arrowNodeInner.innerHTML=this.open?"-":"+";
},_onTitleKey:function(e){
if(e.charOrCode==keys.ENTER||e.charOrCode==" "){
if(this.toggleable){
this.toggle();
}
_392.stop(e);
}else{
if(e.charOrCode==keys.DOWN_ARROW&&this.open){
this.containerNode.focus();
e.preventDefault();
}
}
},_onTitleClick:function(){
if(this.toggleable){
this.toggle();
}
},setTitle:function(_3a1){
_394.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");
this.set("title",_3a1);
}});
});
},"url:curam/widget/resources/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:${onClickValue}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n","curam/charting":function(){
define("curam/charting",["dojo/dom-class","dojo/ready","cm/_base/_dom","curam/define"],function(_3a2,_3a3,dom,_3a4){
_3a4.singleton("curam.charting",{alignChartWrapper:function(node){
_3a3(function(){
node=dom.getParentByClass(dojo.byId(node),"cluster");
if(node){
_3a2.add(node,"chart-panel");
}
});
}});
return curam.charting;
});
},"curam/widget/ComboBox":function(){
require({cache:{"url:curam/widget/templates/ComboBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n  id=\"widget_${id}\"\r\n  role=\"listbox\"\r\n  ><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\r\n    data-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\r\n    ><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n      ${_buttonInputDisabled}\r\n  /></div\r\n  ><div class='dijitReset dijitValidationContainer'\r\n    ><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n  /></div\r\n  ><div class=\"dijitReset dijitInputField dijitInputContainer\" role=\"listbox\"\r\n    ><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\r\n      data-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\r\n  /></div\r\n></div>\r\n"}});
define("curam/widget/ComboBox",["dijit/registry","dojo/on","dojo/text!curam/widget/templates/ComboBox.html","dijit/form/ComboBox"],function(_3a5,on,_3a6){
var _3a7=dojo.declare("curam.widget.ComboBox",dijit.form.ComboBox,{templateString:_3a6,enterKeyOnOpenDropDown:false,postCreate:function(){
on(this.focusNode,"keydown",function(e){
var _3a8=_3a5.byNode(dojo.byId("widget_"+e.target.id));
if(e.keyCode==dojo.keys.ENTER&&_3a8._opened){
_3a8.enterKeyOnOpenDropDown=true;
}
});
this.inherited(arguments);
}});
return _3a7;
});
},"dijit/form/_ComboBoxMenuMixin":function(){
define("dijit/form/_ComboBoxMenuMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/_base/window","dojo/i18n!./nls/ComboBox"],function(_3a9,_3aa,_3ab,i18n,win){
return _3aa("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){
this.inherited(arguments);
this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);
},buildRendering:function(){
this.inherited(arguments);
this.previousButton.innerHTML=this._messages["previousMessage"];
this.nextButton.innerHTML=this._messages["nextMessage"];
},_setValueAttr:function(_3ac){
this.value=_3ac;
this.onChange(_3ac);
},onClick:function(node){
if(node==this.previousButton){
this._setSelectedAttr(null);
this.onPage(-1);
}else{
if(node==this.nextButton){
this._setSelectedAttr(null);
this.onPage(1);
}else{
this.onChange(node);
}
}
},onChange:function(){
},onPage:function(){
},onClose:function(){
this._setSelectedAttr(null);
},_createOption:function(item,_3ad){
var _3ae=this._createMenuItem();
var _3af=_3ad(item);
if(_3af.html){
_3ae.innerHTML=_3af.label;
}else{
_3ae.appendChild(win.doc.createTextNode(_3af.label));
}
if(_3ae.innerHTML==""){
_3ae.innerHTML="&#160;";
}
this.applyTextDir(_3ae,(_3ae.innerText||_3ae.textContent||""));
_3ae.item=item;
return _3ae;
},createOptions:function(_3b0,_3b1,_3b2){
this.items=_3b0;
this.previousButton.style.display=(_3b1.start==0)?"none":"";
_3ab.set(this.previousButton,"id",this.id+"_prev");
_3a9.forEach(_3b0,function(item,i){
var _3b3=this._createOption(item,_3b2);
_3b3.setAttribute("item",i);
_3ab.set(_3b3,"id",this.id+i);
this.nextButton.parentNode.insertBefore(_3b3,this.nextButton);
},this);
var _3b4=false;
if(_3b0.total&&!_3b0.total.then&&_3b0.total!=-1){
if((_3b1.start+_3b1.count)<_3b0.total){
_3b4=true;
}else{
if((_3b1.start+_3b1.count)>_3b0.total&&_3b1.count==_3b0.length){
_3b4=true;
}
}
}else{
if(_3b1.count==_3b0.length){
_3b4=true;
}
}
this.nextButton.style.display=_3b4?"":"none";
_3ab.set(this.nextButton,"id",this.id+"_next");
},clearResultList:function(){
var _3b5=this.containerNode;
while(_3b5.childNodes.length>2){
_3b5.removeChild(_3b5.childNodes[_3b5.childNodes.length-2]);
}
this._setSelectedAttr(null);
},highlightFirstOption:function(){
this.selectFirstNode();
},highlightLastOption:function(){
this.selectLastNode();
},selectFirstNode:function(){
this.inherited(arguments);
if(this.getHighlightedOption()==this.previousButton){
this.selectNextNode();
}
},selectLastNode:function(){
this.inherited(arguments);
if(this.getHighlightedOption()==this.nextButton){
this.selectPreviousNode();
}
},getHighlightedOption:function(){
return this._getSelectedAttr();
}});
});
},"dojo/parser":function(){
define("dojo/parser",["./_base/kernel","./_base/lang","./_base/array","./_base/config","./_base/html","./_base/window","./_base/url","./_base/json","./aspect","./date/stamp","./has","./query","./on","./ready"],function(dojo,_3b6,_3b7,_3b8,_3b9,_3ba,_3bb,_3bc,_3bd,_3be,has,_3bf,don,_3c0){
new Date("X");
if(1){
var form=document.createElement("form");
has.add("dom-attributes-explicit",form.attributes.length==0);
has.add("dom-attributes-specified-flag",form.attributes.length<40);
}
dojo.parser=new function(){
var _3c1={};
function _3c2(_3c3){
var map={};
for(var name in _3c3){
if(name.charAt(0)=="_"){
continue;
}
map[name.toLowerCase()]=name;
}
return map;
};
_3bd.after(_3b6,"extend",function(){
_3c1={};
},true);
var _3c4={};
function _3c5(type){
var map=_3c4[type]||(_3c4[type]={});
return map["__type"]||(map["__type"]=(_3b6.getObject(type)||require(type)));
};
this._functionFromScript=function(_3c6,_3c7){
var _3c8="";
var _3c9="";
var _3ca=(_3c6.getAttribute(_3c7+"args")||_3c6.getAttribute("args"));
if(_3ca){
_3b7.forEach(_3ca.split(/\s*,\s*/),function(part,idx){
_3c8+="var "+part+" = arguments["+idx+"]; ";
});
}
var _3cb=_3c6.getAttribute("with");
if(_3cb&&_3cb.length){
_3b7.forEach(_3cb.split(/\s*,\s*/),function(part){
_3c8+="with("+part+"){";
_3c9+="}";
});
}
return new Function(_3c8+_3c6.innerHTML+_3c9);
};
this.instantiate=function(_3cc,_3cd,_3ce){
_3cd=_3cd||{};
_3ce=_3ce||{};
var _3cf=(_3ce.scope||dojo._scopeName)+"Type",_3d0="data-"+(_3ce.scope||dojo._scopeName)+"-",_3d1=_3d0+"type";
var list=[];
_3b7.forEach(_3cc,function(node){
var type=_3cf in _3cd?_3cd[_3cf]:node.getAttribute(_3d1)||node.getAttribute(_3cf);
if(type){
list.push({node:node,"type":type});
}
});
return this._instantiate(list,_3cd,_3ce);
};
this._instantiate=function(_3d2,_3d3,_3d4){
var _3d5=[];
var _3d6=(_3d4.scope||dojo._scopeName)+"Type",_3d7="data-"+(_3d4.scope||dojo._scopeName)+"-",_3d8=_3d7+"type",_3d9=_3d7+"props",_3da=_3d7+"attach-point",_3db=_3d7+"attach-event",_3dc=_3d7+"id",_3dd=_3d7+"mixins";
var _3de={};
_3b7.forEach([_3d9,_3d8,_3d6,_3dc,"jsId",_3da,_3db,"dojoAttachPoint","dojoAttachEvent","class","style",_3dd],function(name){
_3de[name.toLowerCase()]=name.replace(_3d4.scope,"dojo");
});
function _3df(type,_3e0){
return type.createSubclass&&type.createSubclass(_3e0)||type.extend.apply(type,_3e0);
};
_3b7.forEach(_3d2,function(obj){
if(!obj){
return;
}
var node=obj.node,type=obj.type,_3e1=node.getAttribute(_3dd),ctor;
if(_3e1){
var map=_3c4[type];
_3e1=_3e1.replace(/ /g,"");
ctor=map&&map[_3e1];
if(!ctor){
ctor=_3c5(type);
ctor=_3c4[type][_3e1]=_3df(ctor,_3b7.map(_3e1.split(","),_3c5));
}
}else{
ctor=_3c5(type);
}
var _3e2=ctor&&ctor.prototype;
var _3e3={};
if(_3d4.defaults){
_3b6.mixin(_3e3,_3d4.defaults);
}
if(obj.inherited){
_3b6.mixin(_3e3,obj.inherited);
}
var _3e4;
if(has("dom-attributes-explicit")){
_3e4=node.attributes;
}else{
if(has("dom-attributes-specified-flag")){
_3e4=_3b7.filter(node.attributes,function(a){
return a.specified;
});
}else{
var _3e5=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_3e6=_3e5.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");
_3e4=_3b7.map(_3e6.split(/\s+/),function(name){
var _3e7=name.toLowerCase();
return {name:name,value:(node.nodeName=="LI"&&name=="value")||_3e7=="enctype"?node.getAttribute(_3e7):node.getAttributeNode(_3e7).value};
});
}
}
var i=0,item;
while(item=_3e4[i++]){
var name=item.name,_3e8=name.toLowerCase(),_3e9=item.value;
if(_3e8 in _3de){
switch(_3de[_3e8]){
case "data-dojo-props":
var _3ea=_3e9;
break;
case "data-dojo-id":
case "jsId":
var _3eb=_3e9;
break;
case "data-dojo-attach-point":
case "dojoAttachPoint":
_3e3.dojoAttachPoint=_3e9;
break;
case "data-dojo-attach-event":
case "dojoAttachEvent":
_3e3.dojoAttachEvent=_3e9;
break;
case "class":
_3e3["class"]=node.className;
break;
case "style":
_3e3["style"]=node.style&&node.style.cssText;
break;
}
}else{
if(!(name in _3e2)){
var map=(_3c1[type]||(_3c1[type]=_3c2(_3e2)));
name=map[_3e8]||name;
}
if(name in _3e2){
switch(typeof _3e2[name]){
case "string":
_3e3[name]=_3e9;
break;
case "number":
_3e3[name]=_3e9.length?Number(_3e9):NaN;
break;
case "boolean":
_3e3[name]=_3e9.toLowerCase()!="false";
break;
case "function":
if(_3e9===""||_3e9.search(/[^\w\.]+/i)!=-1){
_3e3[name]=new Function(_3e9);
}else{
_3e3[name]=_3b6.getObject(_3e9,false)||new Function(_3e9);
}
break;
default:
var pVal=_3e2[name];
_3e3[name]=(pVal&&"length" in pVal)?(_3e9?_3e9.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_3e9==""?new Date(""):_3e9=="now"?new Date():_3be.fromISOString(_3e9)):(pVal instanceof dojo._Url)?(dojo.baseUrl+_3e9):_3bc.fromJson(_3e9);
}
}else{
_3e3[name]=_3e9;
}
}
}
if(_3ea){
try{
_3ea=_3bc.fromJson.call(_3d4.propsThis,"{"+_3ea+"}");
_3b6.mixin(_3e3,_3ea);
}
catch(e){
throw new Error(e.toString()+" in data-dojo-props='"+_3ea+"'");
}
}
_3b6.mixin(_3e3,_3d3);
var _3ec=obj.scripts||(ctor&&(ctor._noScript||_3e2._noScript)?[]:_3bf("> script[type^='dojo/']",node));
var _3ed=[],_3ee=[],_3ef=[],on=[];
if(_3ec){
for(i=0;i<_3ec.length;i++){
var _3f0=_3ec[i];
node.removeChild(_3f0);
var _3f1=(_3f0.getAttribute(_3d7+"event")||_3f0.getAttribute("event")),prop=_3f0.getAttribute(_3d7+"prop"),_3f2=_3f0.getAttribute("type"),nf=this._functionFromScript(_3f0,_3d7);
if(_3f1){
if(_3f2=="dojo/connect"){
_3ed.push({event:_3f1,func:nf});
}else{
if(_3f2=="dojo/on"){
on.push({event:_3f1,func:nf});
}else{
_3e3[_3f1]=nf;
}
}
}else{
if(_3f2=="dojo/watch"){
_3ef.push({prop:prop,func:nf});
}else{
_3ee.push(nf);
}
}
}
}
var _3f3=ctor.markupFactory||_3e2.markupFactory;
var _3f4=_3f3?_3f3(_3e3,node,ctor):new ctor(_3e3,node);
_3d5.push(_3f4);
if(_3eb){
_3b6.setObject(_3eb,_3f4);
}
for(i=0;i<_3ed.length;i++){
_3bd.after(_3f4,_3ed[i].event,dojo.hitch(_3f4,_3ed[i].func),true);
}
for(i=0;i<_3ee.length;i++){
_3ee[i].call(_3f4);
}
for(i=0;i<_3ef.length;i++){
_3f4.watch(_3ef[i].prop,_3ef[i].func);
}
for(i=0;i<on.length;i++){
don(_3f4,on[i].event,on[i].func);
}
},this);
if(!_3d3._started){
_3b7.forEach(_3d5,function(_3f5){
if(!_3d4.noStart&&_3f5&&_3b6.isFunction(_3f5.startup)&&!_3f5._started){
_3f5.startup();
}
});
}
return _3d5;
};
this.scan=function(root,_3f6){
var list=[];
var _3f7=(_3f6.scope||dojo._scopeName)+"Type",_3f8="data-"+(_3f6.scope||dojo._scopeName)+"-",_3f9=_3f8+"type",_3fa=_3f8+"textdir";
var node=root.firstChild;
var _3fb=_3f6.inherited;
if(!_3fb){
function _3fc(node,attr){
return (node.getAttribute&&node.getAttribute(attr))||(node!==_3ba.doc&&node!==_3ba.doc.documentElement&&node.parentNode?_3fc(node.parentNode,attr):null);
};
_3fb={dir:_3fc(root,"dir"),lang:_3fc(root,"lang"),textDir:_3fc(root,_3fa)};
for(var key in _3fb){
if(!_3fb[key]){
delete _3fb[key];
}
}
}
var _3fd={inherited:_3fb};
var _3fe;
var _3ff;
function _400(_401){
if(!_401.inherited){
_401.inherited={};
var node=_401.node,_402=_400(_401.parent);
var _403={dir:node.getAttribute("dir")||_402.dir,lang:node.getAttribute("lang")||_402.lang,textDir:node.getAttribute(_3fa)||_402.textDir};
for(var key in _403){
if(_403[key]){
_401.inherited[key]=_403[key];
}
}
}
return _401.inherited;
};
while(true){
if(!node){
if(!_3fd||!_3fd.node){
break;
}
node=_3fd.node.nextSibling;
_3fe=_3fd.scripts;
_3ff=false;
_3fd=_3fd.parent;
continue;
}
if(node.nodeType!=1){
node=node.nextSibling;
continue;
}
if(_3fe&&node.nodeName.toLowerCase()=="script"){
type=node.getAttribute("type");
if(type&&/^dojo\/\w/i.test(type)){
_3fe.push(node);
}
node=node.nextSibling;
continue;
}
if(_3ff){
node=node.nextSibling;
continue;
}
var type=node.getAttribute(_3f9)||node.getAttribute(_3f7);
var _404=node.firstChild;
if(!type&&(!_404||(_404.nodeType==3&&!_404.nextSibling))){
node=node.nextSibling;
continue;
}
var _405={node:node,scripts:_3fe,parent:_3fd};
var ctor;
try{
ctor=type&&_3c5(type);
}
catch(e){
}
var _406=ctor&&!ctor.prototype._noScript?[]:null;
if(type){
list.push({"type":type,node:node,scripts:_406,inherited:_400(_405)});
}
node=_404;
_3fe=_406;
_3ff=ctor&&ctor.prototype.stopParser&&!(_3f6.template);
_3fd=_405;
}
return list;
};
this.parse=function(_407,_408){
var root;
if(!_408&&_407&&_407.rootNode){
_408=_407;
root=_408.rootNode;
}else{
if(_407&&_3b6.isObject(_407)&&!("nodeType" in _407)){
_408=_407;
}else{
root=_407;
}
}
root=root?_3b9.byId(root):_3ba.body();
_408=_408||{};
var list=this.scan(root,_408);
var _409=_408.template?{template:true}:{};
return this._instantiate(list,_409,_408);
};
}();
if(_3b8.parseOnLoad){
_3c0(100,dojo.parser,"parse");
}
return dojo.parser;
});
},"dojox/html/_base":function(){
define("dojox/html/_base",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/xhr","dojo/_base/window","dojo/_base/sniff","dojo/_base/url","dojo/dom-construct","dojo/html","dojo/_base/declare"],function(dojo,lang,_40a,_40b,has,_40c,_40d,_40e){
var html=dojo.getObject("dojox.html",true);
if(has("ie")){
var _40f=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;
}
var _410=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;
var _411=html._adjustCssPaths=function(_412,_413){
if(!_413||!_412){
return;
}
if(_40f){
_413=_413.replace(_40f,function(_414,pre,_415,url,post){
return pre+(new _40c(_412,"./"+url).toString())+post;
});
}
return _413.replace(_410,function(_416,_417,_418,_419,_41a,_41b){
if(_418){
return "@import \""+(new _40c(_412,"./"+_418).toString())+"\""+_41b;
}else{
return "url("+(new _40c(_412,"./"+_41a).toString())+")"+_41b;
}
});
};
var _41c=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;
var _41d=html._adjustHtmlPaths=function(_41e,cont){
var url=_41e||"./";
return cont.replace(_41c,function(tag,_41f,name,_420,_421,_422,_423,end){
return _41f+(name?(name+"="+_420+(new _40c(url,_421).toString())+_420):("style="+_422+_411(url,_423)+_422))+end;
});
};
var _424=html._snarfStyles=function(_425,cont,_426){
_426.attributes=[];
return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_427,_428,_429,_42a,_42b,href){
var i,attr=(_428||_42a||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");
if(_429){
i=_426.push(_425?_411(_425,_429):_429);
}else{
i=_426.push("@import \""+href+"\";");
attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");
}
if(attr){
attr=attr.split(/\s+/);
var _42c={},tmp;
for(var j=0,e=attr.length;j<e;j++){
tmp=attr[j].split("=");
_42c[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");
}
_426.attributes[i-1]=_42c;
}
return "";
});
};
var _42d=html._snarfScripts=function(cont,_42e){
_42e.code="";
cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_42f){
return _42f.replace(/<(\/?)script\b/ig,"&lt;$1Script");
});
function _430(src){
if(_42e.downloadRemote){
src=src.replace(/&([a-z0-9#]+);/g,function(m,name){
switch(name){
case "amp":
return "&";
case "gt":
return ">";
case "lt":
return "<";
default:
return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";
}
});
_40a.get({url:src,sync:true,load:function(code){
_42e.code+=code+";";
},error:_42e.errBack});
}
};
return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))(?:[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?)*>([\s\S]*?)<\/script>/gi,function(_431,_432,src,code){
if(src){
_430(src);
}else{
_42e.code+=code;
}
return "";
});
};
var _433=html.evalInGlobal=function(code,_434){
_434=_434||_40b.doc.body;
var n=_434.ownerDocument.createElement("script");
n.type="text/javascript";
_434.appendChild(n);
n.text=code;
};
html._ContentSetter=dojo.declare(_40e._ContentSetter,{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_435){
this._styleNodes=[];
var st,att,_436,doc=this.node.ownerDocument;
var head=doc.getElementsByTagName("head")[0];
for(var i=0,e=_435.length;i<e;i++){
_436=_435[i];
att=_435.attributes[i];
st=doc.createElement("style");
st.setAttribute("type","text/css");
for(var x in att){
st.setAttribute(x,att[x]);
}
this._styleNodes.push(st);
head.appendChild(st);
if(st.styleSheet){
st.styleSheet.cssText=_436;
}else{
st.appendChild(doc.createTextNode(_436));
}
}
},empty:function(){
this.inherited("empty",arguments);
this._styles=[];
},onBegin:function(){
this.inherited("onBegin",arguments);
var cont=this.content,node=this.node;
var _437=this._styles;
if(lang.isString(cont)){
if(this.adjustPaths&&this.referencePath){
cont=_41d(this.referencePath,cont);
}
if(this.renderStyles||this.cleanContent){
cont=_424(this.referencePath,cont,_437);
}
if(this.executeScripts){
var _438=this;
var _439={downloadRemote:true,errBack:function(e){
_438._onError.call(_438,"Exec","Error downloading remote script in \""+_438.id+"\"",e);
}};
cont=_42d(cont,_439);
this._code=_439.code;
}
}
this.content=cont;
},onEnd:function(){
var code=this._code,_43a=this._styles;
if(this._styleNodes&&this._styleNodes.length){
while(this._styleNodes.length){
_40d.destroy(this._styleNodes.pop());
}
}
if(this.renderStyles&&_43a&&_43a.length){
this._renderStyles(_43a);
}
if(this.executeScripts&&code){
if(this.cleanContent){
code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");
}
if(this.scriptHasHooks){
code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);
}
try{
_433(code,this.node);
}
catch(e){
this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);
}
}
this.inherited("onEnd",arguments);
},tearDown:function(){
this.inherited(arguments);
delete this._styles;
if(this._styleNodes&&this._styleNodes.length){
while(this._styleNodes.length){
_40d.destroy(this._styleNodes.pop());
}
}
delete this._styleNodes;
dojo.mixin(this,html._ContentSetter.prototype);
}});
html.set=function(node,cont,_43b){
if(!_43b){
return _40e._setNodeContent(node,cont,true);
}else{
var op=new html._ContentSetter(dojo.mixin(_43b,{content:cont,node:node}));
return op.set();
}
};
return html;
});
},"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","curam/widget/OptimalBrowserMessage":function(){
require({cache:{"url:curam/widget/templates/OptimalBrowserMessage.html":"<div>\n  <div class=\"hidden\"\n       data-dojo-type=\"dojox/layout/ContentPane\"\n       data-dojo-attach-point=\"_optimalMessage\">\n  </div>\n</div>\n"}});
define("curam/widget/OptimalBrowserMessage",["dojo/_base/declare","dojo/_base/lang","curam/util","curam/util/UIMFragment","curam/ui/ClientDataAccessor","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/layout/BorderContainer","dijit/layout/ContentPane","dijit/form/Button","dojo/text!curam/widget/templates/OptimalBrowserMessage.html"],function(_43c,lang,util,_43d,_43e,_43f,_440,_441,_442,_443,_444,_445){
return _43c("curam.widget.OptimalBrowserMessage",[_43f,_440,_441],{OPTIMAL_BROWSER_MSG:"optimal-browser-msg",isExternalApp:null,optimalBrowserMsgPaddingCSS:"optimal-browser-banner",optimalBrowserNode:null,appSectionsNode:null,appBannerHeaderNode:null,intApp:"internal",extApp:"external",context:null,templateString:_445,widgetsInTemplate:true,baseClass:"",optimalBrowserNodeID:"_optimalMessage",_appConfig:null,postMixInProperties:function(){
this.inherited(arguments);
},startup:function(){
this.inherited(arguments);
this._init();
this._loadNodes(this._optimalMessage.id);
},_init:function(){
da=new _43e();
da.getRaw("/config/tablayout/settings["+curam.config.appID+"]",lang.hitch(this,function(data){
console.log("External App config data:"+data);
this._appConfig=data;
this._getAppConfig();
}),function(_446,args){
console.log("External App config data load error:"+_446);
},null);
},_getAppConfig:function(){
var _447=this._appConfig.optimalBrowserMessageEnabled;
var _448=util.getTopmostWindow().dojox;
var _449=this._createStorageKey(this.OPTIMAL_BROWSER_MSG);
var _44a=this;
var _44b=false;
if(_447=="true"|_447=="TRUE"){
util.runStorageFn(function(){
_44b=true;
_44a.context=_448;
return _44a._isOptimalBrowserCheckDue(_448,_449,_44a);
});
if(!_44b){
return this._isOptimalBrowserCheckDue(this.context,_449,_44a);
}
}
return false;
},_isOptimalBrowserCheckDue:function(_44c,_44d,_44e){
if(_44c!=undefined){
var _44f=_44c.storage.get(_44d);
if(_44f&&_44f!=""){
if(new Date(_44e._getTargetDate())>new Date(_44f)){
_44e._executeBrowserVersionCheck(_44c);
return true;
}
}else{
_44e._executeBrowserVersionCheck(_44c);
return true;
}
return false;
}
},_executeBrowserVersionCheck:function(_450){
var _451=this._appConfig.ieMinVersion;
var _452=this._appConfig.ieMaxVersion;
var _453=this._appConfig.ffMinVersion;
var _454=this._appConfig.ffMaxVersion;
var _455=this._appConfig.chromeMinVersion;
var _456=this._appConfig.chromeMaxVersion;
var _457=this._appConfig.safariMinVersion;
var _458=this._appConfig.safariMaxVersion;
var _459=dojo.isIE;
var _45a=dojo.isFF;
var _45b=dojo.isChrome;
var _45c=dojo.isSafari;
if(_459!=undefined){
return this._isCurrentBrowserVerSupported(_450,_459,_451,_452);
}else{
if(_45a!=undefined&&this.isExternalApp){
return this._isCurrentBrowserVerSupported(_450,_45a,_453,_454);
}else{
if(_45b!=undefined){
return this._isCurrentBrowserVerSupported(_450,_45b,_455,_456);
}else{
if(_45c!=undefined&&this.isExternalApp){
return this._isCurrentBrowserVerSupported(_450,_45c,_457,_458);
}
}
}
}
return false;
},_isCurrentBrowserVerSupported:function(_45d,_45e,_45f,_460){
var _461=false;
if(_45f>0){
if(_45e<_45f){
_461=true;
this._displayOptimalBrowserMsg(_45d);
return true;
}
}
if(_460>0&&!_461){
if(_45e>_460){
this._displayOptimalBrowserMsg(_45d);
return true;
}
}
return false;
},_displayOptimalBrowserMsg:function(_462){
this._addOrRemoveCssForInternalApp(true,this.optimalBrowserMsgPaddingCSS);
_43d.get({url:"optimal-browser-msg-fragment.jspx",targetID:this._optimalMessage.id});
this._postRenderingTasks(_462);
},_postRenderingTasks:function(_463){
var _464=this._optimalMessage.id;
dojo.addOnLoad(function(){
var _465=dojo.byId(_464);
dojo.removeClass(_465,_465.className);
});
if(_463.storage!=undefined){
_463.storage.put(this._createStorageKey(this.OPTIMAL_BROWSER_MSG),this._getTargetDate(this._appConfig.nextBrowserCheck));
}
return _463;
},_loadNodes:function(_466){
dojo.addOnLoad(function(){
this.optimalBrowserNode=dojo.byId(_466);
this.appSectionsNode=dojo.byId("app-sections-container-dc");
this.appBannerHeaderNode=dojo.byId("app-header-container-dc");
});
},_createStorageKey:function(_467){
if(this.isExternalApp){
_467=_467+"_"+this.extApp;
}else{
_467=_467+"_"+this.intApp;
}
return _467;
},_addOrRemoveCssForInternalApp:function(_468,_469){
var _46a=this.isExternalApp;
dojo.addOnLoad(function(){
if(!_46a){
if(_468){
dojo.addClass(this.appSectionsNode,_469);
if(this.appBannerHeaderNode){
dojo.addClass(this.appSectionsNode.children.item(1),_469);
dojo.addClass(this.appSectionsNode.children.item(2),_469);
}
}else{
dojo.removeClass(this.appSectionsNode,_469);
if(this.appBannerHeaderNode){
dojo.removeClass(this.appSectionsNode.children.item(1),_469);
dojo.removeClass(this.appSectionsNode.children.item(2),_469);
}
}
}
});
},_getTargetDate:function(_46b){
var _46c=new Date();
if(_46b==undefined){
_46c.setDate(_46c.getDate());
}else{
_46c.setDate(_46c.getDate()+_46b);
}
return _46c.toUTCString();
},exitOptimalBrowserMessageBox:function(){
var _46d=dojo.byId(this._optimalMessage.id);
if(_46d){
_46d.parentNode.removeChild(_46d);
}
this._addOrRemoveCssForInternalApp(false,this.optimalBrowserMsgPaddingCSS);
}});
});
},"dijit/form/ToggleButton":function(){
define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_46e,_46f,_470,_471){
return _46e("dijit.form.ToggleButton",[_470,_471],{baseClass:"dijitToggleButton",setChecked:function(_472){
_46f.deprecated("setChecked("+_472+") is deprecated. Use set('checked',"+_472+") instead.","","2.0");
this.set("checked",_472);
}});
});
},"dojo/date/stamp":function(){
define("dojo/date/stamp",["../_base/kernel","../_base/lang","../_base/array"],function(dojo,lang,_473){
lang.getObject("date.stamp",true,dojo);
dojo.date.stamp.fromISOString=function(_474,_475){
if(!dojo.date.stamp._isoRegExp){
dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;
}
var _476=dojo.date.stamp._isoRegExp.exec(_474),_477=null;
if(_476){
_476.shift();
if(_476[1]){
_476[1]--;
}
if(_476[6]){
_476[6]*=1000;
}
if(_475){
_475=new Date(_475);
_473.forEach(_473.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){
return _475["get"+prop]();
}),function(_478,_479){
_476[_479]=_476[_479]||_478;
});
}
_477=new Date(_476[0]||1970,_476[1]||0,_476[2]||1,_476[3]||0,_476[4]||0,_476[5]||0,_476[6]||0);
if(_476[0]<100){
_477.setFullYear(_476[0]||1970);
}
var _47a=0,_47b=_476[7]&&_476[7].charAt(0);
if(_47b!="Z"){
_47a=((_476[8]||0)*60)+(Number(_476[9])||0);
if(_47b!="-"){
_47a*=-1;
}
}
if(_47b){
_47a-=_477.getTimezoneOffset();
}
if(_47a){
_477.setTime(_477.getTime()+_47a*60000);
}
}
return _477;
};
dojo.date.stamp.toISOString=function(_47c,_47d){
var _47e=function(n){
return (n<10)?"0"+n:n;
};
_47d=_47d||{};
var _47f=[],_480=_47d.zulu?"getUTC":"get",date="";
if(_47d.selector!="time"){
var year=_47c[_480+"FullYear"]();
date=["0000".substr((year+"").length)+year,_47e(_47c[_480+"Month"]()+1),_47e(_47c[_480+"Date"]())].join("-");
}
_47f.push(date);
if(_47d.selector!="date"){
var time=[_47e(_47c[_480+"Hours"]()),_47e(_47c[_480+"Minutes"]()),_47e(_47c[_480+"Seconds"]())].join(":");
var _481=_47c[_480+"Milliseconds"]();
if(_47d.milliseconds){
time+="."+(_481<100?"0":"")+_47e(_481);
}
if(_47d.zulu){
time+="Z";
}else{
if(_47d.selector!="time"){
var _482=_47c.getTimezoneOffset();
var _483=Math.abs(_482);
time+=(_482>0?"-":"+")+_47e(Math.floor(_483/60))+":"+_47e(_483%60);
}
}
_47f.push(time);
}
return _47f.join("T");
};
return dojo.date.stamp;
});
},"dojo/Stateful":function(){
define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array"],function(_484,lang,_485){
return _484("dojo.Stateful",null,{postscript:function(_486){
if(_486){
lang.mixin(this,_486);
}
},get:function(name){
return this[name];
},set:function(name,_487){
if(typeof name==="object"){
for(var x in name){
if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){
this.set(x,name[x]);
}
}
return this;
}
var _488=this[name];
this[name]=_487;
if(this._watchCallbacks){
this._watchCallbacks(name,_488,_487);
}
return this;
},watch:function(name,_489){
var _48a=this._watchCallbacks;
if(!_48a){
var self=this;
_48a=this._watchCallbacks=function(name,_48b,_48c,_48d){
var _48e=function(_48f){
if(_48f){
_48f=_48f.slice();
for(var i=0,l=_48f.length;i<l;i++){
_48f[i].call(self,name,_48b,_48c);
}
}
};
_48e(_48a["_"+name]);
if(!_48d){
_48e(_48a["*"]);
}
};
}
if(!_489&&typeof name==="function"){
_489=name;
name="*";
}else{
name="_"+name;
}
var _490=_48a[name];
if(typeof _490!=="object"){
_490=_48a[name]=[];
}
_490.push(_489);
return {unwatch:function(){
_490.splice(_485.indexOf(_490,_489),1);
}};
}});
});
},"curam/util/portlet/PortletAdaptor":function(){
define("curam/util/portlet/PortletAdaptor",["curam/define","curam/util"],function(){
curam.define.singleton("curam.util.portlet.PortletAdaptor",{initPortlet:function(_491){
curam.util.portlet.PortletAdaptor.modifyPortletLinks();
curam.util.portlet.PortletAdaptor.setTimeoutForBIRTChartPortlets(_491);
return "initialized";
},modifyPortletLinks:function(){
var _492;
var _493=dojo.query("div#podContainer a");
_493.forEach(function(link){
dojo.attr(link,"target","_newWindow");
if(link.onclick!=null&&link.onclick.toString().indexOf("curam.util.UimDialog")!=-1){
var _494=link.innerText||link.textContent;
if(_494!=undefined&&_494.length>0&&_494.lastIndexOf("...")==-1){
var _495=document.createElement("div");
_495.appendChild(document.createTextNode(_494));
link.parentNode.appendChild(_495);
}
_492=link.parentNode;
dojo.destroy(link);
}
if(typeof (_492)=="undefined"){
_492=link.parentNode;
}
});
return _492;
},setTimeoutForBIRTChartPortlets:function(_496){
setTimeout(function(){
curam.util.getTopmostWindow().dojo.publish("pods.fullyloaded");
},_496);
}});
return curam.util.portlet.PortletAdaptor;
});
},"curam/GlobalVars":function(){
define("curam/GlobalVars",["curam/util"],function(){
var _497={popupMappingRepository:[],popupMappingLoaded:[],popupInputs:[],currentPopupProps:null,currentPopupInstanceName:"",popupWindow:null,popupCTCodeMappings:[],popupPropertiesRepository:[],POPUP_EMPTY_SPAN_MIN_SIZE:25,POPUP_EMPTY_SPAN_CHAR:" ",POPUP_EMPTY_SPAN_VALUE:null,replacedButtons:[]};
var gc=dojo.global.curam;
dojo.mixin(gc,_497);
gc.POPUP_EMPTY_SPAN_VALUE=curam.util.fillString(gc.POPUP_EMPTY_SPAN_CHAR,gc.POPUP_EMPTY_SPAN_MIN_SIZE);
return _497;
});
},"dijit/form/ComboButton":function(){
require({cache:{"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\"\n\t\t/></td></tr></tbody\n></table>\n"}});
define("dijit/form/ComboButton",["dojo/_base/declare","dojo/_base/event","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_498,_499,keys,_49a,_49b,_49c){
return _498("dijit.form.ComboButton",_49b,{templateString:_49c,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){
if(evt.charOrCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){
_49a.focus(this._popupStateNode);
_499.stop(evt);
}
},_onArrowKeyPress:function(evt){
if(evt.charOrCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){
_49a.focus(this.titleNode);
_499.stop(evt);
}
},focus:function(_49d){
if(!this.disabled){
_49a.focus(_49d=="start"?this.titleNode:this._popupStateNode);
}
}});
});
},"dijit/form/_AutoCompleterMixin":function(){
define("dijit/form/_AutoCompleterMixin",["dojo/_base/connect","dojo/data/util/filter","dojo/_base/declare","dojo/_base/Deferred","dojo/dom-attr","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/_base/sniff","dojo/string","dojo/_base/window","./DataList","../registry","./_TextBoxMixin"],function(_49e,_49f,_4a0,_4a1,_4a2,_4a3,keys,lang,_4a4,_4a5,has,_4a6,win,_4a7,_4a8,_4a9){
return _4a0("dijit.form._AutoCompleterMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_4aa){
var pos=0;
if(typeof (_4aa.selectionStart)=="number"){
pos=_4aa.selectionStart;
}else{
if(has("ie")){
var tr=win.doc.selection.createRange().duplicate();
var ntr=_4aa.createTextRange();
tr.move("character",0);
ntr.move("character",0);
try{
ntr.setEndPoint("EndToEnd",tr);
pos=String(ntr.text).replace(/\r/g,"").length;
}
catch(e){
}
}
}
return pos;
},_setCaretPos:function(_4ab,_4ac){
_4ac=parseInt(_4ac);
_4a9.selectInputText(_4ab,_4ac,_4ac);
},_setDisabledAttr:function(_4ad){
this.inherited(arguments);
this.domNode.setAttribute("aria-disabled",_4ad);
},_abortQuery:function(){
if(this.searchTimer){
clearTimeout(this.searchTimer);
this.searchTimer=null;
}
if(this._fetchHandle){
if(this._fetchHandle.cancel){
this._cancelingQuery=true;
this._fetchHandle.cancel();
this._cancelingQuery=false;
}
this._fetchHandle=null;
}
},_onInput:function(evt){
this.inherited(arguments);
if(evt.charOrCode==229){
this._onKey(evt);
}
},_onKey:function(evt){
if(this.disabled||this.readOnly){
return;
}
var key=evt.charOrCode;
if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==keys.SHIFT){
return;
}
var _4ae=false;
var pw=this.dropDown;
var _4af=null;
this._prev_key_backspace=false;
this._abortQuery();
this.inherited(arguments);
if(this._opened){
_4af=pw.getHighlightedOption();
}
switch(key){
case keys.PAGE_DOWN:
case keys.DOWN_ARROW:
case keys.PAGE_UP:
case keys.UP_ARROW:
if(this._opened){
this._announceOption(_4af);
}
_4a3.stop(evt);
break;
case keys.ENTER:
if(_4af){
if(_4af==pw.nextButton){
this._nextSearch(1);
_4a3.stop(evt);
break;
}else{
if(_4af==pw.previousButton){
this._nextSearch(-1);
_4a3.stop(evt);
break;
}
}
}else{
this._setBlurValue();
this._setCaretPos(this.focusNode,this.focusNode.value.length);
}
if(this._opened||this._fetchHandle){
_4a3.stop(evt);
}
case keys.TAB:
var _4b0=this.get("displayedValue");
if(pw&&(_4b0==pw._messages["previousMessage"]||_4b0==pw._messages["nextMessage"])){
break;
}
if(_4af){
this._selectOption(_4af);
}
case keys.ESCAPE:
if(this._opened){
this._lastQuery=null;
this.closeDropDown();
}
break;
case " ":
if(_4af){
_4a3.stop(evt);
this._selectOption(_4af);
this.closeDropDown();
}else{
_4ae=true;
}
break;
case keys.DELETE:
case keys.BACKSPACE:
this._prev_key_backspace=true;
_4ae=true;
break;
default:
_4ae=typeof key=="string"||key==229;
}
if(_4ae){
this.item=undefined;
this.searchTimer=setTimeout(lang.hitch(this,"_startSearchFromInput"),1);
}
},_autoCompleteText:function(text){
var fn=this.focusNode;
_4a9.selectInputText(fn,fn.value.length);
var _4b1=this.ignoreCase?"toLowerCase":"substr";
if(text[_4b1](0).indexOf(this.focusNode.value[_4b1](0))==0){
var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;
if((cpos+1)>fn.value.length){
fn.value=text;
_4a9.selectInputText(fn,cpos);
}
}else{
fn.value=text;
_4a9.selectInputText(fn);
}
},_openResultList:function(_4b2,_4b3,_4b4){
this._fetchHandle=null;
if(this.disabled||this.readOnly||(_4b3[this.searchAttr]!==this._lastQuery)){
return;
}
var _4b5=this.dropDown.getHighlightedOption();
this.dropDown.clearResultList();
if(!_4b2.length&&_4b4.start==0){
this.closeDropDown();
return;
}
this.dropDown.createOptions(_4b2,_4b4,lang.hitch(this,"_getMenuLabelFromItem"));
this._showResultList();
if(_4b4.direction){
if(1==_4b4.direction){
this.dropDown.highlightFirstOption();
}else{
if(-1==_4b4.direction){
this.dropDown.highlightLastOption();
}
}
if(_4b5){
this._announceOption(this.dropDown.getHighlightedOption());
}
}else{
if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_4b3[this.searchAttr].toString())){
this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);
}
}
},_showResultList:function(){
this.closeDropDown(true);
this.openDropDown();
this.domNode.setAttribute("aria-expanded","true");
},loadDropDown:function(){
this._startSearchAll();
},isLoaded:function(){
return false;
},closeDropDown:function(){
this._abortQuery();
if(this._opened){
this.inherited(arguments);
this.domNode.setAttribute("aria-expanded","false");
this.focusNode.removeAttribute("aria-activedescendant");
}
},_setBlurValue:function(){
var _4b6=this.get("displayedValue");
var pw=this.dropDown;
if(pw&&(_4b6==pw._messages["previousMessage"]||_4b6==pw._messages["nextMessage"])){
this._setValueAttr(this._lastValueReported,true);
}else{
if(typeof this.item=="undefined"){
this.item=null;
this.set("displayedValue",_4b6);
}else{
if(this.value!=this._lastValueReported){
this._handleOnChange(this.value,true);
}
this._refreshState();
}
}
},_setItemAttr:function(item,_4b7,_4b8){
var _4b9="";
if(item){
if(!_4b8){
_4b8=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];
}
_4b9=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_4b8;
}
this.set("value",_4b9,_4b7,_4b8,item);
},_announceOption:function(node){
if(!node){
return;
}
var _4ba;
if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){
_4ba=node.innerHTML;
this.item=undefined;
this.value="";
}else{
var item=this.dropDown.items[node.getAttribute("item")];
_4ba=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();
this.set("item",item,false,_4ba);
}
this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);
this.focusNode.setAttribute("aria-activedescendant",_4a2.get(node,"id"));
this._autoCompleteText(_4ba);
},_selectOption:function(_4bb){
this.closeDropDown();
if(_4bb){
this._announceOption(_4bb);
}
this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,true);
},_startSearchAll:function(){
this._startSearch("");
},_startSearchFromInput:function(){
this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));
},_getQueryString:function(text){
return _4a6.substitute(this.queryExpr,[text]);
},_startSearch:function(key){
if(!this.dropDown){
var _4bc=this.id+"_popup",_4bd=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;
this.dropDown=new _4bd({onChange:lang.hitch(this,this._selectOption),id:_4bc,dir:this.dir,textDir:this.textDir});
this.focusNode.removeAttribute("aria-activedescendant");
this.textbox.setAttribute("aria-owns",_4bc);
}
this._lastInput=key;
var _4be=lang.clone(this.query);
var _4bf={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}};
lang.mixin(_4bf,this.fetchProperties);
var qs=this._getQueryString(key),q;
if(this.store._oldAPI){
q=qs;
}else{
q=_49f.patternToRegExp(qs,this.ignoreCase);
q.toString=function(){
return qs;
};
}
this._lastQuery=_4be[this.searchAttr]=q;
var _4c0=this,_4c1=function(){
var _4c2=_4c0._fetchHandle=_4c0.store.query(_4be,_4bf);
_4a1.when(_4c2,function(res){
_4c0._fetchHandle=null;
res.total=_4c2.total;
_4c0._openResultList(res,_4be,_4bf);
},function(err){
_4c0._fetchHandle=null;
if(!_4c0._cancelingQuery){
console.error(_4c0.declaredClass+" "+err.toString());
_4c0.closeDropDown();
}
});
};
this.searchTimer=setTimeout(lang.hitch(this,function(_4c3,_4c4){
this.searchTimer=null;
_4c1();
this._nextSearch=this.dropDown.onPage=function(_4c5){
_4bf.start+=_4bf.count*_4c5;
_4bf.direction=_4c5;
_4c1();
_4c4.focus();
};
},_4be,this),this.searchDelay);
},_getValueField:function(){
return this.searchAttr;
},constructor:function(){
this.query={};
this.fetchProperties={};
},postMixInProperties:function(){
if(!this.store){
var _4c6=this.srcNodeRef;
var list=this.list;
if(list){
this.store=_4a8.byId(list);
}else{
this.store=new _4a7({},_4c6);
}
if(!("value" in this.params)){
var item=(this.item=this.store.fetchSelectedItem());
if(item){
var _4c7=this._getValueField();
this.value=this.store._oldAPI?this.store.getValue(item,_4c7):item[_4c7];
}
}
}
this.inherited(arguments);
},postCreate:function(){
var _4c8=_4a4("label[for=\""+this.id+"\"]");
if(_4c8.length){
_4c8[0].id=(this.id+"_label");
this.domNode.setAttribute("aria-labelledby",_4c8[0].id);
}
this.inherited(arguments);
},_getMenuLabelFromItem:function(item){
var _4c9=this.labelFunc(item,this.store),_4ca=this.labelType;
if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){
_4c9=this.doHighlight(_4c9,this._escapeHtml(this._lastInput));
_4ca="html";
}
return {html:_4ca=="html",label:_4c9};
},doHighlight:function(_4cb,find){
var _4cc=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");
find=_4a5.escapeString(find);
return this._escapeHtml(_4cb).replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_4cc),"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");
},_escapeHtml:function(str){
str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");
return str;
},reset:function(){
this.item=null;
this.inherited(arguments);
},labelFunc:function(item,_4cd){
return (_4cd._oldAPI?_4cd.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();
},_setValueAttr:function(_4ce,_4cf,_4d0,item){
this._set("item",item||null);
if(!_4ce){
_4ce="";
}
this.inherited(arguments);
},_setTextDirAttr:function(_4d1){
this.inherited(arguments);
if(this.dropDown){
this.dropDown._set("textDir",_4d1);
}
}});
});
},"url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\">\n\t<div role=\"presentation\" class=\"dijitTabInnerDiv\" data-dojo-attach-point=\"innerDiv,focusNode\">\n\t\t<div role=\"presentation\" class=\"dijitTabContent dijitButtonContents\" data-dojo-attach-point=\"tabContent\">\n\t\t\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n\t\t</div>\n\t</div>\n</div>","cm/_base/_form":function(){
define("cm/_base/_form",[],function(){
var cm=dojo.global.cm||{};
dojo.global.cm=cm;
dojo.mixin(cm,{checkAll:function(_4d2,_4d3){
cm.query("input[type='checkbox']",_4d3).forEach("item.checked = "+(_4d2?"true":"false"));
},setFormSubmitted:function(form,_4d4){
form._alreadySubmitted=_4d4;
},wasFormSubmitted:function(form){
return form._alreadySubmitted;
},getFormItems:function(){
if(cm._formItems){
return cm._formItems;
}
var _4d5=dojo.query("input[name='__o3fmeta']");
var data=_4d5.length>0?dojo.fromJson(_4d5[0].value):{};
var _4d6=[];
for(var x in data){
_4d6.push(x);
}
cm._formItems=new function(){
this.length=function(){
return _4d6.length;
};
this.getNames=function(){
return _4d6;
};
this.getInputs=function(_4d7){
var _4d8=[];
dojo.forEach(_4d6,function(name,_4d9){
if(!_4d7||this.isMandatory(_4d9)){
_4d8.push("[name='"+name+"']");
}
},this);
return _4d8.length>0?dojo.query(_4d8.join(",")):[];
};
function fn(_4da){
return function(_4db){
var d=data[dojo.isString(_4db)?_4db:_4d6[_4db]];
return d?d[_4da]:null;
};
};
this.getTargetPath=fn(0);
this.getLabel=fn(1);
this.getDomain=fn(2);
this.isMandatory=fn(3);
};
return cm._formItems;
}});
return cm;
});
},"dijit/form/MappedTextBox":function(){
define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(_4dc,_4dd,_4de){
return _4dc("dijit.form.MappedTextBox",_4de,{postMixInProperties:function(){
this.inherited(arguments);
this.nameAttrSetting="";
},_setNameAttr:null,serialize:function(val){
return val.toString?val.toString():"";
},toString:function(){
var val=this.filter(this.get("value"));
return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";
},validate:function(){
this.valueNode.value=this.toString();
return this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
this.valueNode=_4dd.place("<input type='hidden'"+(this.name?" name='"+this.name.replace(/'/g,"&quot;")+"'":"")+"/>",this.textbox,"after");
},reset:function(){
this.valueNode.value="";
this.inherited(arguments);
}});
});
},"dijit/form/ComboBoxMixin":function(){
require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"}});
define("dijit/form/ComboBoxMixin",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_4df,_4e0,_4e1,lang,_4e2,_4e3,_4e4,_4e5,_4e6){
return _4df("dijit.form.ComboBoxMixin",[_4e5,_4e3],{dropDownClass:_4e4,hasDownArrow:true,templateString:_4e6,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){
this._set("hasDownArrow",val);
this._buttonNode.style.display=val?"":"none";
},_showResultList:function(){
this.displayMessage("");
this.inherited(arguments);
},_setStoreAttr:function(_4e7){
if(!_4e7.get){
lang.mixin(_4e7,{_oldAPI:true,get:function(id){
var _4e8=new _4e0();
this.fetchItemByIdentity({identity:id,onItem:function(_4e9){
_4e8.resolve(_4e9);
},onError:function(_4ea){
_4e8.reject(_4ea);
}});
return _4e8.promise;
},query:function(_4eb,_4ec){
var _4ed=new _4e0(function(){
_4ee.abort&&_4ee.abort();
});
var _4ee=this.fetch(lang.mixin({query:_4eb,onBegin:function(_4ef){
_4ed.total=_4ef;
},onComplete:function(_4f0){
_4ed.resolve(_4f0);
},onError:function(_4f1){
_4ed.reject(_4f1);
}},_4ec));
return _4e2(_4ed);
}});
}
this._set("store",_4e7);
},postMixInProperties:function(){
if(this.params.store){
this._setStoreAttr(this.params.store);
}
this.inherited(arguments);
if(!this.params.store){
var _4f2=this.declaredClass;
lang.mixin(this.store,{getValue:function(item,attr){
_4e1.deprecated(_4f2+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");
return item[attr];
},getLabel:function(item){
_4e1.deprecated(_4f2+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");
return item.name;
},fetch:function(args){
_4e1.deprecated(_4f2+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");
var shim=["dojo/data/ObjectStore"];
require(shim,lang.hitch(this,function(_4f3){
new _4f3({objectStore:this}).fetch(args);
}));
}});
}
}});
});
},"dijit/form/_TextBoxMixin":function(){
define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/_base/event","dojo/keys","dojo/_base/lang",".."],function(_4f4,_4f5,dom,_4f6,keys,lang,_4f7){
var _4f8=_4f5("dijit.form._TextBoxMixin",null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){
return this.parse(this.get("displayedValue"),this.constraints);
},_setValueAttr:function(_4f9,_4fa,_4fb){
var _4fc;
if(_4f9!==undefined){
_4fc=this.filter(_4f9);
if(typeof _4fb!="string"){
if(_4fc!==null&&((typeof _4fc!="number")||!isNaN(_4fc))){
_4fb=this.filter(this.format(_4fc,this.constraints));
}else{
_4fb="";
}
}
}
if(_4fb!=null&&_4fb!=undefined&&((typeof _4fb)!="number"||!isNaN(_4fb))&&this.textbox.value!=_4fb){
this.textbox.value=_4fb;
this._set("displayedValue",this.get("displayedValue"));
}
if(this.textDir=="auto"){
this.applyTextDir(this.focusNode,_4fb);
}
this.inherited(arguments,[_4fc,_4fa]);
},displayedValue:"",_getDisplayedValueAttr:function(){
return this.filter(this.textbox.value);
},_setDisplayedValueAttr:function(_4fd){
if(_4fd===null||_4fd===undefined){
_4fd="";
}else{
if(typeof _4fd!="string"){
_4fd=String(_4fd);
}
}
this.textbox.value=_4fd;
this._setValueAttr(this.get("value"),undefined);
this._set("displayedValue",this.get("displayedValue"));
if(this.textDir=="auto"){
this.applyTextDir(this.focusNode,_4fd);
}
},format:function(_4fe){
return ((_4fe==null||_4fe==undefined)?"":(_4fe.toString?_4fe.toString():_4fe));
},parse:function(_4ff){
return _4ff;
},_refreshState:function(){
},onInput:function(){
},__skipInputEvent:false,_onInput:function(){
if(this.textDir=="auto"){
this.applyTextDir(this.focusNode,this.focusNode.value);
}
this._refreshState();
this._set("displayedValue",this.get("displayedValue"));
},postCreate:function(){
this.textbox.setAttribute("value",this.textbox.value);
this.inherited(arguments);
var _500=function(e){
var _501=e.charOrCode||e.keyCode||229;
if(e.type=="keydown"){
switch(_501){
case keys.SHIFT:
case keys.ALT:
case keys.CTRL:
case keys.META:
case keys.CAPS_LOCK:
return;
default:
if(_501>=65&&_501<=90){
return;
}
}
}
if(e.type=="keypress"&&typeof _501!="string"){
return;
}
if(e.type=="input"){
if(this.__skipInputEvent){
this.__skipInputEvent=false;
return;
}
}else{
this.__skipInputEvent=true;
}
var faux=lang.mixin({},e,{charOrCode:_501,wasConsumed:false,preventDefault:function(){
faux.wasConsumed=true;
e.preventDefault();
},stopPropagation:function(){
e.stopPropagation();
}});
if(this.onInput(faux)===false){
_4f6.stop(faux);
}
if(faux.wasConsumed){
return;
}
setTimeout(lang.hitch(this,"_onInput",faux),0);
};
_4f4.forEach(["onkeydown","onkeypress","onpaste","oncut","oninput","oncompositionend"],function(_502){
this.connect(this.textbox,_502,_500);
},this);
},_blankValue:"",filter:function(val){
if(val===null){
return this._blankValue;
}
if(typeof val!="string"){
return val;
}
if(this.trim){
val=lang.trim(val);
}
if(this.uppercase){
val=val.toUpperCase();
}
if(this.lowercase){
val=val.toLowerCase();
}
if(this.propercase){
val=val.replace(/[^\s]+/g,function(word){
return word.substring(0,1).toUpperCase()+word.substring(1);
});
}
return val;
},_setBlurValue:function(){
this._setValueAttr(this.get("value"),true);
},_onBlur:function(e){
if(this.disabled){
return;
}
this._setBlurValue();
this.inherited(arguments);
if(this._selectOnClickHandle){
this.disconnect(this._selectOnClickHandle);
}
},_isTextSelected:function(){
return this.textbox.selectionStart==this.textbox.selectionEnd;
},_onFocus:function(by){
if(this.disabled||this.readOnly){
return;
}
if(this.selectOnClick&&by=="mouse"){
this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){
this.disconnect(this._selectOnClickHandle);
if(this._isTextSelected()){
_4f8.selectInputText(this.textbox);
}
});
}
this.inherited(arguments);
this._refreshState();
},reset:function(){
this.textbox.value="";
this.inherited(arguments);
},_setTextDirAttr:function(_503){
if(!this._created||this.textDir!=_503){
this._set("textDir",_503);
this.applyTextDir(this.focusNode,this.focusNode.value);
}
}});
_4f8._setSelectionRange=_4f7._setSelectionRange=function(_504,_505,stop){
if(_504.setSelectionRange){
_504.setSelectionRange(_505,stop);
}
};
_4f8.selectInputText=_4f7.selectInputText=function(_506,_507,stop){
_506=dom.byId(_506);
if(isNaN(_507)){
_507=0;
}
if(isNaN(stop)){
stop=_506.value?_506.value.length:0;
}
try{
_506.focus();
_4f8._setSelectionRange(_506,_507,stop);
}
catch(e){
}
};
return _4f8;
});
},"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode\" data-dojo-attach-event='onclick:onClick'>\n    <div role=\"presentation\" class='dijitTabInnerDiv' data-dojo-attach-point='innerDiv'>\n        <div role=\"presentation\" class='dijitTabContent' data-dojo-attach-point='tabContent'>\n        \t<div role=\"presentation\" data-dojo-attach-point='focusNode'>\n\t\t        <img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode' />\n\t\t        <span data-dojo-attach-point='containerNode' class='tabLabel'></span>\n\t\t        <span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t        \t\tdata-dojo-attach-event='onclick: onClickCloseButton' role=\"presentation\">\n\t\t            <span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t        ></span>\n\t\t\t</div>\n        </div>\n    </div>\n</div>\n","curam/ajax":function(){
define("curam/ajax",[],function(){
var _508=function(_509,_50a){
this.target=_509;
this.inputProvider=_50a||"null";
};
var _50b={doRequest:function(_50c,_50d,_50e,_50f){
var _510="../servlet/JSONServlet";
var _511=this;
if(_50e){
_510="../"+_510;
}
var _512={caller:this.target.id,operation:_50c,inputProvider:this.inputProvider,args:_50d};
function _513(_514,_515){
_514=dojo.fromJson(_514);
if(_514 instanceof Array){
if(_514.length>1){
if(_515=="getCodeTableSubset"){
_511.fillCTWithBlank(_514);
}else{
_511.fillCT(_514);
}
}else{
if(_515=="getCodeTableSubset"){
_511.fillCTWithBlank(_514);
}else{
_511.fillSingle(_514,true);
}
}
}else{
_511.fillSingle(_514);
}
};
var _516=dojo.xhrPost({url:_510,handleAs:"text",load:function(data,evt){
_513(data,_50c);
},error:function(){
alert("error");
},content:{"content":dojo.toJson(_512)},preventCache:true,sync:_50f});
},fillCT:function(_517){
this.target.options.length=0;
for(var i=0;i<_517.length;i++){
this.target.options[i]=new Option(_517[i]["descr"],_517[i]["code"],_517[i]["default"]);
}
},fillCTWithBlank:function(_518){
this.target.options.length=0;
this.target.options[0]=new Option("");
for(var i=0;i<_518.length;i++){
this.target.options[i+1]=new Option(_518[i]["descr"],_518[i]["code"]);
}
},fillSingle:function(_519,_51a){
if(_51a){
this.target.value=_519[0]["value"];
}else{
this.target.value=_519["value"];
}
}};
dojo.mixin(_508.prototype,_50b);
dojo.global.AJAXCall=_508;
return _508;
});
},"dijit/PopupMenuItem":function(){
define("dijit/PopupMenuItem",["dojo/_base/declare","dojo/dom-style","dojo/query","dojo/_base/window","./registry","./MenuItem","./hccss"],function(_51b,_51c,_51d,win,_51e,_51f){
return _51b("dijit.PopupMenuItem",_51f,{_fillContent:function(){
if(this.srcNodeRef){
var _520=_51d("*",this.srcNodeRef);
this.inherited(arguments,[_520[0]]);
this.dropDownContainer=this.srcNodeRef;
}
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
if(!this.popup){
var node=_51d("[widgetId]",this.dropDownContainer)[0];
this.popup=_51e.byNode(node);
}
win.body().appendChild(this.popup.domNode);
this.popup.startup();
this.popup.domNode.style.display="none";
if(this.arrowWrapper){
_51c.set(this.arrowWrapper,"visibility","");
}
this.focusNode.setAttribute("aria-haspopup","true");
},destroyDescendants:function(_521){
if(this.popup){
if(!this.popup._destroyed){
this.popup.destroyRecursive(_521);
}
delete this.popup;
}
this.inherited(arguments);
}});
});
},"cm/_base/_behavior":function(){
define("cm/_base/_behavior",["dojo/behavior"],function(){
var cm=dojo.global.cm||{};
dojo.global.cm=cm;
dojo.mixin(cm,{behaviors:{},addedBehaviors:{},addBehavior:function(name){
var b=cm.behaviors[name];
if(b&&!cm.addedBehaviors[name]){
dojo.behavior.add(b);
cm.addedBehaviors[name]=true;
dojo.behavior.apply();
}
},registerBehavior:function(name,_522){
cm.behaviors[name]=_522;
}});
return cm;
});
},"dijit/main":function(){
define("dijit/main",["dojo/_base/kernel"],function(dojo){
return dojo.dijit;
});
},"curam/define":function(){
define("curam/define",[],function(){
if(typeof (dojo.global.curam)=="undefined"){
dojo.global.curam={};
}
if(typeof (dojo.global.curam.define)=="undefined"){
dojo.mixin(dojo.global.curam,{define:{}});
}
dojo.mixin(dojo.global.curam.define,{singleton:function(_523,_524){
var _525=_523.split(".");
var _526=window;
for(var i=0;i<_525.length;i++){
var part=_525[i];
if(typeof _526[part]=="undefined"){
_526[part]={};
}
_526=_526[part];
}
if(_524){
dojo.mixin(_526,_524);
}
}});
return dojo.global.curam.define;
});
},"dijit/_OnDijitClickMixin":function(){
define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window"],function(on,_527,keys,_528,has,_529,win){
var _52a=null;
if(has("ie")){
(function(){
var _52b=function(evt){
_52a=evt.srcElement;
};
win.doc.attachEvent("onkeydown",_52b);
_529.addOnWindowUnload(function(){
win.doc.detachEvent("onkeydown",_52b);
});
})();
}else{
win.doc.addEventListener("keydown",function(evt){
_52a=evt.target;
},true);
}
var _52c=function(node,_52d){
if(/input|button/i.test(node.nodeName)){
return on(node,"click",_52d);
}else{
function _52e(e){
return (e.keyCode==keys.ENTER||e.keyCode==keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey;
};
var _52f=[on(node,"keypress",function(e){
if(_52e(e)){
_52a=e.target;
e.preventDefault();
}
}),on(node,"keyup",function(e){
if(_52e(e)&&e.target==_52a){
_52a=null;
_52d.call(this,e);
}
}),on(node,"click",function(e){
_52d.call(this,e);
})];
return {remove:function(){
_527.forEach(_52f,function(h){
h.remove();
});
}};
}
};
return _528("dijit._OnDijitClickMixin",null,{connect:function(obj,_530,_531){
return this.inherited(arguments,[obj,_530=="ondijitclick"?_52c:_530,_531]);
}});
});
},"curam/layout/ScrollingTabController":function(){
define("curam/layout/ScrollingTabController",["dijit/layout/ScrollingTabController","curam/debug"],function(_532){
var _533=dojo.declare("curam.layout.ScrollingTabController",_532,{onStartup:function(){
this.inherited(arguments);
this.updateTabStyle();
},updateTabStyle:function(){
var kids=this.getChildren();
curam.debug.log("curam.layout.ScrollingTabController.updateTabStyle kids = ",this.domNode);
dojo.forEach(kids,function(_534,_535,_536){
dojo.removeClass(_534.domNode,["first-class","last-class"]);
if(_535==0){
dojo.addClass(_534.domNode,"first");
}else{
if(_535==_536.length-1){
dojo.addClass(_534.domNode,"last");
}
}
});
var _537=dojo.query(".nowrapTabStrip",this.domNode)[0];
dojo.replaceClass(_537,"nowrapSecTabStrip","nowrapTabStrip");
var _538=document.createElement("div");
dojo.addClass(_538,"block-slope");
dojo.addClass(_538,"dijitTab");
_538.innerHTML="&#x200B;";
_537.appendChild(_538);
}});
return _533;
});
},"dojo/dnd/autoscroll":function(){
define("dojo/dnd/autoscroll",["../main","../window"],function(dojo){
dojo.getObject("dnd",true,dojo);
dojo.dnd.getViewport=dojo.window.getBox;
dojo.dnd.V_TRIGGER_AUTOSCROLL=32;
dojo.dnd.H_TRIGGER_AUTOSCROLL=32;
dojo.dnd.V_AUTOSCROLL_VALUE=16;
dojo.dnd.H_AUTOSCROLL_VALUE=16;
dojo.dnd.autoScroll=function(e){
var v=dojo.window.getBox(),dx=0,dy=0;
if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){
dx=-dojo.dnd.H_AUTOSCROLL_VALUE;
}else{
if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){
dx=dojo.dnd.H_AUTOSCROLL_VALUE;
}
}
if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){
dy=-dojo.dnd.V_AUTOSCROLL_VALUE;
}else{
if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){
dy=dojo.dnd.V_AUTOSCROLL_VALUE;
}
}
window.scrollBy(dx,dy);
};
dojo.dnd._validNodes={"div":1,"p":1,"td":1};
dojo.dnd._validOverflow={"auto":1,"scroll":1};
dojo.dnd.autoScrollNodes=function(e){
var b,t,w,h,rx,ry,dx=0,dy=0,_539,_53a;
for(var n=e.target;n;){
if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){
var s=dojo.getComputedStyle(n),_53b=(s.overflow.toLowerCase() in dojo.dnd._validOverflow),_53c=(s.overflowX.toLowerCase() in dojo.dnd._validOverflow),_53d=(s.overflowY.toLowerCase() in dojo.dnd._validOverflow);
if(_53b||_53c||_53d){
b=dojo._getContentBox(n,s);
t=dojo.position(n,true);
}
if(_53b||_53c){
w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2);
rx=e.pageX-t.x;
if(dojo.isWebKit||dojo.isOpera){
rx+=dojo.body().scrollLeft;
}
dx=0;
if(rx>0&&rx<b.w){
if(rx<w){
dx=-w;
}else{
if(rx>b.w-w){
dx=w;
}
}
_539=n.scrollLeft;
n.scrollLeft=n.scrollLeft+dx;
}
}
if(_53b||_53d){
h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2);
ry=e.pageY-t.y;
if(dojo.isWebKit||dojo.isOpera){
ry+=dojo.body().scrollTop;
}
dy=0;
if(ry>0&&ry<b.h){
if(ry<h){
dy=-h;
}else{
if(ry>b.h-h){
dy=h;
}
}
_53a=n.scrollTop;
n.scrollTop=n.scrollTop+dy;
}
}
if(dx||dy){
return;
}
}
try{
n=n.parentNode;
}
catch(x){
n=null;
}
}
dojo.dnd.autoScroll(e);
};
return dojo.dnd;
});
},"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\" data-dojo-attach-event=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick\"\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" data-dojo-attach-event=\"onfocus:_onLabelFocus\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","dojo/dnd/TimedMoveable":function(){
define("dojo/dnd/TimedMoveable",["../main","./Moveable"],function(dojo){
var _53e=dojo.dnd.Moveable.prototype.onMove;
dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function(node,_53f){
if(!_53f){
_53f={};
}
if(_53f.timeout&&typeof _53f.timeout=="number"&&_53f.timeout>=0){
this.timeout=_53f.timeout;
}
},onMoveStop:function(_540){
if(_540._timer){
clearTimeout(_540._timer);
_53e.call(this,_540,_540._leftTop);
}
dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments);
},onMove:function(_541,_542){
_541._leftTop=_542;
if(!_541._timer){
var _543=this;
_541._timer=setTimeout(function(){
_541._timer=null;
_53e.call(_543,_541,_541._leftTop);
},this.timeout);
}
}});
return dojo.dnd.TimedMoveable;
});
},"dijit/form/_ListMouseMixin":function(){
define("dijit/form/_ListMouseMixin",["dojo/_base/declare","dojo/_base/event","dojo/touch","./_ListBase"],function(_544,_545,_546,_547){
return _544("dijit.form._ListMouseMixin",_547,{postCreate:function(){
this.inherited(arguments);
this.connect(this.domNode,_546.press,"_onMouseDown");
this.connect(this.domNode,_546.release,"_onMouseUp");
this.connect(this.domNode,"onmouseover","_onMouseOver");
this.connect(this.domNode,"onmouseout","_onMouseOut");
},_onMouseDown:function(evt){
_545.stop(evt);
if(this._hoveredNode){
this.onUnhover(this._hoveredNode);
this._hoveredNode=null;
}
this._isDragging=true;
this._setSelectedAttr(this._getTarget(evt));
},_onMouseUp:function(evt){
_545.stop(evt);
this._isDragging=false;
var _548=this._getSelectedAttr();
var _549=this._getTarget(evt);
var _54a=this._hoveredNode;
if(_548&&_549==_548){
this.onClick(_548);
}else{
if(_54a&&_549==_54a){
this._setSelectedAttr(_54a);
this.onClick(_54a);
}
}
},_onMouseOut:function(){
if(this._hoveredNode){
this.onUnhover(this._hoveredNode);
if(this._getSelectedAttr()==this._hoveredNode){
this.onSelect(this._hoveredNode);
}
this._hoveredNode=null;
}
if(this._isDragging){
this._cancelDrag=(new Date()).getTime()+1000;
}
},_onMouseOver:function(evt){
if(this._cancelDrag){
var time=(new Date()).getTime();
if(time>this._cancelDrag){
this._isDragging=false;
}
this._cancelDrag=null;
}
var node=this._getTarget(evt);
if(!node){
return;
}
if(this._hoveredNode!=node){
if(this._hoveredNode){
this._onMouseOut({target:this._hoveredNode});
}
if(node&&node.parentNode==this.containerNode){
if(this._isDragging){
this._setSelectedAttr(node);
}else{
this._hoveredNode=node;
this.onHover(node);
}
}
}
}});
});
},"url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\"\n\tdata-dojo-attach-event=\"onkeypress:_onKeyPress\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n","curam/inPageNavigation":function(){
define("curam/inPageNavigation",["curam/tab","curam/ui/PageRequest","curam/debug","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _54b=new curam.util.ResourceBundle("Debug");
var _54c=dojo.declare("curam.inPageNavigation",null,{title:"",href:"",selected:false,constructor:function(args){
this.title=args.title;
this.href=args.href;
this.selected=args.selected;
curam.debug.log("curam.inPageNavigation "+_54b.getProperty("curam.inPageNavigation.msg")+this);
},getLinks:function(){
var _54d=dojo.query(".in-page-navigation-tabs")[0];
var _54e=dojo.query("li",_54d);
var _54f=new Array();
dojo.forEach(_54e,function(link){
var _550=dojo.query("a",link)[0];
if(!_550){
return;
}
var _551=_550.innerText||_550.textContent;
var _552=false;
dojo.filter(dojo.attr(_550,"class").split(" "),function(_553){
if(_553=="in-page-current-link"){
_552=true;
return;
}
});
var href=dojo.attr(_550,"href");
var _554=new curam.inPageNavigation({"title":_551,"selected":_552,"href":href});
_54f.push(_554);
});
return _54f;
},processMainContentAreaLinks:function(){
dojo.addOnLoad(function(){
var _555=dojo.query(".ipn-page")[0];
if(_555){
var _556=dijit.byId(dojo.attr(_555,"id"));
var _557=_556.getChildren()[0];
_556.removeChild(_557);
if(_556.getChildren().length==0){
return;
}
var _558=dojo.query(".in-page-nav-contentWrapper")[0];
var _559=dojo.query("> *",_558);
var _55a=_559[_559.length-1];
var pos=dojo.position(_55a);
var _55b=pos.y;
var _55c="height: "+_55b+"px;";
dojo.attr(_558,"style",_55c);
dojo.connect(_556,"_transition",function(_55d,_55e){
var link=dojo.query(".in-page-link",_55d.id)[0];
var _55f=new curam.ui.PageRequest(link.href);
if(jsScreenContext.hasContextBits("LIST_ROW_INLINE_PAGE")){
_55f.pageHolder=window;
}
curam.tab.getTabController().handlePageRequest(_55f);
});
dojo.style(_555,"visibility","visible");
}
});
}});
return _54c;
});
},"dojo/cookie":function(){
define("dojo/cookie",["./_base/kernel","./regexp"],function(dojo,_560){
dojo.cookie=function(name,_561,_562){
var c=document.cookie,ret;
if(arguments.length==1){
var _563=c.match(new RegExp("(?:^|; )"+_560.escapeString(name)+"=([^;]*)"));
ret=_563?decodeURIComponent(_563[1]):undefined;
}else{
_562=_562||{};
var exp=_562.expires;
if(typeof exp=="number"){
var d=new Date();
d.setTime(d.getTime()+exp*24*60*60*1000);
exp=_562.expires=d;
}
if(exp&&exp.toUTCString){
_562.expires=exp.toUTCString();
}
_561=encodeURIComponent(_561);
var _564=name+"="+_561,_565;
for(_565 in _562){
_564+="; "+_565;
var _566=_562[_565];
if(_566!==true){
_564+="="+_566;
}
}
document.cookie=_564;
}
return ret;
};
dojo.cookie.isSupported=function(){
if(!("cookieEnabled" in navigator)){
this("__djCookieTest__","CookiesAllowed");
navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";
if(navigator.cookieEnabled){
this("__djCookieTest__","",{expires:-1});
}
}
return navigator.cookieEnabled;
};
return dojo.cookie;
});
},"dojo/cache":function(){
define("dojo/cache",["./_base/kernel","./text"],function(dojo,text){
return dojo.cache;
});
},"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n","curam/util/ui/refresh/TabRefreshController":function(){
define("curam/util/ui/refresh/TabRefreshController",["curam/debug","curam/util/ui/refresh/RefreshEvent","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _567=new curam.util.ResourceBundle("Debug");
var _568=dojo.declare("curam.util.ui.refresh.TabRefreshController",null,{EVENT_REFRESH_MENU:"/curam/refresh/menu",EVENT_REFRESH_NAVIGATION:"/curam/refresh/navigation",EVENT_REFRESH_CONTEXT:"/curam/refresh/context",EVENT_REFRESH_MAIN:"/curam/refresh/main-content",_tabWidgetId:null,_configOnSubmit:null,_configOnLoad:null,_handler:null,_lastSubmitted:null,_currentlyRefreshing:null,constructor:function(_569,_56a){
this._configOnSubmit={};
this._configOnLoad={};
if(!_56a){
return;
}
this._tabWidgetId=_569;
dojo.forEach(_56a.config,dojo.hitch(this,function(item){
this._configOnSubmit[item.page]=item.onsubmit;
this._configOnLoad[item.page]=item.onload;
}));
},pageSubmitted:function(_56b,_56c){
new curam.util.ui.refresh.RefreshEvent(curam.util.ui.refresh.RefreshEvent.prototype.TYPE_ONSUBMIT,_56c);
curam.debug.log("curam.util.ui.refresh.TabRefreshController: "+_567.getProperty("curam.util.ui.refresh.TabRefreshController.submit",[_56b,_56c]));
if(this._configOnSubmit[_56b]){
this._lastSubmitted=_56b;
curam.debug.log("curam.util.ui.refresh.TabRefreshController: "+_567.getProperty("curam.util.ui.refresh.TabRefreshController"+"submit.notify"));
}
},pageLoaded:function(_56d,_56e){
var _56f=new curam.util.ui.refresh.RefreshEvent(curam.util.ui.refresh.RefreshEvent.prototype.TYPE_ONLOAD,_56e);
curam.debug.log("curam.util.ui.refresh.TabRefreshController:"+_567.getProperty("curam.util.ui.refresh.TabRefreshController.load",[_56d,_56e]));
if(this._currentlyRefreshing&&this._currentlyRefreshing.equals(_56f)){
this._currentlyRefreshing=null;
curam.debug.log("curam.util.ui.refresh.TabRefreshController:"+_567.getProperty("curam.util.ui.refresh.TabRefreshController"+"refresh"));
return;
}
var _570={};
if(_56e==_56f.SOURCE_CONTEXT_MAIN&&this._configOnLoad[_56d]){
_570=this._configOnLoad[_56d];
curam.debug.log("curam.util.ui.refresh.TabRefreshController:"+_567.getProperty("curam.util.ui.refresh.TabRefreshController"+".load.config"));
}
if(this._lastSubmitted){
var cfg=this._configOnSubmit[this._lastSubmitted];
curam.debug.log("curam.util.ui.refresh.TabRefreshController:"+_567.getProperty("curam.util.ui.refresh.TabRefreshController"+".submit.config",[this._lastSubmitted]));
_570.details=_570.details||cfg.details;
_570.menubar=_570.menubar||cfg.menubar;
_570.navigation=_570.navigation||cfg.navigation;
_570.mainContent=_570.mainContent||cfg.mainContent;
this._lastSubmitted=null;
}
this._fireRefreshEvents(_570);
},_fireRefreshEvents:function(cfg){
var _571=[];
if(cfg.details){
curam.debug.log("curam.util.ui.refresh.TabRefreshController:"+_567.getProperty("curam.util.ui.refresh.TabRefreshController"+".refresh.context"));
_571.push(this.EVENT_REFRESH_CONTEXT+"/"+this._tabWidgetId);
}
if(cfg.menubar){
curam.debug.log("curam.util.ui.refresh.TabRefreshController:"+_567.getProperty("curam.util.ui.refresh.TabRefreshController"+".refresh.menu"));
_571.push(this.EVENT_REFRESH_MENU+"/"+this._tabWidgetId);
}
if(cfg.navigation){
curam.debug.log("curam.util.ui.refresh.TabRefreshController:"+_567.getProperty("curam.util.ui.refresh.TabRefreshController"+".refresh.nav"));
_571.push(this.EVENT_REFRESH_NAVIGATION+"/"+this._tabWidgetId);
}
if(cfg.mainContent){
curam.debug.log("curam.util.ui.refresh.TabRefreshController:"+_567.getProperty("curam.util.ui.refresh.TabRefreshController"+".refresh.main"));
this._currentlyRefreshing=new curam.util.ui.refresh.RefreshEvent(curam.util.ui.refresh.RefreshEvent.prototype.TYPE_ONLOAD,curam.util.ui.refresh.RefreshEvent.prototype.SOURCE_CONTEXT_MAIN,null);
_571.push(this.EVENT_REFRESH_MAIN+"/"+this._tabWidgetId);
}
if(_571.length>0){
curam.debug.log("curam.util.ui.refresh.TabRefreshController:"+_567.getProperty("curam.util.ui.refresh.TabRefreshController"+".refresh.log",[_571.length,_571]));
this._handler(_571);
}
},setRefreshHandler:function(_572){
this._handler=_572;
},destroy:function(){
for(prop in this._configOnSubmit){
if(this._configOnSubmit.hasOwnProperty(prop)){
delete this._configOnSubmit[prop];
}
}
for(prop in this._configOnLoad){
if(this._configOnLoad.hasOwnProperty(prop)){
delete this._configOnLoad[prop];
}
}
this._configOnSubmit={};
this._configOnLoad={};
this._handler=null;
this._lastSubmitted=null;
this._currentlyRefreshing=null;
}});
return _568;
});
},"url:curam/layout/resources/TabContainer.html":"<div class=\"dijitTabContainer\">\r\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\r\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer dijitAlignTop\"></div>\r\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container dijitAlignClient\" data-dojo-attach-point=\"containerNode\"></div>\r\n</div>\r\n","curam/core-uim":function(){
define("curam/core-uim",["cm/_base/_dom","cm/_base/_form","cm/_base/_pageBehaviors","curam/util","curam/date","curam/validation","curam/util/ScreenContext","curam/util/onLoad","curam/ui/UIMPageAdaptor","curam/util/ExpandableLists","curam/util/Refresh","curam/omega3-util","dijit/layout/ContentPane","curam/layout/TabContainer","curam/inPageNavigation"],function(){
});
},"curam/widget/_TabButton":function(){
require({cache:{"url:curam/widget/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode\" data-dojo-attach-event='onclick:onClick' class='dijitTab'>\r\n    <div role=\"presentation\" class='dijitTabInnerDiv' data-dojo-attach-point='innerDiv'>\r\n        <div role=\"presentation\" class='dijitTabContent' data-dojo-attach-point='tabContent'>\r\n          <div role=\"presentation\" aria-labelledby='${id}_tabLabel'>\r\n            <img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode' />\r\n            <span data-dojo-attach-point='containerNode,focusNode' class='tabLabel' id='${id}_tabLabel'></span>\r\n            <span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\r\n                data-dojo-attach-event='onclick: onClickCloseButton' role=\"presentation\">\r\n                <span data-dojo-attach-point='closeText' class='dijitTabCloseText'>Close Tab</span\r\n            ></span>\r\n      </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"}});
define("curam/widget/_TabButton",["dojo/dom-attr","dojo/dom-class","dojo/i18n","dojo/_base/lang","dojo/text!curam/widget/templates/_TabButton.html","dojo/_base/connect","dijit/layout/StackController","dijit/Menu","dijit/MenuItem","curam/widget/MenuItem","curam/util/ResourceBundle"],function(_573,_574,i18n,lang,_575,_576){
dojo.requireLocalization("curam.application","TabMenu");
var _577=new curam.util.ResourceBundle("TabMenu");
_576.subscribe("/curam/tab/labelUpdated",function(){
var tabs,_578=dojo.query(".dijitTabContainerTop-tabs");
_578.forEach(function(_579){
tabs=dojo.query(".tabLabel",_579);
tabs.forEach(function(tab,_57a){
var _57b="  ["+(_57a+1)+" "+LOCALISED_TABCONTAINER_CONTEXT_OF+" "+tabs.length+"]";
var _57c=tabs[_57a].innerHTML;
tab.setAttribute("aria-label",_57c+_57b);
tab.setAttribute("title",_57c);
});
});
});
var _57d=dojo.declare("curam.widget._TabButton",dijit.layout._StackButton,{templateString:_575,scrollOnFocus:false,curamDisabled:false,curamVisible:true,baseClass:"dijitTab",postMixInProperties:function(){
if(!this.iconClass){
this.iconClass="dijitTabButtonIcon";
}
},postCreate:function(){
this.inherited(arguments);
dojo.setSelectable(this.containerNode,false);
if(this.iconNode.className=="dijitTabButtonIcon"){
dojo.style(this.iconNode,"width","1px");
}
_573.set(this.focusNode,"id",this.id+"_tabLabel");
},startup:function(){
if(dojo.isIE==6){
this.inherited(arguments);
}else{
dijit.layout._StackButton.prototype.startup.apply(this,arguments);
}
},_setCloseButtonAttr:function(disp){
this._set("closeButton",disp);
_574.toggle(this.innerDiv,"dijitClosable",disp);
this.closeNode.style.display=disp?"":"none";
if(disp){
var _57e=i18n.getLocalization("dijit","common");
if(this.closeNode){
_573.set(this.closeNode,"title",_57e.itemClose);
}
this._closeMenu=new dijit.Menu({id:this.id+"_Menu",dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode]});
var _57f=new curam.widget.MenuItem({onClickValue:"_onClick",label:_57e.itemClose,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:lang.hitch(this,"onClickCloseButton")});
var _580=new curam.widget.MenuItem({onClickValue:"_onClickAll",label:_577.getProperty("close.all.tabs.text"),dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:lang.hitch(this,"onClickCloseButton")});
this._closeMenu.addChild(_57f);
this._closeMenu.addChild(_580);
}else{
dojo.addClass(this.titleNode,"hasNoCloseButton");
if(this._closeMenu){
this._closeMenu.destroyRecursive();
delete this._closeMenu;
}
}
},_setCuramDisabledAttr:function(_581){
this.curamDisabled=_581;
this._swapState(this.domNode,this.curamDisabled,"disabled","enabled");
},_setCuramVisibleAttr:function(_582){
this.curamVisible=_582;
this._swapState(this.domNode,this.curamVisible,"visible","hidden");
},_swapState:function(node,_583,_584,_585){
if(_583){
dojo.replaceClass(node,_584,_585);
}else{
dojo.replaceClass(node,_585,_584);
}
},destroy:function(){
_576.publish("/curam/tab/labelUpdated");
if(this._closeMenu){
this._closeMenu.destroyRecursive();
delete this._closeMenu;
}
this.inherited(arguments);
}});
return _57d;
});
},"url:curam/widget/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","curam/util/ExpandableLists":function(){
define("curam/util/ExpandableLists",["curam/util","curam/debug","curam/UIMController","curam/util/ui/refresh/RefreshEvent","curam/define","curam/contentPanel","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _586=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.util.ExpandableLists",{_minimumExpandedHeight:[],stateData:[],_LIST_ID_PREFIX:"list-id-",_ROW_ID_PREFIX:"row-id-",_EVENT_TOGGLE:"/curam/list/row/toggle",_EVENT_TYPE_EXPANDED:"Expanded",_EVENT_TYPE_COLLAPSED:"Collapsed",setupToggleHandler:function(){
dojo.ready(function(){
var _587=curam.util.ExpandableLists;
var _588=function(_589,_58a,_58b){
curam.debug.log(_586.getProperty("curam.util.ExpandableLists.event",[_58b,_589,_58a]));
if(_58b==_587._EVENT_TYPE_EXPANDED){
var _58c=_587._getListData(_589);
var _58d=dojo.filter(_58c.expandedRows,function(item){
return item==_58a;
});
if(_58d.length==0){
_58c.expandedRows.push(_58a);
}
}else{
var _58c=_587._getListData(_589);
_58c.expandedRows=dojo.filter(_58c.expandedRows,function(item){
return item!=_58a;
});
if(_58c.expandedRows.length==0){
_587._removeListData(_589);
}
}
curam.debug.log("curam.util.ExpandableLists.setupToggleHandler stateData: ",_587.stateData);
};
dojo.subscribe(_587._EVENT_TOGGLE,this,_588);
dojo.subscribe("/curam/page/refresh",this,_587._saveStateData);
});
},_saveStateData:function(){
var _58e=curam.util.ExpandableLists;
curam.debug.log("/curam/page/refresh"+_586.getProperty("curam.util.ExpandableLists.refresh"),_58e.stateData);
curam.util.runStorageFn(function(){
try{
dojo.forEach(_58e.stateData,function(item){
var data=dojo.toJson(item);
curam.debug.log(_586.getProperty("curam.util.ExpandableLists.exception"),data);
var _58f=curam.util.getTopmostWindow().dojox;
_58f.storage.put(_58e._sanitizeKey(item.listId),data);
});
}
catch(e){
curam.debug.log(_586.getProperty("curam.util.ExpandableLists.exception"),e);
}
});
},_sanitizeKey:function(key){
return key.replace("-","_");
},loadStateData:function(_590){
if(typeof (window.curamDialogRedirecting)!="undefined"){
curam.debug.log("curam.util.ExpandableLists.loadStateData "+_586.getProperty("curam.util.ExpandableLists.load.exit"));
return;
}
var _591=curam.util.ExpandableLists;
var _592=function(){
curam.debug.log("curam.util.ExpandableLists.loadStateData "+ +_586.getProperty("curam.util.ExpandableLists.load.for"),_590);
var _593=curam.util.getTopmostWindow().dojox;
var _594=_593.storage.get(_591._sanitizeKey(_590));
if(_594&&_594!=""){
var _595=dojo.fromJson(_594);
var _596=dojo.query("table."+_591._LIST_ID_PREFIX+_590);
dojo.forEach(_595.expandedRows,function(item){
curam.debug.log(_586.getProperty("curam.util.ExpandableLists.load.row"),item);
var _597=dojo.query("tr."+_591._ROW_ID_PREFIX+item,_596[0]);
if(_597.length>0){
var _598=dojo.query("a.list-details-row-toggle",cm.prevSibling(_597[0],"tr"));
if(_598.length==1){
_591._toggleDetailsRow(_598[0]);
}else{
curam.debug.log(_586.getProperty("curam.util.ExpandableLists.load.button"+".disabled"));
}
}else{
curam.debug.log(_586.getProperty("curam.util.ExpandableLists.load.row.disabled"));
}
});
_593.storage.put(_591._sanitizeKey(_590),"");
}else{
curam.debug.log(_586.getProperty("curam.util.ExpandableLists.load.no.data"));
}
};
dojo.ready(function(){
curam.util.runStorageFn(_592);
});
},_getListData:function(_599){
var _59a=curam.util.ExpandableLists.stateData;
var _59b=dojo.filter(_59a,function(item){
return item.listId==_599;
});
if(_59b.length==0){
_59b.push({listId:_599,expandedRows:[]});
_59a.push(_59b[0]);
}
return _59b[0];
},_removeListData:function(_59c){
var _59d=curam.util.ExpandableLists;
_59d.stateData=dojo.filter(_59d.stateData,function(item){
return item.listId!=_59c;
});
},toggleListDetailsRow:function(_59e){
if(_59e){
_59e=dojo.fixEvent(_59e);
dojo.stopEvent(_59e);
var _59f=_59e.currentTarget;
curam.util.ExpandableLists._toggleDetailsRow(_59f);
}
},_generateUimController:function(_5a0){
var _5a1=dojo.query("td",_5a0)[0];
var _5a2=dojo.query("div",_5a0)[0];
var _5a3=new curam.UIMController({uid:dojo.attr(_5a2,"uid"),url:dojo.attr(_5a2,"url"),iframeId:dojo.attr(_5a2,"iframeId"),iframeClassList:dojo.attr(_5a2,"iframeClassList"),loadFrameOnCreate:dojo.attr(_5a2,"loadFrameOnCreate")});
_5a1.appendChild(_5a3.domNode);
if(_5a2&&_5a1){
_5a1.removeChild(_5a2);
}
return _5a3;
},_toggleDetailsRow:function(_5a4){
curam.debug.log("curam.util.ExpandableLists._toggleDetailsRow "+_586.getProperty("curam.util.ExpandableLists.load.for"),_5a4);
var _5a5=curam.util.ExpandableLists;
var _5a6=cm.getParentByType(_5a4,"tr");
var _5a7=cm.nextSibling(_5a6,"tr");
var _5a8=!_5a5.isDetailsRowExpanded(_5a7);
_5a5._handleStripingAndRoundedCorners(_5a6,_5a7,_5a8);
var _5a9=dojo.query("div.uimController",_5a7);
var _5aa=null;
var _5ab=null;
if(_5a9==null||_5a9.length==0){
_5ab=_5a5._generateUimController(_5a7);
}else{
_5aa=_5a9[0];
_5ab=dijit.byNode(_5aa);
}
if(typeof (_5ab)=="undefined"||_5ab==null){
throw "UIMController Dijit not found for node: "+_5aa;
}
var _5ac=dojo.attr(_5ab.frame,"src");
var _5ad=false;
_5a5.setDetailsRowExpandedState(_5a6,_5a7,_5a8,_5a4);
var def=new dojo.Deferred();
if(!_5ac||_5ac==null||_5ac==""){
_5ab.loadPage(def);
}else{
_5ad=true;
def.callback();
}
def.addCallback(function(){
var _5ae=_5ab.hasInPageNavigation();
_5ad=_5ad||_5ae;
if(_5ae){
_5ab.showTabContainer(_5a8);
}
if(_5ad){
curam.util.ExpandableLists.resizeExpandableListAncestors(window);
}
var _5af=_5a8?_5a5._EVENT_TYPE_EXPANDED:_5a5._EVENT_TYPE_COLLAPSED;
var _5b0=_5a5._findListId(_5a7);
var _5b1=curam.util.getSuffixFromClass(_5a7,_5a5._ROW_ID_PREFIX);
dojo.publish(_5a5._EVENT_TOGGLE,[_5b0,_5b1,_5af]);
if(!curam.util.ExpandableLists._isExternalApp(window)){
var _5af=_5a8?"ListDetailsRow.Expand":"ListDetailsRow.Collapse";
var _5b2={url:dojo.attr(_5ab.frame,"src"),eventType:_5af};
var _5b3=curam.tab.getSelectedTab();
if(_5b3){
var _5b4=curam.tab.getTabWidgetId(_5b3);
curam.util.getTopmostWindow().dojo.publish("expandedList.toggle",[window.frameElement,_5b2,_5b4]);
}
}
});
},_handleStripingAndRoundedCorners:function(_5b5,_5b6,_5b7){
var odd="odd";
var even="even";
var _5b8="row-no-border";
var _5b9="odd-last-row";
var _5ba="even-last-row";
if(!curam.util.ExpandableLists._isLastRow(_5b5,_5b6)){
if(dojo.hasClass(_5b5,odd)){
dojo.addClass(_5b6,odd);
}else{
if(dojo.hasClass(_5b5,even)){
dojo.addClass(_5b6,even);
}
}
}else{
if(_5b7){
if(dojo.hasClass(_5b5,_5b9)){
dojo.removeClass(_5b5,_5b9);
dojo.addClass(_5b5,odd);
dojo.addClass(_5b6,odd);
dojo.addClass(_5b6,_5b9);
}else{
if(dojo.hasClass(_5b5,_5ba)){
dojo.removeClass(_5b5,_5ba);
dojo.addClass(_5b5,even);
dojo.addClass(_5b6,even);
dojo.addClass(_5b6,_5ba);
}
}
}else{
if(dojo.hasClass(_5b5,odd)){
dojo.removeClass(_5b5,odd);
dojo.addClass(_5b5,_5b9);
dojo.removeClass(_5b6,_5b9);
dojo.removeClass(_5b6,odd);
}else{
if(dojo.hasClass(_5b5,even)){
dojo.removeClass(_5b5,even);
dojo.addClass(_5b5,_5ba);
dojo.removeClass(_5b6,even);
dojo.removeClass(_5b6,_5ba);
}
}
}
}
if(_5b7){
dojo.addClass(_5b5,_5b8);
}else{
dojo.removeClass(_5b5,_5b8);
}
if(dojo.hasClass(_5b5,_5b8)){
dojo.removeClass(_5b6,"collapsed");
}else{
dojo.addClass(_5b6,"collapsed");
}
},setDetailsRowExpandedState:function(_5bb,_5bc,_5bd,_5be){
var _5bf=curam.util.ExpandableLists.isDetailsRowExpanded(_5bc);
dojo.removeClass(_5bc,"collapsed");
if(!_5bf){
dojo.addClass(_5bc,"collapsed");
}
if(_5bb.style.display=="none"){
_5bc.setAttribute("style","display:none");
}else{
_5bc.removeAttribute("style");
}
if(_5be){
if(_5bd){
dojo.addClass(_5be,"expanded");
}else{
dojo.removeClass(_5be,"expanded");
}
}
},_isLastRow:function(_5c0,_5c1){
return dojo.hasClass(_5c0,"even-last-row")||dojo.hasClass(_5c0,"odd-last-row")||dojo.hasClass(_5c1,"even-last-row")||dojo.hasClass(_5c1,"odd-last-row");
},isDetailsRowExpanded:function(_5c2){
return !dojo.hasClass(_5c2,"collapsed");
},listRowFrameLoaded:function(_5c3,_5c4){
curam.debug.log("========= "+_586.getProperty("curam.util.ExpandableLists.page.load")+" =======");
curam.debug.log(_5c3);
curam.debug.log(dojo.toJson(_5c4));
var _5c5=dojo.byId(_5c3);
if(!_5c5){
throw "List Row Expanded: No iframe found";
}
if(!_5c5._spExpListPageLoadListener){
_5c5._spExpListPageLoadListener="true";
}else{
if(!curam.util.ExpandableLists._isExternalApp(window)){
curam.contentPanel.publishSmartPanelExpListPageLoad(_5c5);
}
}
var _5c6=curam.util.ExpandableLists._findListId(_5c5);
var _5c7=curam.util.ExpandableLists.getMinimumExpandedHeight(_5c6);
var _5c8=_5c4.height;
if(_5c8<_5c7){
curam.debug.log(_586.getProperty("curam.util.ExpandableLists.min.height",[_5c7]));
_5c8=_5c7;
}else{
curam.debug.log(_586.getProperty("curam.util.ExpandableLists.height",[_5c8]));
}
curam.util.ExpandableLists._resizeIframe(_5c5,_5c8);
curam.util.ExpandableLists.resizeExpandableListAncestors(window);
curam.util.ExpandableLists._setFrameTitle(_5c5,_5c4);
if(!curam.util.ExpandableLists._isExternalApp(window)){
var _5c9=curam.tab.getSelectedTab();
if(_5c9){
var _5ca=curam.tab.getTabWidgetId(_5c9);
var _5cb=curam.util.getTopmostWindow();
_5cb.curam.util.Refresh.getController(_5ca).pageLoaded(_5c4.pageID,curam.util.ui.refresh.RefreshEvent.prototype.SOURCE_CONTEXT_INLINE);
}
}
curam.debug.log("================================================");
},_resizeIframe:function(_5cc,_5cd){
dojo.style(_5cc,{height:_5cd+"px"});
},_setFrameTitle:function(_5ce,_5cf){
_5ce.title=_5ce.title+" "+_5cf.title;
},_findListId:function(_5d0){
return curam.util.getSuffixFromClass(cm.getParentByType(_5d0,"table"),curam.util.ExpandableLists._LIST_ID_PREFIX);
},resizeExpandableListAncestors:function(_5d1){
curam.debug.log("curam.util.ExpandableLists.resizeExpandableListAncestors: ",_5d1.location.href);
if(_5d1&&_5d1!==window.top&&typeof (_5d1.frameElement)!="undefined"&&(dojo.hasClass(_5d1.frameElement,"expanded_row_iframe")||curam.util.ExpandableLists.isNestedUIM(_5d1))){
var _5d2=_5d1.curam.util.getPageHeight();
curam.debug.log("curam.util.ExpandableLists"+".resizeExpandableListAncestors: "+_586.getProperty("curam.util.ExpandableLists.resize.height"),_5d2);
curam.util.ExpandableLists._resizeIframe(_5d1.frameElement,_5d2);
curam.util.ExpandableLists.resizeExpandableListAncestors(_5d1.parent);
}else{
curam.debug.log("curam.util.ExpandableLists"+".resizeExpandableListAncestors: "+_586.getProperty("curam.util.ExpandableLists.resize.end"));
return;
}
},isNestedUIM:function(_5d3){
if(_5d3&&_5d3.jsScreenContext){
return _5d3.jsScreenContext.hasContextBits("NESTED_UIM");
}else{
return false;
}
},_isExternalApp:function(_5d4){
if(_5d4&&_5d4.jsScreenContext){
return _5d4.jsScreenContext.hasContextBits("EXTAPP");
}else{
return false;
}
},setMinimumExpandedHeight:function(_5d5,_5d6){
curam.util.ExpandableLists._minimumExpandedHeight.push({listId:_5d5,minExpHeight:_5d6});
},getMinimumExpandedHeight:function(_5d7){
var data=dojo.filter(curam.util.ExpandableLists._minimumExpandedHeight,function(item){
return item.listId==_5d7;
});
if(data.length==1){
return data[0].minExpHeight;
}else{
curam.debug.log(_586.getProperty("curam.util.ExpandableLists.default.height"),_5d7);
return 30;
}
}});
return curam.util.ExpandableLists;
});
},"dojo/_base/url":function(){
define("dojo/_base/url",["./kernel"],function(dojo){
var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_5d8=function(){
var n=null,_5d9=arguments,uri=[_5d9[0]];
for(var i=1;i<_5d9.length;i++){
if(!_5d9[i]){
continue;
}
var _5da=new _5d8(_5d9[i]+""),_5db=new _5d8(uri[0]+"");
if(_5da.path==""&&!_5da.scheme&&!_5da.authority&&!_5da.query){
if(_5da.fragment!=n){
_5db.fragment=_5da.fragment;
}
_5da=_5db;
}else{
if(!_5da.scheme){
_5da.scheme=_5db.scheme;
if(!_5da.authority){
_5da.authority=_5db.authority;
if(_5da.path.charAt(0)!="/"){
var path=_5db.path.substring(0,_5db.path.lastIndexOf("/")+1)+_5da.path;
var segs=path.split("/");
for(var j=0;j<segs.length;j++){
if(segs[j]=="."){
if(j==segs.length-1){
segs[j]="";
}else{
segs.splice(j,1);
j--;
}
}else{
if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){
if(j==(segs.length-1)){
segs.splice(j,1);
segs[j-1]="";
}else{
segs.splice(j-1,2);
j-=2;
}
}
}
}
_5da.path=segs.join("/");
}
}
}
}
uri=[];
if(_5da.scheme){
uri.push(_5da.scheme,":");
}
if(_5da.authority){
uri.push("//",_5da.authority);
}
uri.push(_5da.path);
if(_5da.query){
uri.push("?",_5da.query);
}
if(_5da.fragment){
uri.push("#",_5da.fragment);
}
}
this.uri=uri.join("");
var r=this.uri.match(ore);
this.scheme=r[2]||(r[1]?"":n);
this.authority=r[4]||(r[3]?"":n);
this.path=r[5];
this.query=r[7]||(r[6]?"":n);
this.fragment=r[9]||(r[8]?"":n);
if(this.authority!=n){
r=this.authority.match(ire);
this.user=r[3]||n;
this.password=r[4]||n;
this.host=r[6]||r[7];
this.port=r[9]||n;
}
};
_5d8.prototype.toString=function(){
return this.uri;
};
return dojo._Url=_5d8;
});
},"curam/widget/FilteringSelect":function(){
define("curam/widget/FilteringSelect",["dijit/registry","dojo/on","dijit/form/FilteringSelect"],function(_5dc,on){
var _5dd=dojo.declare("curam.widget.FilteringSelect",dijit.form.FilteringSelect,{enterKeyOnOpenDropDown:false,postMixInProperties:function(){
if(!this.store){
if(dojo.query("> option",this.srcNodeRef)[0]==undefined){
dojo.create("option",{innerHTML:"<!--__o3_BLANK-->"},this.srcNodeRef);
}
}
if(!this.get("store")&&this.srcNodeRef.value==""){
var _5de=this.srcNodeRef,_5df=dojo.query("> option[value='']",_5de);
if(_5df.length&&_5df[0].innerHTML!="<!--__o3_BLANK-->"){
this.displayedValue=dojo.trim(_5df[0].innerHTML);
}
}
this.inherited(arguments);
},postCreate:function(){
on(this.focusNode,"keydown",function(e){
var _5e0=_5dc.byNode(dojo.byId("widget_"+e.target.id));
if(e.keyCode==dojo.keys.ENTER&&_5e0._opened){
_5e0.enterKeyOnOpenDropDown=true;
}
});
this.inherited(arguments);
},startup:function(){
this.domNode.setAttribute("role","listbox");
this.inherited(arguments);
},_callbackSetLabel:function(_5e1,_5e2,_5e3,_5e4){
if((_5e2&&_5e2[this.searchAttr]!==this._lastQuery)||(!_5e2&&_5e1.length&&this.get("store").getIdentity(_5e1[0])!=this._lastQuery)){
return;
}
if(!_5e1.length){
this.set("value","__o3_INVALID",_5e4||(_5e4===undefined&&!this.focused),this.textbox.value,null);
}else{
this.set("item",_5e1[0],_5e4);
}
}});
return _5dd;
});
},"dojo/text":function(){
define("dojo/text",["./_base/kernel","require","./has","./_base/xhr"],function(dojo,_5e5,has,xhr){
var _5e6;
if(1){
_5e6=function(url,sync,load){
xhr("GET",{url:url,sync:!!sync,load:load});
};
}else{
if(_5e5.getText){
_5e6=_5e5.getText;
}else{
console.error("dojo/text plugin failed to load because loader does not support getText");
}
}
var _5e7={},_5e8=function(text){
if(text){
text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");
var _5e9=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
if(_5e9){
text=_5e9[1];
}
}else{
text="";
}
return text;
},_5ea={},_5eb={},_5ec={dynamic:true,normalize:function(id,_5ed){
var _5ee=id.split("!"),url=_5ee[0];
return (/^\./.test(url)?_5ed(url):url)+(_5ee[1]?"!"+_5ee[1]:"");
},load:function(id,_5ef,load){
var _5f0=id.split("!"),_5f1=_5f0.length>1,_5f2=_5f0[0],url=_5ef.toUrl(_5f0[0]),text=_5ea,_5f3=function(text){
load(_5f1?_5e8(text):text);
};
if(_5f2 in _5e7){
text=_5e7[_5f2];
}else{
if(url in _5ef.cache){
text=_5ef.cache[url];
}else{
if(url in _5e7){
text=_5e7[url];
}
}
}
if(text===_5ea){
if(_5eb[url]){
_5eb[url].push(_5f3);
}else{
var _5f4=_5eb[url]=[_5f3];
_5e6(url,!_5ef.async,function(text){
_5e7[_5f2]=_5e7[url]=text;
for(var i=0;i<_5f4.length;){
_5f4[i++](text);
}
delete _5eb[url];
});
}
}else{
_5f3(text);
}
}};
dojo.cache=function(_5f5,url,_5f6){
var key;
if(typeof _5f5=="string"){
if(/\//.test(_5f5)){
key=_5f5;
_5f6=url;
}else{
key=_5e5.toUrl(_5f5.replace(/\./g,"/")+(url?("/"+url):""));
}
}else{
key=_5f5+"";
_5f6=url;
}
var val=(_5f6!=undefined&&typeof _5f6!="string")?_5f6.value:_5f6,_5f7=_5f6&&_5f6.sanitize;
if(typeof val=="string"){
_5e7[key]=val;
return _5f7?_5e8(val):val;
}else{
if(val===null){
delete _5e7[key];
return null;
}else{
if(!(key in _5e7)){
_5e6(key,true,function(text){
_5e7[key]=text;
});
}
return _5f7?_5e8(_5e7[key]):_5e7[key];
}
}
};
return _5ec;
});
},"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n","curam/util/TabNavigation":function(){
define("curam/util/TabNavigation",["curam/debug","curam/define","curam/util","curam/tab","curam/util/Refresh","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _5f8=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.util.TabNavigation",{CACHE_BUSTER:0,CACHE_BUSTER_PARAM_NAME:"o3nocache",disabledItems:{},tabLists:{},init:function(_5f9,_5fa){
var _5fb=_5f9+"child-nav-selectChild";
var _5fc=dojo.subscribe(_5fb,"",function(){
curam.util.TabNavigation.onParentSelect(null,_5f9);
});
curam.tab.unsubscribeOnTabClose(_5fc,_5fa);
},onParentSelect:function(_5fd,_5fe){
var _5ff=_5fe+"-child-nav";
var _600=dijit.byId(_5ff);
var _601=true;
if(!_5fd){
var _601=false;
var _602=_5fe+"-parent-nav";
var _603=dijit.byId(_602);
_5fd=_603.selectedChildWidget;
}
if(_5fd.curamDoNoReload){
_601=false;
_5fd.setAttribute("curamDoNoReload",null);
}
var _604=_5fd.id+"-Stack";
var _605=dijit.byId(_604);
var href=dojo.attr(_605.get("srcNodeRef"),"page-ref");
if(!href){
var _606=_605;
if(_606){
var link=dojo.query("li.selected > div.link",_606.id)[0];
href=dojo.attr(link,"page-ref");
}else{
throw new Error("Could not find a page reference. The menu item '"+_5fd.id+"' has no page reference and no selected child item was found.");
}
}
if(_601){
var ifr=curam.util.TabNavigation.getIframe(_5fe);
if(dojo.isIE&&dojo.isIE<9){
ifrBody=ifr.contentWindow.document.body;
}else{
ifrBody=ifr.contentDocument.activeElement;
}
var _607=function(){
_600.selectChild(_605);
dojo.style(_600.domNode,"visibility","visible");
dojo.style(ifr,"visibility","visible");
};
if(dojo.isIE&&dojo.isIE<9){
var lh=function(){
if(ifr.readyState=="complete"){
ifr.detachEvent("onreadystatechange",lh);
_607();
}
};
ifr.attachEvent("onreadystatechange",lh);
}else{
var dt=dojo.connect(ifr,"onload",null,function(){
dojo.disconnect(dt);
_607();
});
}
dojo.query("div.list",ifrBody).forEach(function(node){
dojo.addClass(node,"hidden");
});
dojo.style(ifr,"visibility","hidden");
dojo.style(_600.domNode,"visibility","hidden");
curam.util.TabNavigation.loadIframe(href,_5fe);
}
var open=curam.util.TabNavigation.childMenuExists(_5fd);
curam.util.TabNavigation.toggleChildMenu(open,_5fe);
},childMenuExists:function(_608){
var _609=_608.id+"-Stack";
var _60a=dojo.query("#"+_609+" ul");
if(_60a.length==0){
return false;
}else{
return true;
}
},toggleChildMenu:function(open,_60b){
var _60c=_60b+"-navigation-tab";
var _60d=dojo.byId(_60c);
var _60e=dojo.query(".content-area-container",_60d)[0];
var _60f=dojo.query(".child-nav",_60d)[0];
if(!open){
var _610="0px";
var _611={left:_610};
var _612={width:_610};
dojo.style(_60e,_611);
dojo.style(_60f,_612);
}else{
var _613=dojo.attr(_60d,"child-menu-width");
var _611={left:_613};
var _612={width:_613};
dojo.style(_60e,_611);
dojo.style(_60f,_612);
}
},handleChildSelect:function(_614,_615,_616){
if(!curam.util.TabNavigation.isSelectable(_614.parentNode.id)){
dojo.stopEvent(dojo.fixEvent(_616));
return false;
}
var ul=curam.util.TabNavigation.getNext(_614,"UL");
var _617=ul.childNodes;
for(var i=0;i<_617.length;i++){
dojo.replaceClass(_617[i],"not-selected","selected");
}
dojo.replaceClass(_614.parentNode,"selected","not-selected");
var href=dojo.attr(_614,"page-ref");
curam.util.TabNavigation.loadIframe(href,_615);
return true;
},isSelectable:function(_618){
return !curam.util.TabNavigation.disabledItems[_618];
},getNext:function(_619,_61a){
var _61b=_619.parentNode;
if(_61b==null){
curam.debug.log(_5f8.getProperty("curam.util.TabNavigation.error",[_61a]));
return null;
}
if(_61b.nodeName===_61a){
return _61b;
}else{
var _61b=curam.util.TabNavigation.getNext(_61b,_61a);
return _61b;
}
},loadIframe:function(href,_61c){
var _61d=curam.util.TabNavigation.getIframe(_61c);
dojo.attr(_61d,"src",href+"&"+this.getCacheBusterParameter());
},getIframe:function(_61e){
var _61f=_61e+"-navigation-tab";
var _620=dojo.byId(_61f);
var _621=dojo.query("iframe",_620);
return _621[0];
},getCacheBusterParameter:function(){
return this.CACHE_BUSTER_PARAM_NAME+"="+new Date().getTime()+"_"+this.CACHE_BUSTER++;
},setupOnParentSelect:function(_622,_623,_624){
var _625=dojo.byId(_622+"-navigation-tab");
var _626=curam.tab.getContainerTab(_625);
_626.subscribe(_622+"-child-nav-startup",function(){
curam.util.TabNavigation.onParentSelect(null,_622);
var tabs=_624.split(",");
for(tabID in tabs){
var _627=curam.util.TabNavigation.findNavItem("navItem_"+this.id+"_"+tabs[tabID]);
if(_627!=null){
_627.set("curamVisible",false);
}
}
});
_626.subscribe(_623,function(_628){
curam.util.TabNavigation.onParentSelect(_628,_622);
});
},setupRefresh:function(_629){
curam.util.Refresh.setNavigationCallbacks(curam.util.TabNavigation.updateNavItemStates,curam.util.TabNavigation.getRefreshParams);
var _62a=function(){
var _62b=function(_62c,_62d){
return curam.util.Refresh.refreshMenuAndNavigation(_62d,true,true,true);
};
var _62e=curam.tab.getHandlerForTab(_62b,_629);
var _62f=curam.util.getTopmostWindow();
var _630=_62f.dojo.subscribe("curam.tabOpened",null,function(_631,_632){
_62e(_631,_632);
_62f.dojo.unsubscribe(_630);
});
};
var _633=curam.util.TabNavigation.dynamicNavigationData[_629];
_633.registerTabOpenHandler=_62a;
_633.registerTabOpenHandler();
},getRefreshParams:function(_634){
curam.debug.log("curam.util.TabNavigation.getRefreshParams(%s)",_634);
var _635=curam.util.TabNavigation.dynamicNavigationData[_634];
if(!_635){
curam.debug.log(_5f8.getProperty("curam.util.TabNavigation.no.dynamic"));
return null;
}
var _636="navId="+_635.navigationId;
_636+="&navItemIds="+curam.util.toCommaSeparatedList(_635.dynamicNavItemIds);
_636+="&navLoaders="+curam.util.toCommaSeparatedList(_635.dynamicNavLoaders);
_636+="&navPageParameters="+_635.pageParameters;
return _636;
},updateNavItemStates:function(_637,data){
var _638=data.navData;
for(var i=0;i<_638.itemStates.length;i++){
curam.util.TabNavigation.updateNavItemState(_638.itemStates[i],_637);
}
},updateNavItemState:function(_639,_63a){
var _63b=curam.util.TabNavigation.findNavItem("navItem_"+_63a+"_"+_639.id);
if(_63b!=null){
if(!_63b.domNode){
curam.util.TabNavigation.disabledItems[_63b.id]=!_639.enabled;
curam.util.swapState(_63b,_639.enabled,"enabled","disabled");
curam.util.swapState(_63b,_639.visible,"visible","hidden");
}else{
_63b.set("curamDisabled",!_639.enabled);
_63b.set("curamVisible",_639.visible);
}
}
},findNavItem:function(_63c){
var _63d=dojo.query("."+_63c);
if(_63d.length==1){
var node=_63d[0];
var _63e=dijit.byNode(node);
if(!_63e){
return node;
}else{
return _63e.controlButton;
}
}else{
curam.debug.log(_5f8.getProperty("curam.util.TabNavigation.item",[_63c]));
return null;
}
},addRollOverClass:function(_63f){
dojo.addClass(_63f.target,"hover");
curam.util.connect(_63f.target,"onmouseout",function(){
dojo.removeClass(_63f.target,"hover");
});
},setupOnLoadListener:function(_640,_641){
var _642=dojo.fromJson(_641);
var _643=function(_644,_645){
curam.util.TabNavigation.handleContentAreaUpdate(_644,_645,_642);
};
var _646=curam.tab.getHandlerForTab(_643,_640);
var _647=curam.util.getTopmostWindow();
var _648=_647.dojo.subscribe("/curam/main-content/page/loaded",null,_646);
curam.tab.unsubscribeOnTabClose(_648,_640);
},setupTabList:function(_649,_64a){
if(!curam.util.TabNavigation.tabLists[_649]){
curam.tab.executeOnTabClose(function(){
delete curam.util.TabNavigation.tabLists[_649];
},_649);
}
delete curam.util.TabNavigation.tabLists[_649];
curam.util.TabNavigation.tabLists[_649]=_64a;
},handleContentAreaUpdate:function(_64b,_64c,_64d){
var ids=_64d[_64b];
if(ids){
var _64e=ids["dojoTabId"];
var _64f=_64e+"-parent-nav";
var _650=ids["tabId"];
var _651=ids["childId"];
var _652=dijit.byId(_650);
var _653=dijit.byId(_64f);
if(_652){
if(_653.selectedChildWidget!=_652){
_652.setAttribute("curamDoNoReload",true);
_653.selectChild(_652);
}
if(_651){
var _654=_650+"-Stack";
var _655=_64e+"-child-nav";
var _656=dijit.byId(_655);
var _657=dijit.byId(_654);
_656.selectChild(_657);
var _658=dojo.query("li",_657.domNode);
for(var i=0;i<_658.length;i++){
var _659=_658[i];
if(_659.id==_651){
var _65a=_659;
}
}
if(_65a){
if(!dojo.hasClass(_65a,"selected")){
var _65b=_65a.parentNode.childNodes;
for(var i=0;i<_65b.length;i++){
dojo.replaceClass(_65b[i],"not-selected","selected");
}
dojo.replaceClass(_65a,"selected","not-selected");
}
}
}
}
}
},getInsertIndex:function(_65c,_65d,_65e){
var _65f=curam.util.TabNavigation.tabLists[_65c];
var _660=dojo.indexOf(_65f,_65e);
var _661=_660;
for(var i=_660-1;i>=0;i--){
if(dojo.indexOf(_65d,_65f[i])<0){
_661--;
}
}
return _661;
}});
return curam.util.TabNavigation;
});
},"dojo/uacss":function(){
define("dojo/uacss",["./dom-geometry","./_base/lang","./ready","./_base/sniff","./_base/window"],function(_662,lang,_663,has,_664){
var html=_664.doc.documentElement,ie=has("ie"),_665=has("opera"),maj=Math.floor,ff=has("ff"),_666=_662.boxModel.replace(/-/,""),_667={"dj_quirks":has("quirks"),"dj_opera":_665,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla")};
if(ie){
_667["dj_ie"]=true;
_667["dj_ie"+maj(ie)]=true;
_667["dj_iequirks"]=has("quirks");
}
if(ff){
_667["dj_ff"+maj(ff)]=true;
}
_667["dj_"+_666]=true;
var _668="";
for(var clz in _667){
if(_667[clz]){
_668+=clz+" ";
}
}
html.className=lang.trim(html.className+" "+_668);
_663(90,function(){
if(!_662.isBodyLtr()){
var _669="dj_rtl dijitRtl "+_668.replace(/ /g,"-rtl ");
html.className=lang.trim(html.className+" "+_669+"dj_rtl dijitRtl "+_668.replace(/ /g,"-rtl "));
}
});
return has;
});
},"dijit/Tooltip":function(){
require({cache:{"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n"}});
define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","."],function(_66a,_66b,fx,dom,_66c,_66d,_66e,lang,has,win,_66f,_670,_671,_672,_673,_674,_675){
var _676=_66b("dijit._MasterTooltip",[_671,_672],{duration:_66f.defaultDuration,templateString:_674,postCreate:function(){
win.body().appendChild(this.domNode);
this.bgIframe=new _673(this.domNode);
this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});
this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});
},show:function(_677,_678,_679,rtl,_67a){
if(this.aroundNode&&this.aroundNode===_678&&this.containerNode.innerHTML==_677){
return;
}
this.domNode.width="auto";
if(this.fadeOut.status()=="playing"){
this._onDeck=arguments;
return;
}
this.containerNode.innerHTML=_677;
if(_67a){
this.set("textDir",_67a);
}
this.containerNode.align=rtl?"right":"left";
var pos=_670.around(this.domNode,_678,_679&&_679.length?_679:_67b.defaultPosition,!rtl,lang.hitch(this,"orient"));
var _67c=pos.aroundNodePos;
if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){
this.connectorNode.style.top=_67c.y+((_67c.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";
this.connectorNode.style.left="";
}else{
if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){
this.connectorNode.style.left=_67c.x+((_67c.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";
}
}
_66e.set(this.domNode,"opacity",0);
this.fadeIn.play();
this.isShowingNow=true;
this.aroundNode=_678;
},orient:function(node,_67d,_67e,_67f,_680){
this.connectorNode.style.top="";
var _681=_67f.w-this.connectorNode.offsetWidth;
node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_67d+"-"+_67e];
this.domNode.style.width="auto";
var size=_66d.getContentBox(this.domNode);
var _682=Math.min((Math.max(_681,1)),size.w);
var _683=_682<size.w;
this.domNode.style.width=_682+"px";
if(_683){
this.containerNode.style.overflow="auto";
var _684=this.containerNode.scrollWidth;
this.containerNode.style.overflow="visible";
if(_684>_682){
_684=_684+_66e.get(this.domNode,"paddingLeft")+_66e.get(this.domNode,"paddingRight");
this.domNode.style.width=_684+"px";
}
}
if(_67e.charAt(0)=="B"&&_67d.charAt(0)=="B"){
var mb=_66d.getMarginBox(node);
var _685=this.connectorNode.offsetHeight;
if(mb.h>_67f.h){
var _686=_67f.h-((_680.h+_685)>>1);
this.connectorNode.style.top=_686+"px";
this.connectorNode.style.bottom="";
}else{
this.connectorNode.style.bottom=Math.min(Math.max(_680.h/2-_685/2,0),mb.h-_685)+"px";
this.connectorNode.style.top="";
}
}else{
this.connectorNode.style.top="";
this.connectorNode.style.bottom="";
}
return Math.max(0,size.w-_681);
},_onShow:function(){
if(has("ie")){
this.domNode.style.filter="";
}
},hide:function(_687){
if(this._onDeck&&this._onDeck[1]==_687){
this._onDeck=null;
}else{
if(this.aroundNode===_687){
this.fadeIn.stop();
this.isShowingNow=false;
this.aroundNode=null;
this.fadeOut.play();
}else{
}
}
},_onHide:function(){
this.domNode.style.cssText="";
this.containerNode.innerHTML="";
if(this._onDeck){
this.show.apply(this,this._onDeck);
this._onDeck=null;
}
},_setAutoTextDir:function(node){
this.applyTextDir(node,has("ie")?node.outerText:node.textContent);
_66a.forEach(node.children,function(_688){
this._setAutoTextDir(_688);
},this);
},_setTextDirAttr:function(_689){
this._set("textDir",_689);
if(_689=="auto"){
this._setAutoTextDir(this.containerNode);
}else{
this.containerNode.dir=this.textDir;
}
}});
_675.showTooltip=function(_68a,_68b,_68c,rtl,_68d){
if(_68c){
_68c=_66a.map(_68c,function(val){
return {after:"after-centered",before:"before-centered"}[val]||val;
});
}
if(!_67b._masterTT){
_675._masterTT=_67b._masterTT=new _676();
}
return _67b._masterTT.show(_68a,_68b,_68c,rtl,_68d);
};
_675.hideTooltip=function(_68e){
return _67b._masterTT&&_67b._masterTT.hide(_68e);
};
var _67b=_66b("dijit.Tooltip",_671,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(_68f){
_66a.forEach(this._connections||[],function(_690){
_66a.forEach(_690,lang.hitch(this,"disconnect"));
},this);
this._connectIds=_66a.filter(lang.isArrayLike(_68f)?_68f:(_68f?[_68f]:[]),function(id){
return dom.byId(id);
});
this._connections=_66a.map(this._connectIds,function(id){
var node=dom.byId(id);
return [this.connect(node,"onmouseenter","_onHover"),this.connect(node,"onmouseleave","_onUnHover"),this.connect(node,"onfocus","_onHover"),this.connect(node,"onblur","_onUnHover")];
},this);
this._set("connectId",_68f);
},addTarget:function(node){
var id=node.id||node;
if(_66a.indexOf(this._connectIds,id)==-1){
this.set("connectId",this._connectIds.concat(id));
}
},removeTarget:function(node){
var id=node.id||node,idx=_66a.indexOf(this._connectIds,id);
if(idx>=0){
this._connectIds.splice(idx,1);
this.set("connectId",this._connectIds);
}
},buildRendering:function(){
this.inherited(arguments);
_66c.add(this.domNode,"dijitTooltipData");
},startup:function(){
this.inherited(arguments);
var ids=this.connectId;
_66a.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);
},_onHover:function(e){
if(!this._showTimer){
var _691=e.target;
this._showTimer=setTimeout(lang.hitch(this,function(){
this.open(_691);
}),this.showDelay);
}
},_onUnHover:function(){
if(this._focus){
return;
}
if(this._showTimer){
clearTimeout(this._showTimer);
delete this._showTimer;
}
this.close();
},open:function(_692){
if(this._showTimer){
clearTimeout(this._showTimer);
delete this._showTimer;
}
_67b.show(this.label||this.domNode.innerHTML,_692,this.position,!this.isLeftToRight(),this.textDir);
this._connectNode=_692;
this.onShow(_692,this.position);
},close:function(){
if(this._connectNode){
_67b.hide(this._connectNode);
delete this._connectNode;
this.onHide();
}
if(this._showTimer){
clearTimeout(this._showTimer);
delete this._showTimer;
}
},onShow:function(){
},onHide:function(){
},uninitialize:function(){
this.close();
this.inherited(arguments);
}});
_67b._MasterTooltip=_676;
_67b.show=_675.showTooltip;
_67b.hide=_675.hideTooltip;
_67b.defaultPosition=["after-centered","before-centered"];
return _67b;
});
},"dojo/string":function(){
define("dojo/string",["./_base/kernel","./_base/lang"],function(dojo,lang){
lang.getObject("string",true,dojo);
dojo.string.rep=function(str,num){
if(num<=0||!str){
return "";
}
var buf=[];
for(;;){
if(num&1){
buf.push(str);
}
if(!(num>>=1)){
break;
}
str+=str;
}
return buf.join("");
};
dojo.string.pad=function(text,size,ch,end){
if(!ch){
ch="0";
}
var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));
return end?out+pad:pad+out;
};
dojo.string.substitute=function(_693,map,_694,_695){
_695=_695||dojo.global;
_694=_694?lang.hitch(_695,_694):function(v){
return v;
};
return _693.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_696,key,_697){
var _698=lang.getObject(key,false,map);
if(_697){
_698=lang.getObject(_697,false,_695).call(_695,_698,key);
}
return _694(_698,key).toString();
});
};
dojo.string.trim=String.prototype.trim?lang.trim:function(str){
str=str.replace(/^\s+/,"");
for(var i=str.length-1;i>=0;i--){
if(/\S/.test(str.charAt(i))){
str=str.substring(0,i+1);
break;
}
}
return str;
};
return dojo.string;
});
},"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>","curam/util/ui/refresh/RefreshEvent":function(){
define("curam/util/ui/refresh/RefreshEvent",[],function(){
var _699=dojo.declare("curam.util.ui.refresh.RefreshEvent",null,{TYPE_ONLOAD:"onload",TYPE_ONSUBMIT:"onsubmit",SOURCE_CONTEXT_MAIN:"main-content",SOURCE_CONTEXT_DIALOG:"dialog",SOURCE_CONTEXT_INLINE:"inline",_type:null,_context:null,constructor:function(type,_69a){
if(!type||!_69a){
throw "Required parameters missing.";
}
if(!(type==this.TYPE_ONLOAD||type==this.TYPE_ONSUBMIT)){
throw "Unknown type: "+type;
}
if(!(_69a==this.SOURCE_CONTEXT_DIALOG||_69a==this.SOURCE_CONTEXT_INLINE||_69a==this.SOURCE_CONTEXT_MAIN)){
throw "Unknown context: "+_69a;
}
this._type=type;
this._context=_69a;
},equals:function(_69b){
if(typeof _69b!="object"){
return false;
}
if(_69b.declaredClass!=this.declaredClass){
return false;
}
return this._type===_69b._type&&this._context===_69b._context;
}});
return _699;
});
},"dijit/layout/AccordionPane":function(){
define("dijit/layout/AccordionPane",["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(_69c,_69d,_69e){
return _69c("dijit.layout.AccordionPane",_69e,{constructor:function(){
_69d.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");
},onSelected:function(){
}});
});
},"dijit/form/_FormValueMixin":function(){
define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/sniff","./_FormWidgetMixin"],function(_69f,_6a0,keys,has,_6a1){
return _69f("dijit.form._FormValueMixin",_6a1,{readOnly:false,_setReadOnlyAttr:function(_6a2){
_6a0.set(this.focusNode,"readOnly",_6a2);
this._set("readOnly",_6a2);
},postCreate:function(){
this.inherited(arguments);
if(has("ie")){
this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);
}
if(this._resetValue===undefined){
this._lastValueReported=this._resetValue=this.value;
}
},_setValueAttr:function(_6a3,_6a4){
this._handleOnChange(_6a3,_6a4);
},_handleOnChange:function(_6a5,_6a6){
this._set("value",_6a5);
this.inherited(arguments);
},undo:function(){
this._setValueAttr(this._lastValueReported,false);
},reset:function(){
this._hasBeenBlurred=false;
this._setValueAttr(this._resetValue,true);
},_onKeyDown:function(e){
if(e.keyCode==keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){
var te;
if(has("ie")<9||(has("ie")&&has("quirks"))){
e.preventDefault();
te=document.createEventObject();
te.keyCode=keys.ESCAPE;
te.shiftKey=e.shiftKey;
e.srcElement.fireEvent("onkeypress",te);
}
}
}});
});
},"dojox/layout/ContentPane":function(){
define("dojox/layout/ContentPane",["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(lang,_6a7,_6a8,_6a9,_6aa){
return _6aa("dojox.layout.ContentPane",_6a8,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,constructor:function(){
this.ioArgs={};
this.ioMethod=_6a7.get;
},onExecError:function(e){
},_setContent:function(cont){
var _6ab=this._contentSetter;
if(!(_6ab&&_6ab instanceof _6a9._ContentSetter)){
_6ab=this._contentSetter=new _6a9._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){
var _6ac=this.onContentError(e);
try{
this.containerNode.innerHTML=_6ac;
}
catch(e){
console.error("Fatal "+this.id+" could not change content due to "+e.message,e);
}
})});
}
this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};
this.inherited("_setContent",arguments);
}});
});
},"dijit/form/DropDownButton":function(){
require({cache:{"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n"}});
define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_6ad,lang,_6ae,_6af,_6b0,_6b1,_6b2,_6b3,_6b4){
return _6ad("dijit.form.DropDownButton",[_6b1,_6b2,_6b3],{baseClass:"dijitDropDownButton",templateString:_6b4,_fillContent:function(){
if(this.srcNodeRef){
var _6b5=_6ae("*",this.srcNodeRef);
this.inherited(arguments,[_6b5[0]]);
this.dropDownContainer=this.srcNodeRef;
}
},startup:function(){
if(this._started){
return;
}
if(!this.dropDown&&this.dropDownContainer){
var _6b6=_6ae("[widgetId]",this.dropDownContainer)[0];
this.dropDown=_6af.byNode(_6b6);
delete this.dropDownContainer;
}
if(this.dropDown){
_6b0.hide(this.dropDown);
}
this.inherited(arguments);
},isLoaded:function(){
var _6b7=this.dropDown;
return (!!_6b7&&(!_6b7.href||_6b7.isLoaded));
},loadDropDown:function(_6b8){
var _6b9=this.dropDown;
var _6ba=_6b9.on("load",lang.hitch(this,function(){
_6ba.remove();
_6b8();
}));
_6b9.refresh();
},isFocusable:function(){
return this.inherited(arguments)&&!this._mouseDown;
}});
});
},"dijit/form/_FormWidgetMixin":function(){
define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/_base/sniff","dojo/_base/window","dojo/window","../a11y"],function(_6bb,_6bc,_6bd,_6be,lang,_6bf,has,win,_6c0,a11y){
return _6bc("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_6c1){
this._set("disabled",_6c1);
_6bd.set(this.focusNode,"disabled",_6c1);
if(this.valueNode){
_6bd.set(this.valueNode,"disabled",_6c1);
}
this.focusNode.setAttribute("aria-disabled",_6c1?"true":"false");
if(_6c1){
this._set("hovering",false);
this._set("active",false);
var _6c2="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";
_6bb.forEach(lang.isArray(_6c2)?_6c2:[_6c2],function(_6c3){
var node=this[_6c3];
if(has("webkit")||a11y.hasDefaultTabStop(node)){
node.setAttribute("tabIndex","-1");
}else{
node.removeAttribute("tabIndex");
}
},this);
}else{
if(this.tabIndex!=""){
this.set("tabIndex",this.tabIndex);
}
}
},_onFocus:function(by){
if(by=="mouse"&&this.isFocusable()){
var _6c4=this.connect(this.focusNode,"onfocus",function(){
this.disconnect(_6c5);
this.disconnect(_6c4);
});
var _6c5=this.connect(win.body(),"onmouseup",function(){
this.disconnect(_6c5);
this.disconnect(_6c4);
if(this.focused){
this.focus();
}
});
}
if(this.scrollOnFocus){
this.defer(function(){
_6c0.scrollIntoView(this.domNode);
});
}
this.inherited(arguments);
},isFocusable:function(){
return !this.disabled&&this.focusNode&&(_6be.get(this.domNode,"display")!="none");
},focus:function(){
if(!this.disabled&&this.focusNode.focus){
try{
this.focusNode.focus();
}
catch(e){
}
}
},compare:function(val1,val2){
if(typeof val1=="number"&&typeof val2=="number"){
return (isNaN(val1)&&isNaN(val2))?0:val1-val2;
}else{
if(val1>val2){
return 1;
}else{
if(val1<val2){
return -1;
}else{
return 0;
}
}
}
},onChange:function(){
},_onChangeActive:false,_handleOnChange:function(_6c6,_6c7){
if(this._lastValueReported==undefined&&(_6c7===null||!this._onChangeActive)){
this._resetValue=this._lastValueReported=_6c6;
}
this._pendingOnChange=this._pendingOnChange||(typeof _6c6!=typeof this._lastValueReported)||(this.compare(_6c6,this._lastValueReported)!=0);
if((this.intermediateChanges||_6c7||_6c7===undefined)&&this._pendingOnChange){
this._lastValueReported=_6c6;
this._pendingOnChange=false;
if(this._onChangeActive){
if(this._onChangeHandle){
this._onChangeHandle.remove();
}
this._onChangeHandle=this.defer(function(){
this._onChangeHandle=null;
this.onChange(_6c6);
});
}
}
},create:function(){
this.inherited(arguments);
this._onChangeActive=true;
},destroy:function(){
if(this._onChangeHandle){
this._onChangeHandle.remove();
this.onChange(this._lastValueReported);
}
this.inherited(arguments);
}});
});
},"dojo/date":function(){
define("dojo/date",["./_base/kernel","./_base/lang"],function(dojo,lang){
lang.getObject("date",true,dojo);
dojo.date.getDaysInMonth=function(_6c8){
var _6c9=_6c8.getMonth();
var days=[31,28,31,30,31,30,31,31,30,31,30,31];
if(_6c9==1&&dojo.date.isLeapYear(_6c8)){
return 29;
}
return days[_6c9];
};
dojo.date.isLeapYear=function(_6ca){
var year=_6ca.getFullYear();
return !(year%400)||(!(year%4)&&!!(year%100));
};
dojo.date.getTimezoneName=function(_6cb){
var str=_6cb.toString();
var tz="";
var _6cc;
var pos=str.indexOf("(");
if(pos>-1){
tz=str.substring(++pos,str.indexOf(")"));
}else{
var pat=/([A-Z\/]+) \d{4}$/;
if((_6cc=str.match(pat))){
tz=_6cc[1];
}else{
str=_6cb.toLocaleString();
pat=/ ([A-Z\/]+)$/;
if((_6cc=str.match(pat))){
tz=_6cc[1];
}
}
}
return (tz=="AM"||tz=="PM")?"":tz;
};
dojo.date.compare=function(_6cd,_6ce,_6cf){
_6cd=new Date(+_6cd);
_6ce=new Date(+(_6ce||new Date()));
if(_6cf=="date"){
_6cd.setHours(0,0,0,0);
_6ce.setHours(0,0,0,0);
}else{
if(_6cf=="time"){
_6cd.setFullYear(0,0,0);
_6ce.setFullYear(0,0,0);
}
}
if(_6cd>_6ce){
return 1;
}
if(_6cd<_6ce){
return -1;
}
return 0;
};
dojo.date.add=function(date,_6d0,_6d1){
var sum=new Date(+date);
var _6d2=false;
var _6d3="Date";
switch(_6d0){
case "day":
break;
case "weekday":
var days,_6d4;
var mod=_6d1%5;
if(!mod){
days=(_6d1>0)?5:-5;
_6d4=(_6d1>0)?((_6d1-5)/5):((_6d1+5)/5);
}else{
days=mod;
_6d4=parseInt(_6d1/5);
}
var strt=date.getDay();
var adj=0;
if(strt==6&&_6d1>0){
adj=1;
}else{
if(strt==0&&_6d1<0){
adj=-1;
}
}
var trgt=strt+days;
if(trgt==0||trgt==6){
adj=(_6d1>0)?2:-2;
}
_6d1=(7*_6d4)+days+adj;
break;
case "year":
_6d3="FullYear";
_6d2=true;
break;
case "week":
_6d1*=7;
break;
case "quarter":
_6d1*=3;
case "month":
_6d2=true;
_6d3="Month";
break;
default:
_6d3="UTC"+_6d0.charAt(0).toUpperCase()+_6d0.substring(1)+"s";
}
if(_6d3){
sum["set"+_6d3](sum["get"+_6d3]()+_6d1);
}
if(_6d2&&(sum.getDate()<date.getDate())){
sum.setDate(0);
}
return sum;
};
dojo.date.difference=function(_6d5,_6d6,_6d7){
_6d6=_6d6||new Date();
_6d7=_6d7||"day";
var _6d8=_6d6.getFullYear()-_6d5.getFullYear();
var _6d9=1;
switch(_6d7){
case "quarter":
var m1=_6d5.getMonth();
var m2=_6d6.getMonth();
var q1=Math.floor(m1/3)+1;
var q2=Math.floor(m2/3)+1;
q2+=(_6d8*4);
_6d9=q2-q1;
break;
case "weekday":
var days=Math.round(dojo.date.difference(_6d5,_6d6,"day"));
var _6da=parseInt(dojo.date.difference(_6d5,_6d6,"week"));
var mod=days%7;
if(mod==0){
days=_6da*5;
}else{
var adj=0;
var aDay=_6d5.getDay();
var bDay=_6d6.getDay();
_6da=parseInt(days/7);
mod=days%7;
var _6db=new Date(_6d5);
_6db.setDate(_6db.getDate()+(_6da*7));
var _6dc=_6db.getDay();
if(days>0){
switch(true){
case aDay==6:
adj=-1;
break;
case aDay==0:
adj=0;
break;
case bDay==6:
adj=-1;
break;
case bDay==0:
adj=-2;
break;
case (_6dc+mod)>5:
adj=-2;
}
}else{
if(days<0){
switch(true){
case aDay==6:
adj=0;
break;
case aDay==0:
adj=1;
break;
case bDay==6:
adj=2;
break;
case bDay==0:
adj=1;
break;
case (_6dc+mod)<0:
adj=2;
}
}
}
days+=adj;
days-=(_6da*2);
}
_6d9=days;
break;
case "year":
_6d9=_6d8;
break;
case "month":
_6d9=(_6d6.getMonth()-_6d5.getMonth())+(_6d8*12);
break;
case "week":
_6d9=parseInt(dojo.date.difference(_6d5,_6d6,"day")/7);
break;
case "day":
_6d9/=24;
case "hour":
_6d9/=60;
case "minute":
_6d9/=60;
case "second":
_6d9/=1000;
case "millisecond":
_6d9*=_6d6.getTime()-_6d5.getTime();
}
return Math.round(_6d9);
};
return dojo.date;
});
},"curam/widget/TransferList":function(){
define("curam/widget/TransferList",["dijit/_Widget","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _6dd=new curam.util.ResourceBundle("Debug");
var _6de=dojo.declare("curam.widget.TransferList",dijit._Widget,{btnNames:["allRight","toRight","toLeft","allLeft"],btnValues:[" "," "," "," "],bntClasses:["allRight","toRight","toLeft","allLeft"],rightEmptyText:"",widgetType:"TransferList",postCreate:function(){
var _6df=this.domNode.parentNode;
dojo.addClass(_6df,"transferlistparent");
var _6e0=cm.nextSibling(this.domNode);
this.leftList=this.domNode;
var _6e1=dojo.create("table",{"class":"transfer-list"});
var _6e2=dojo.create("tbody",{},_6e1);
var _6e3=dojo.create("tr",{},_6e2);
var _6e4=dojo.create("td");
var _6e5=dojo.create("td",{"class":"controls"});
var self=this;
function _6e6(name){
return function(){
self.setSelection(name);
return false;
};
};
function _6e7(id){
return function(){
dojo.addClass(dojo.byId(id),"active");
return false;
};
};
function _6e8(id){
return function(){
dojo.removeClass(dojo.byId(id),"active");
return false;
};
};
for(j=0;j<4;j++){
var _6e9=dojo.create("div",{},_6e5);
var _6ea=new Array(LOCALISED_TRANSFER_LIST_RA,LOCALISED_TRANSFER_LIST_R,LOCALISED_TRANSFER_LIST_L,LOCALISED_TRANSFER_LIST_LA);
var btn=dojo.create("input",{type:"button",id:this.btnNames[j]+this.domNode.name,value:this.btnValues[j],"class":this.bntClasses[j],"title":_6ea[j]},_6e9);
btn.listtwins=this;
dojo.connect(btn,"onclick",_6e6(btn.id));
dojo.connect(btn,"onmousedown",_6e7(btn.id));
dojo.connect(btn,"onmouseup",_6e8(btn.id));
dojo.connect(btn,"onmouseout",_6e8(btn.id));
}
var _6eb=document.createElement("td");
var _6ec=dojo.create("select",{id:this.domNode.name,name:this.domNode.name,multiple:"multiple","class":"selected",size:5},_6eb);
dojo.attr(this.domNode,{name:"__o3ign."+_6ec.name,id:"__o3ign."+_6ec.name,"class":"selected",size:5});
this.rightList=_6ec;
dojo.connect(this.leftList,"ondblclick",_6e6("toRight"));
dojo.connect(this.rightList,"ondblclick",_6e6("toLeft"));
function _6ed(name){
return function(evt){
if(evt.keyCode==evt.KEY_ENTER){
self.setSelection(name);
}
return false;
};
};
dojo.connect(this.leftList,"onkeydown",_6ed("toRight"));
dojo.connect(this.rightList,"onkeydown",_6ed("toLeft"));
_6e4.appendChild(this.domNode);
_6e3.appendChild(_6e4);
_6e3.appendChild(_6e5);
_6e3.appendChild(_6eb);
if(_6e0){
_6df.insertBefore(_6e1,_6e0);
}else{
_6df.appendChild(_6e1);
}
this.setInitialSelection();
this.adjustEmpties(this.leftList,this.rightList);
var form=cm.getParentByType(this.domNode,"form");
if(!form){
curam.debug.log("curam.widget.TransferList "+_6dd.getProperty("curam.widget.TransferList.msg"));
return;
}
dojo.connect(form,"onsubmit",function(){
var _6ee=self.rightList;
var _6ef=new Array();
for(k1=0;k1<_6ee.options.length;k1++){
_6ef[_6ef.length]=_6ee.options[k1];
}
_6ee.options.length=0;
for(k2=0;k2<_6ef.length;k2++){
_6ef[k2].selected=true;
_6ee.appendChild(_6ef[k2]);
}
});
dojo.connect(window,"onresize",this.selectWidthSetting);
dojo.addOnLoad(this.selectWidthSetting);
},setSelection:function(id){
var _6f0=(id.indexOf("all")>-1);
var _6f1=(id.indexOf("Right")>-1)?this.leftList:this.rightList;
var _6f2=(id.indexOf("Left")>-1)?this.leftList:this.rightList;
if(_6f1.options[0]!=null&&_6f1.options[0].text!=this.rightEmptyText){
if(_6f2.options[0]!=null&&(_6f2.options[0].text==this.rightEmptyText||_6f2.options[0].text=="")){
_6f2.options[0]=null;
}
this.transferOptions(_6f1,_6f2,_6f0);
this.adjustEmpties(this.leftList,this.rightList);
}
},setInitialSelection:function(){
this.transferOptions(this.leftList,this.rightList,false);
},adjustEmpties:function(_6f3,_6f4){
if(_6f4.options.length==0){
_6f4.options[0]=new Option(this.rightEmptyText,"",false,false);
}
},transferOptions:function(_6f5,_6f6,_6f7){
if(_6f5&&_6f6){
var _6f8=new Array();
dojo.forEach(_6f5.options,function(opt){
if(_6f7||opt.selected){
_6f8[_6f8.length]=opt;
}
});
this.appendAll(_6f6,_6f8);
}
},appendAll:function(_6f9,_6fa){
for(var i=0;i<_6fa.length;i++){
_6fa[i].selected=true;
_6f9.appendChild(_6fa[i]);
}
},selectWidthSetting:function(){
if(dojo.query(".transfer-list select.selected")){
dojo.query(".transfer-list select.selected").forEach(function(_6fb){
var _6fc=_6fb.parentNode.clientWidth;
_6fb.style.width=_6fc+"px";
});
}
}});
return _6de;
});
},"curam/date":function(){
define("curam/date",["curam/define","dojo/date","curam/date/locale","dojo/date/stamp"],function(def,date,loc,_6fd){
curam.define.singleton("curam.date",{testLocale:null,isDate:function(str,fmt){
return (curam.date.getDateFromFormat(str,fmt)!=0);
},compareDates:function(d1,df1,d2,df2){
var d1=curam.date.getDateFromFormat(d1,df1);
if(d1==0){
return -1;
}
var d2=curam.date.getDateFromFormat(d2,df2);
if(d2==0){
return -1;
}
return date.compare(d1,d2,"date");
},formatDate:function(d,fmt){
var _6fe=loc.format(d,{selector:"date",datePattern:fmt,locale:curam.date.getLocale()});
return _6fe;
},getDateFromFormat:function(str,fmt){
var res=loc.parse(str,{selector:"date",datePattern:fmt,locale:curam.date.getLocale()});
return (res==null)?"0":res;
},ISO8601StringToDate:function(val){
return _6fd.fromISOString(val);
},getLocale:function(){
var _6ff=(typeof jsL!="undefined"&&jsL)?jsL:(curam.config?curam.config.locale:null);
return _6ff||curam.date.testLocale||"en";
}});
return curam.date;
});
},"dijit/layout/_ContentPaneResizeMixin":function(){
define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/_base/lang","dojo/query","dojo/_base/sniff","dojo/_base/window","../registry","./utils","../_Contained"],function(_700,_701,_702,_703,_704,lang,_705,has,win,_706,_707,_708){
return _701("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){
if(this._started){
return;
}
var _709=this.getParent();
this._childOfLayoutWidget=_709&&_709.isLayoutContainer;
this._needLayout=!this._childOfLayoutWidget;
this.inherited(arguments);
if(this._isShown()){
this._onShow();
}
if(!this._childOfLayoutWidget){
this.connect(has("ie")?this.domNode:win.global,"onresize",function(){
this._needLayout=!this._childOfLayoutWidget;
this.resize();
});
}
},_checkIfSingleChild:function(){
var _70a=_705("> *",this.containerNode).filter(function(node){
return node.tagName!=="SCRIPT";
}),_70b=_70a.filter(function(node){
return _702.has(node,"data-dojo-type")||_702.has(node,"dojoType")||_702.has(node,"widgetId");
}),_70c=_700.filter(_70b.map(_706.byNode),function(_70d){
return _70d&&_70d.domNode&&_70d.resize;
});
if(_70a.length==_70b.length&&_70c.length==1){
this._singleChild=_70c[0];
}else{
delete this._singleChild;
}
_703.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);
},resize:function(_70e,_70f){
if(!this._wasShown&&this.open!==false){
this._onShow();
}
this._resizeCalled=true;
this._scheduleLayout(_70e,_70f);
},_scheduleLayout:function(_710,_711){
if(this._isShown()){
this._layout(_710,_711);
}else{
this._needLayout=true;
this._changeSize=_710;
this._resultSize=_711;
}
},_layout:function(_712,_713){
if(_712){
_704.setMarginBox(this.domNode,_712);
}
var cn=this.containerNode;
if(cn===this.domNode){
var mb=_713||{};
lang.mixin(mb,_712||{});
if(!("h" in mb)||!("w" in mb)){
mb=lang.mixin(_704.getMarginBox(cn),mb);
}
this._contentBox=_707.marginBox2contentBox(cn,mb);
}else{
this._contentBox=_704.getContentBox(cn);
}
this._layoutChildren();
delete this._needLayout;
},_layoutChildren:function(){
if(this.doLayout){
this._checkIfSingleChild();
}
if(this._singleChild&&this._singleChild.resize){
var cb=this._contentBox||_704.getContentBox(this.containerNode);
this._singleChild.resize({w:cb.w,h:cb.h});
}else{
_700.forEach(this.getChildren(),function(_714){
if(_714.resize){
_714.resize();
}
});
}
},_isShown:function(){
if(this._childOfLayoutWidget){
if(this._resizeCalled&&"open" in this){
return this.open;
}
return this._resizeCalled;
}else{
if("open" in this){
return this.open;
}else{
var node=this.domNode,_715=this.domNode.parentNode;
return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_703.contains(node,"dijitHidden")&&_715&&_715.style&&(_715.style.display!="none");
}
}
},_onShow:function(){
if(this._needLayout){
this._layout(this._changeSize,this._resultSize);
}
this.inherited(arguments);
this._wasShown=true;
}});
});
},"curam/matrix/Constants":function(){
define("curam/matrix/Constants",["curam/define"],function(){
curam.define.singleton("curam.matrix.Constants",{ANSWER_TYPE_CODETABLE:"codetable",ANSWER_TYPE_NUMERIC:"numeric",ANSWER_TYPE_BOOLEAN:"boolean",ANSWER_TYPE_STRING:"string",SPECIFIC_VALUE:"specificvalue",MIN_MAX:"minmax",MATRIX_BORDER_SIZE:1,COMBINATION_CELL_WIDTH:22,columnLetters:new Array("C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"),container:null});
return curam.matrix.Constants;
});
},"dojo/dnd/Moveable":function(){
define("dojo/dnd/Moveable",["../main","../Evented","../touch","./Mover"],function(dojo,_716,_717){
dojo.declare("dojo.dnd.Moveable",[_716],{handle:"",delay:0,skip:false,constructor:function(node,_718){
this.node=dojo.byId(node);
if(!_718){
_718={};
}
this.handle=_718.handle?dojo.byId(_718.handle):null;
if(!this.handle){
this.handle=this.node;
}
this.delay=_718.delay>0?_718.delay:0;
this.skip=_718.skip;
this.mover=_718.mover?_718.mover:dojo.dnd.Mover;
this.events=[dojo.connect(this.handle,_717.press,this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];
},markupFactory:function(_719,node,ctor){
return new ctor(node,_719);
},destroy:function(){
dojo.forEach(this.events,dojo.disconnect);
this.events=this.node=this.handle=null;
},onMouseDown:function(e){
if(this.skip&&dojo.dnd.isFormElement(e)){
return;
}
if(this.delay){
this.events.push(dojo.connect(this.handle,_717.move,this,"onMouseMove"),dojo.connect(this.handle,_717.release,this,"onMouseUp"));
this._lastX=e.pageX;
this._lastY=e.pageY;
}else{
this.onDragDetected(e);
}
dojo.stopEvent(e);
},onMouseMove:function(e){
if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){
this.onMouseUp(e);
this.onDragDetected(e);
}
dojo.stopEvent(e);
},onMouseUp:function(e){
for(var i=0;i<2;++i){
dojo.disconnect(this.events.pop());
}
dojo.stopEvent(e);
},onSelectStart:function(e){
if(!this.skip||!dojo.dnd.isFormElement(e)){
dojo.stopEvent(e);
}
},onDragDetected:function(e){
new this.mover(this.node,e,this);
},onMoveStart:function(_71a){
dojo.publish("/dnd/move/start",[_71a]);
dojo.addClass(dojo.body(),"dojoMove");
dojo.addClass(this.node,"dojoMoveItem");
},onMoveStop:function(_71b){
dojo.publish("/dnd/move/stop",[_71b]);
dojo.removeClass(dojo.body(),"dojoMove");
dojo.removeClass(this.node,"dojoMoveItem");
},onFirstMove:function(_71c,e){
},onMove:function(_71d,_71e,e){
this.onMoving(_71d,_71e);
var s=_71d.node.style;
s.left=_71e.l+"px";
s.top=_71e.t+"px";
this.onMoved(_71d,_71e);
},onMoving:function(_71f,_720){
},onMoved:function(_721,_722){
}});
return dojo.dnd.Moveable;
});
},"dijit/TooltipDialog":function(){
require({cache:{"url:dijit/templates/TooltipDialog.html":"<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\"></div>\n</div>\n"}});
define("dijit/TooltipDialog",["dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","."],function(_723,_724,_725,keys,lang,_726,_727,_728,_729,_72a,_72b,_72c){
return _723("dijit.TooltipDialog",[_727,_72a,_729,_728],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_72b,_setTitleAttr:function(_72d){
this.containerNode.title=_72d;
this._set("title",_72d);
},postCreate:function(){
this.inherited(arguments);
this.connect(this.containerNode,"onkeypress","_onKey");
},orient:function(node,_72e,_72f){
var newC="dijitTooltipAB"+(_72f.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_72f.charAt(0)=="T"?"Below":"Above");
_724.replace(this.domNode,newC,this._currentOrientClass||"");
this._currentOrientClass=newC;
},focus:function(){
this._getFocusItems(this.containerNode);
_726.focus(this._firstFocusItem);
},onOpen:function(pos){
this.orient(this.domNode,pos.aroundCorner,pos.corner);
this._onShow();
},onClose:function(){
this.onHide();
},_onKey:function(evt){
var node=evt.target;
if(evt.charOrCode===keys.TAB){
this._getFocusItems(this.containerNode);
}
var _730=(this._firstFocusItem==this._lastFocusItem);
if(evt.charOrCode==keys.ESCAPE){
setTimeout(lang.hitch(this,"onCancel"),0);
_725.stop(evt);
}else{
if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){
if(!_730){
_726.focus(this._lastFocusItem);
}
_725.stop(evt);
}else{
if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){
if(!_730){
_726.focus(this._firstFocusItem);
}
_725.stop(evt);
}else{
if(evt.charOrCode===keys.TAB){
evt.stopPropagation();
}
}
}
}
}});
});
},"dojo/store/util/SimpleQueryEngine":function(){
define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(_731){
return function(_732,_733){
switch(typeof _732){
default:
throw new Error("Can not query with a "+typeof _732);
case "object":
case "undefined":
var _734=_732;
_732=function(_735){
for(var key in _734){
var _736=_734[key];
if(_736&&_736.test){
if(!_736.test(_735[key])){
return false;
}
}else{
if(_736!=_735[key]){
return false;
}
}
}
return true;
};
break;
case "string":
if(!this[_732]){
throw new Error("No filter function "+_732+" was found in store");
}
_732=this[_732];
case "function":
}
function _737(_738){
var _739=_731.filter(_738,_732);
if(_733&&_733.sort){
_739.sort(function(a,b){
for(var sort,i=0;sort=_733.sort[i];i++){
var _73a=a[sort.attribute];
var _73b=b[sort.attribute];
if(_73a!=_73b){
return !!sort.descending==_73a>_73b?-1:1;
}
}
return 0;
});
}
if(_733&&(_733.start||_733.count)){
var _73c=_739.length;
_739=_739.slice(_733.start||0,(_733.start||0)+(_733.count||Infinity));
_739.total=_73c;
}
return _739;
};
_737.matches=_732;
return _737;
};
});
},"dijit/MenuItem":function(){
require({cache:{"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"}});
define("dijit/MenuItem",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/event","dojo/_base/kernel","dojo/_base/sniff","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_73d,dom,_73e,_73f,_740,_741,has,_742,_743,_744,_745,_746){
return _73d("dijit.MenuItem",[_742,_743,_744,_745],{templateString:_746,baseClass:"dijitMenuItem",label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_747){
if(_747&&!("label" in this.params)){
this.set("label",_747.innerHTML);
}
},buildRendering:function(){
this.inherited(arguments);
var _748=this.id+"_text";
_73e.set(this.containerNode,"id",_748);
if(this.accelKeyNode){
_73e.set(this.accelKeyNode,"id",this.id+"_accel");
_748+=" "+this.id+"_accel";
}
this.domNode.setAttribute("aria-labelledby",_748);
dom.setSelectable(this.domNode,false);
},_onHover:function(){
this.getParent().onItemHover(this);
},_onUnhover:function(){
this.getParent().onItemUnhover(this);
this._set("hovering",false);
},_onClick:function(evt){
this.getParent().onItemClick(this,evt);
_740.stop(evt);
},onClick:function(){
},focus:function(){
try{
if(has("ie")==8){
this.containerNode.focus();
}
this.focusNode.focus();
}
catch(e){
}
},_onFocus:function(){
this._setSelected(true);
this.getParent()._onItemFocus(this);
this.inherited(arguments);
},_setSelected:function(_749){
_73f.toggle(this.domNode,"dijitMenuItemSelected",_749);
},setLabel:function(_74a){
_741.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",_74a);
},setDisabled:function(_74b){
_741.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");
this.set("disabled",_74b);
},_setDisabledAttr:function(_74c){
this.focusNode.setAttribute("aria-disabled",_74c?"true":"false");
this._set("disabled",_74c);
},_setAccelKeyAttr:function(_74d){
this.accelKeyNode.style.display=_74d?"":"none";
this.accelKeyNode.innerHTML=_74d;
_73e.set(this.containerNode,"colSpan",_74d?"1":"2");
this._set("accelKey",_74d);
}});
});
},"dijit/layout/TabController":function(){
require({cache:{"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode\" data-dojo-attach-event='onclick:onClick'>\n    <div role=\"presentation\" class='dijitTabInnerDiv' data-dojo-attach-point='innerDiv'>\n        <div role=\"presentation\" class='dijitTabContent' data-dojo-attach-point='tabContent'>\n        \t<div role=\"presentation\" data-dojo-attach-point='focusNode'>\n\t\t        <img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode' />\n\t\t        <span data-dojo-attach-point='containerNode' class='tabLabel'></span>\n\t\t        <span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t        \t\tdata-dojo-attach-event='onclick: onClickCloseButton' role=\"presentation\">\n\t\t            <span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t        ></span>\n\t\t\t</div>\n        </div>\n    </div>\n</div>\n"}});
define("dijit/layout/TabController",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/i18n","dojo/_base/lang","./StackController","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_74e,dom,_74f,_750,i18n,lang,_751,Menu,_752,_753){
var _754=_74e("dijit.layout._TabButton",_751.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_753,scrollOnFocus:false,buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.containerNode,false);
},startup:function(){
this.inherited(arguments);
var n=this.domNode;
setTimeout(function(){
n.className=n.className;
},1);
},_setCloseButtonAttr:function(disp){
this._set("closeButton",disp);
_750.toggle(this.innerDiv,"dijitClosable",disp);
this.closeNode.style.display=disp?"":"none";
if(disp){
var _755=i18n.getLocalization("dijit","common");
if(this.closeNode){
_74f.set(this.closeNode,"title",_755.itemClose);
}
this._closeMenu=new Menu({id:this.id+"_Menu",dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode]});
this._closeMenu.addChild(new _752({label:_755.itemClose,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:lang.hitch(this,"onClickCloseButton")}));
}else{
if(this._closeMenu){
this._closeMenu.destroyRecursive();
delete this._closeMenu;
}
}
},_setLabelAttr:function(_756){
this.inherited(arguments);
if(!this.showLabel&&!this.params.title){
this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");
}
},destroy:function(){
if(this._closeMenu){
this._closeMenu.destroyRecursive();
delete this._closeMenu;
}
this.inherited(arguments);
}});
var _757=_74e("dijit.layout.TabController",_751,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'></div>",tabPosition:"top",buttonWidget:"curam.widget._TabButton",startup:function(){
this.inherited(arguments);
this.connect(this,"onAddChild",function(page,_758){
var _759=this;
page.controlButton._curamPageId=page.id;
page.controlButton.connect(page.controlButton,"_setCuramVisibleAttr",function(){
if(page.controlButton.curamVisible){
var _75a=dojo.map(_759.getChildren(),function(btn){
return btn._curamPageId;
});
var _75b=curam.tab.getTabWidgetId(curam.tab.getContainerTab(page.domNode));
var _75c=curam.util.TabNavigation.getInsertIndex(_75b,_75a,page.id);
_759.addChild(page.controlButton,_75c);
}else{
var _75d=page.controlButton;
if(dojo.indexOf(_759.getChildren(),_75d)!=-1){
_759.removeChild(_75d);
}
}
});
});
},_rectifyRtlTabList:function(){
if(0>=this.tabPosition.indexOf("-h")){
return;
}
if(!this.pane2button){
return;
}
var _75e=0;
for(var pane in this.pane2button){
var ow=this.pane2button[pane].innerDiv.scrollWidth;
_75e=Math.max(_75e,ow);
}
for(pane in this.pane2button){
this.pane2button[pane].innerDiv.style.width=_75e+"px";
}
},onButtonClick:function(page){
if(!page.controlButton.get("curamDisabled")){
var _75f=dijit.byId(this.containerId);
_75f.selectChild(page);
}
}});
_757.TabButton=_754;
return _757;
});
},"dijit/MenuBarItem":function(){
require({cache:{"url:dijit/templates/MenuBarItem.html":"<div class=\"dijitReset dijitInline dijitMenuItem dijitMenuItemLabel\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<span data-dojo-attach-point=\"containerNode\"></span>\n</div>\n"}});
define("dijit/MenuBarItem",["dojo/_base/declare","./MenuItem","dojo/text!./templates/MenuBarItem.html"],function(_760,_761,_762){
var _763=_760("dijit._MenuBarItemMixin",null,{templateString:_762,_setIconClassAttr:null});
var _764=_760("dijit.MenuBarItem",[_761,_763],{});
_764._MenuBarItemMixin=_763;
return _764;
});
},"dojo/cldr/supplemental":function(){
define("dojo/cldr/supplemental",["../_base/kernel","../_base/lang","../i18n"],function(dojo,lang){
lang.getObject("cldr.supplemental",true,dojo);
dojo.cldr.supplemental.getFirstDayOfWeek=function(_765){
var _766={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,sy:6,tn:6,ye:6,ar:0,as:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,il:0,"in":0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mn:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,zw:0};
var _767=dojo.cldr.supplemental._region(_765);
var dow=_766[_767];
return (dow===undefined)?1:dow;
};
dojo.cldr.supplemental._region=function(_768){
_768=dojo.i18n.normalizeLocale(_768);
var tags=_768.split("-");
var _769=tags[1];
if(!_769){
_769={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];
}else{
if(_769.length==4){
_769=tags[2];
}
}
return _769;
};
dojo.cldr.supplemental.getWeekend=function(_76a){
var _76b={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5};
var _76c={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6};
var _76d=dojo.cldr.supplemental._region(_76a);
var _76e=_76b[_76d];
var end=_76c[_76d];
if(_76e===undefined){
_76e=6;
}
if(end===undefined){
end=0;
}
return {start:_76e,end:end};
};
return dojo.cldr.supplemental;
});
},"dijit/MenuBar":function(){
require({cache:{"url:dijit/templates/MenuBar.html":"<div class=\"dijitMenuBar dijitMenuPassive\" data-dojo-attach-point=\"containerNode\"  role=\"menubar\" tabIndex=\"${tabIndex}\" data-dojo-attach-event=\"onkeypress: _onKeyPress\"></div>\n"}});
define("dijit/MenuBar",["dojo/_base/declare","dojo/_base/event","dojo/keys","./_MenuBase","dojo/text!./templates/MenuBar.html"],function(_76f,_770,keys,_771,_772){
return _76f("dijit.MenuBar",_771,{templateString:_772,baseClass:"dijitMenuBar",_isMenuBar:true,postCreate:function(){
var l=this.isLeftToRight();
this.connectKeyNavHandlers(l?[keys.LEFT_ARROW]:[keys.RIGHT_ARROW],l?[keys.RIGHT_ARROW]:[keys.LEFT_ARROW]);
this._orient=["below"];
},focusChild:function(item){
var _773=this.focusedChild,_774=_773&&_773.popup&&_773.popup.isShowingNow;
this.inherited(arguments);
if(_774&&item.popup&&!item.disabled){
this._openPopup();
}
},_onKeyPress:function(evt){
if(evt.ctrlKey||evt.altKey){
return;
}
switch(evt.charOrCode){
case keys.DOWN_ARROW:
this._moveToPopup(evt);
_770.stop(evt);
}
},onItemClick:function(item,evt){
if(item.popup&&item.popup.isShowingNow){
item.popup.onCancel();
}else{
this.inherited(arguments);
}
}});
});
},"curam/contentPanel":function(){
define("curam/contentPanel",["curam/util","curam/tab","curam/define","curam/debug","curam/ui/PageRequest"],function(cu,ct){
curam.define.singleton("curam.contentPanel",{initSmartPanelExpListPageLoadListener:function(){
if(!cu.getTopmostWindow().dojo.body()._spListenerInitialized){
cu.getTopmostWindow().dojo.subscribe("expandedList.pageLoaded",curam.contentPanel.smartPanelExpListPageLoadListener);
cu.getTopmostWindow().dojo.body()._spListenerInitialized="true";
}
},smartPanelExpListPageLoadListener:function(data){
if(ct.getSmartPanelIframe()){
curam.contentPanel.checkSmartPanelLoaded(data,"ExpandedList.TabContentArea.Reloaded");
}
},publishSmartPanelExpListPageLoad:function(_775){
if(ct.getSmartPanelIframe()){
cu.getTopmostWindow().dojo.publish("expandedList.pageLoaded",[_775.contentWindow.location.href]);
}
},setupOnLoad:function(_776,_777){
curam.debug.log("curam.contenPanel: setupOnLoad: "+_776+" "+_777);
curam.contentPanel.initSmartPanelExpListPageLoadListener();
var _778=curam.contentPanel.iframeOnloadHandler;
cu.onLoad.addSubscriber(_776,_778);
curam.contentPanel.targetSmartPanel(_776,_777);
ct.executeOnTabClose(function(){
cu.onLoad.removeSubscriber(_776,_778);
},_777);
},iframeOnloadHandler:function(_779,_77a){
var _77b=ct.getContainerTab(dojo.query("iframe."+_779)[0]);
var _77c=ct.getTabWidgetId(_77b);
var _77d=dojo.byId(_779);
var _77e=_77d.contentWindow.document.title;
if(_77e==""){
var _77f=curam.util.iframeTitleFallBack();
_77d.contentWindow.document.title=_77f;
}
dojo.attr(_77d,"title",CONTENT_PANEL_TITLE+" - "+curam.util.iframeTitleFallBack());
dojo.attr(_77d,"data-done-loading",true);
cu.Refresh.getController(_77c).pageLoaded(_77a.pageID,cu.ui.refresh.RefreshEvent.prototype.SOURCE_CONTEXT_MAIN);
dojo.publish("/curam/main-content/page/loaded",[_77a.pageID,_77c]);
},spOnLoadHandler:function(_780,_781){
var _782=dojo.query("."+_780)[0];
curam.contentPanel.checkSmartPanelLoaded(_782.src,"TabContentArea.Reloaded");
},checkSmartPanelLoaded:function(url,_783){
var _784=ct.getSmartPanelIframe();
var _785=dojo.attr(_784,"iframeLoaded");
if(_785=="true"){
curam.contentPanel.smartPanelPublisher(_784,url,_783);
}else{
var _786=curam.tab.getContainerTab(_784);
var _787=curam.tab.getTabWidgetId(_786);
var _788=dojo.subscribe("smartPanel.loaded",function(_789){
if(_789!=_784){
return;
}
curam.contentPanel.smartPanelPublisher(_784,url,_783);
});
curam.tab.unsubscribeOnTabClose(_788,_787);
}
},smartPanelPublisher:function(_78a,url,_78b){
var _78c=new curam.ui.PageRequest(url);
_78a.contentWindow.dojo.publish("contentPane.targetSmartPanel",[{"eventType":_78b,"pageId":_78c.pageID,"parameters":_78c.parameters}]);
},targetSmartPanel:function(_78d,_78e){
curam.debug.log("curam.contentPanel:targetSmartPanel(): "+_78d+" "+_78e);
var _78f=ct.getSmartPanelIframe();
var _790=_78e;
if(_78f){
var spId=curam.util.onLoad.defaultGetIdFunction(_78f);
var _791=dojo.subscribe("expandedList.toggle",function(_792,_793,_794){
if(_790===_794){
curam.contentPanel.checkSmartPanelLoaded(_793.url,_793.eventType);
}
});
var _795=curam.contentPanel.spOnLoadHandler;
cu.onLoad.addSubscriber(_78d,_795);
ct.executeOnTabClose(function(){
dojo.unsubscribe(_791);
cu.onLoad.removeSubscriber(_78d,_795);
cu.onLoad.removeSubscriber(spId,curam.smartPanel._handleSmartPanelLoad);
},_78e);
}
}});
return curam.contentPanel;
});
},"dijit/layout/_LayoutWidget":function(){
define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/sniff","dojo/_base/window"],function(lang,_796,_797,_798,_799,_79a,_79b,_79c,has,win){
return _799("dijit.layout._LayoutWidget",[_796,_797,_798],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){
this.inherited(arguments);
_79a.add(this.domNode,"dijitContainer");
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
var _79d=this.getParent&&this.getParent();
if(!(_79d&&_79d.isLayoutContainer)){
this.resize();
this.connect(win.global,"onresize",function(){
this.resize();
});
}
},resize:function(_79e,_79f){
var node=this.domNode;
if(_79e){
_79b.setMarginBox(node,_79e);
}
var mb=_79f||{};
lang.mixin(mb,_79e||{});
if(!("h" in mb)||!("w" in mb)){
mb=lang.mixin(_79b.getMarginBox(node),mb);
}
var cs=_79c.getComputedStyle(node);
var me=_79b.getMarginExtents(node,cs);
var be=_79b.getBorderExtents(node,cs);
var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});
var pe=_79b.getPadExtents(node,cs);
this._contentBox={l:_79c.toPixelValue(node,cs.paddingLeft),t:_79c.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};
this.layout();
},layout:function(){
},_setupChild:function(_7a0){
var cls=this.baseClass+"-child "+(_7a0.baseClass?this.baseClass+"-"+_7a0.baseClass:"");
_79a.add(_7a0.domNode,cls);
},addChild:function(_7a1,_7a2){
this.inherited(arguments);
if(this._started){
this._setupChild(_7a1);
}
},removeChild:function(_7a3){
var cls=this.baseClass+"-child"+(_7a3.baseClass?" "+this.baseClass+"-"+_7a3.baseClass:"");
_79a.remove(_7a3.domNode,cls);
this.inherited(arguments);
}});
});
},"dojo/behavior":function(){
define("dojo/behavior",["./_base/kernel","./_base/lang","./_base/array","./_base/connect","./query","./ready"],function(dojo,lang,_7a4,_7a5,_7a6,_7a7){
dojo.behavior=new function(){
function _7a8(obj,name){
if(!obj[name]){
obj[name]=[];
}
return obj[name];
};
var _7a9=0;
function _7aa(obj,_7ab,func){
var _7ac={};
for(var x in obj){
if(typeof _7ac[x]=="undefined"){
if(!func){
_7ab(obj[x],x);
}else{
func.call(_7ab,obj[x],x);
}
}
}
};
this._behaviors={};
this.add=function(_7ad){
_7aa(_7ad,this,function(_7ae,name){
var _7af=_7a8(this._behaviors,name);
if(typeof _7af["id"]!="number"){
_7af.id=_7a9++;
}
var _7b0=[];
_7af.push(_7b0);
if((lang.isString(_7ae))||(lang.isFunction(_7ae))){
_7ae={found:_7ae};
}
_7aa(_7ae,function(rule,_7b1){
_7a8(_7b0,_7b1).push(rule);
});
});
};
var _7b2=function(node,_7b3,_7b4){
if(lang.isString(_7b3)){
if(_7b4=="found"){
_7a5.publish(_7b3,[node]);
}else{
_7a5.connect(node,_7b4,function(){
_7a5.publish(_7b3,arguments);
});
}
}else{
if(lang.isFunction(_7b3)){
if(_7b4=="found"){
_7b3(node);
}else{
_7a5.connect(node,_7b4,_7b3);
}
}
}
};
this.apply=function(){
_7aa(this._behaviors,function(_7b5,id){
_7a6(id).forEach(function(elem){
var _7b6=0;
var bid="_dj_behavior_"+_7b5.id;
if(typeof elem[bid]=="number"){
_7b6=elem[bid];
if(_7b6==(_7b5.length)){
return;
}
}
for(var x=_7b6,tver;tver=_7b5[x];x++){
_7aa(tver,function(_7b7,_7b8){
if(lang.isArray(_7b7)){
_7a4.forEach(_7b7,function(_7b9){
_7b2(elem,_7b9,_7b8);
});
}
});
}
elem[bid]=_7b5.length;
});
});
};
};
_7a7(dojo.behavior,"apply");
return dojo.behavior;
});
},"dijit/popup":function(){
define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/_base/window","./place","./BackgroundIframe","."],function(_7ba,_7bb,_7bc,_7bd,dom,_7be,_7bf,_7c0,_7c1,_7c2,has,keys,lang,on,win,_7c3,_7c4,_7c5){
function _7c6(){
if(this._popupWrapper){
_7bf.destroy(this._popupWrapper);
delete this._popupWrapper;
}
};
var _7c7=_7bd(null,{_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_7c8){
var _7c9=_7c8._popupWrapper,node=_7c8.domNode;
if(!_7c9){
_7c9=_7bf.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},win.body());
_7c9.appendChild(node);
var s=node.style;
s.display="";
s.visibility="";
s.position="";
s.top="0px";
_7c8._popupWrapper=_7c9;
_7bb.after(_7c8,"destroy",_7c6,true);
}
return _7c9;
},moveOffScreen:function(_7ca){
var _7cb=this._createWrapper(_7ca);
_7c1.set(_7cb,{visibility:"hidden",top:"-9999px",display:""});
},hide:function(_7cc){
var _7cd=this._createWrapper(_7cc);
_7c1.set(_7cd,"display","none");
},getTopPopup:function(){
var _7ce=this._stack;
for(var pi=_7ce.length-1;pi>0&&_7ce[pi].parent===_7ce[pi-1].widget;pi--){
}
return _7ce[pi];
},open:function(args){
var _7cf=this._stack,_7d0=args.popup,_7d1=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_7c0.isBodyLtr(),_7d2=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);
while(_7cf.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_7cf[_7cf.length-1].widget.domNode))){
this.close(_7cf[_7cf.length-1].widget);
}
var _7d3=this._createWrapper(_7d0);
_7be.set(_7d3,{id:id,style:{zIndex:this._beginZIndex+_7cf.length},"class":"dijitPopup "+(_7d0.baseClass||_7d0["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});
if(has("bgIframe")&&!_7d0.bgIframe){
_7d0.bgIframe=new _7c4(_7d3);
}
var best=_7d2?_7c3.around(_7d3,_7d2,_7d1,ltr,_7d0.orient?lang.hitch(_7d0,"orient"):null):_7c3.at(_7d3,args,_7d1=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);
_7d3.style.display="";
_7d3.style.visibility="visible";
_7d0.domNode.style.visibility="visible";
var _7d4=[];
_7d4.push(on(_7d3,_7bc._keypress,lang.hitch(this,function(evt){
if(evt.charOrCode==keys.ESCAPE&&args.onCancel){
_7c2.stop(evt);
args.onCancel();
}else{
if(evt.charOrCode===keys.TAB){
_7c2.stop(evt);
var _7d5=this.getTopPopup();
if(_7d5&&_7d5.onCancel){
_7d5.onCancel();
}
}
}
})));
if(_7d0.onCancel&&args.onCancel){
_7d4.push(_7d0.on("cancel",args.onCancel));
}
_7d4.push(_7d0.on(_7d0.onExecute?"execute":"change",lang.hitch(this,function(){
var _7d6=this.getTopPopup();
if(_7d6&&_7d6.onExecute){
_7d6.onExecute();
}
})));
_7cf.push({widget:_7d0,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_7d4});
if(_7d0.onOpen){
_7d0.onOpen(best);
}
return best;
},close:function(_7d7){
var _7d8=this._stack;
while((_7d7&&_7ba.some(_7d8,function(elem){
return elem.widget==_7d7;
}))||(!_7d7&&_7d8.length)){
var top=_7d8.pop(),_7d9=top.widget,_7da=top.onClose;
if(_7d9.onClose){
_7d9.onClose();
}
var h;
while(h=top.handlers.pop()){
h.remove();
}
if(_7d9&&_7d9.domNode){
this.hide(_7d9);
}
if(_7da){
_7da();
}
}
}});
return (_7c5.popup=new _7c7());
});
},"dijit/_base/manager":function(){
define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","../registry",".."],function(_7db,_7dc,_7dd,_7de){
_7db.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){
_7de[name]=_7dd[name];
});
_7de.defaultDuration=_7dc["defaultDuration"]||200;
return _7de;
});
},"dijit/layout/StackController":function(){
define("dijit/layout/StackController",["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/sniff","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/i18n!../nls/common"],function(_7df,_7e0,_7e1,keys,lang,has,_7e2,_7e3,_7e4,_7e5,_7e6,_7e7){
var _7e8=_7e0("dijit.layout._StackButton",_7e7,{tabIndex:"-1",closeButton:false,_setCheckedAttr:function(_7e9,_7ea){
this.inherited(arguments);
this.focusNode.removeAttribute("aria-pressed");
},buildRendering:function(evt){
this.inherited(arguments);
(this.focusNode||this.domNode).setAttribute("role","tab");
},onClick:function(){
_7e2.focus(this.focusNode);
},onClickCloseButton:function(evt){
evt.stopPropagation();
}});
var _7eb=_7e0("dijit.layout.StackController",[_7e4,_7e5,_7e6],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeypress'></span>",containerId:"",buttonWidget:_7e8,constructor:function(){
this.pane2button={};
this.pane2connects={};
this.pane2watches={};
},postCreate:function(){
this.inherited(arguments);
this.subscribe(this.containerId+"-startup","onStartup");
this.subscribe(this.containerId+"-addChild","onAddChild");
this.subscribe(this.containerId+"-removeChild","onRemoveChild");
this.subscribe(this.containerId+"-selectChild","onSelectChild");
this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");
},onStartup:function(info){
_7df.forEach(info.children,this.onAddChild,this);
if(info.selected){
this.onSelectChild(info.selected);
}
},destroy:function(){
for(var pane in this.pane2button){
this.onRemoveChild(_7e3.byId(pane));
}
this.inherited(arguments);
},onAddChild:function(page,_7ec){
var cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;
var _7ed=new cls({id:this.id+"_"+page.id,label:page.title,dir:page.dir,lang:page.lang,textDir:page.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip});
_7ed.focusNode.setAttribute("aria-selected","false");
var _7ee=["title","showTitle","iconClass","closable","tooltip"],_7ef=["label","showLabel","iconClass","closeButton","title"];
this.pane2watches[page.id]=_7df.map(_7ee,function(_7f0,idx){
return page.watch(_7f0,function(name,_7f1,_7f2){
_7ed.set(_7ef[idx],_7f2);
});
});
this.pane2connects[page.id]=[this.connect(_7ed,"onClick",lang.hitch(this,"onButtonClick",page)),this.connect(_7ed,"onClickCloseButton",lang.hitch(this,"onCloseButtonClick",page))];
this.addChild(_7ed,_7ec);
this.pane2button[page.id]=_7ed;
page.controlButton=_7ed;
if(!this._currentChild){
_7ed.focusNode.setAttribute("tabIndex","0");
_7ed.focusNode.setAttribute("aria-selected","true");
this._currentChild=page;
}
if(!this.isLeftToRight()&&has("ie")&&this._rectifyRtlTabList){
this._rectifyRtlTabList();
}
},onRemoveChild:function(page){
if(this._currentChild===page){
this._currentChild=null;
}
_7df.forEach(this.pane2connects[page.id],lang.hitch(this,"disconnect"));
delete this.pane2connects[page.id];
_7df.forEach(this.pane2watches[page.id],function(w){
w.unwatch();
});
delete this.pane2watches[page.id];
var _7f3=this.pane2button[page.id];
if(_7f3){
this.removeChild(_7f3);
delete this.pane2button[page.id];
_7f3.destroy();
}
delete page.controlButton;
},onSelectChild:function(page){
if(!page){
return;
}
if(this._currentChild){
var _7f4=this.pane2button[this._currentChild.id];
_7f4.set("checked",false);
_7f4.focusNode.setAttribute("aria-selected","false");
_7f4.focusNode.setAttribute("tabIndex","-1");
}
var _7f5=this.pane2button[page.id];
_7f5.set("checked",true);
_7f5.focusNode.setAttribute("aria-selected","true");
this._currentChild=page;
_7f5.focusNode.setAttribute("tabIndex","0");
var _7f6=_7e3.byId(this.containerId);
_7f6.containerNode.setAttribute("aria-labelledby",_7f5.id);
},onButtonClick:function(page){
if(this._currentChild.id===page.id){
var _7f7=this.pane2button[page.id];
_7f7.set("checked",true);
}
var _7f8=_7e3.byId(this.containerId);
_7f8.selectChild(page);
},onCloseButtonClick:function(page){
var _7f9=_7e3.byId(this.containerId);
_7f9.closeChild(page);
if(this._currentChild){
var b=this.pane2button[this._currentChild.id];
if(b){
_7e2.focus(b.focusNode||b.domNode);
}
}
},adjacent:function(_7fa){
if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){
_7fa=!_7fa;
}
var _7fb=this.getChildren();
var _7fc=_7df.indexOf(_7fb,this.pane2button[this._currentChild.id]);
var _7fd=_7fa?1:_7fb.length-1;
return _7fb[(_7fc+_7fd)%_7fb.length];
},onkeypress:function(e){
if(this.disabled||e.altKey){
return;
}
var _7fe=null;
if(e.ctrlKey||!e._djpage){
switch(e.charOrCode){
case keys.LEFT_ARROW:
case keys.UP_ARROW:
if(!e._djpage){
_7fe=false;
}
break;
case keys.PAGE_UP:
if(e.ctrlKey){
_7fe=false;
}
break;
case keys.RIGHT_ARROW:
case keys.DOWN_ARROW:
if(!e._djpage){
_7fe=true;
}
break;
case keys.PAGE_DOWN:
if(e.ctrlKey){
_7fe=true;
}
break;
case keys.HOME:
case keys.END:
var _7ff=this.getChildren();
if(_7ff&&_7ff.length){
_7ff[e.charOrCode==keys.HOME?0:_7ff.length-1].onClick();
}
_7e1.stop(e);
break;
case keys.DELETE:
if(this._currentChild.closable){
this.onCloseButtonClick(this._currentChild);
}
_7e1.stop(e);
break;
default:
if(e.ctrlKey){
if(e.charOrCode===keys.TAB){
this.adjacent(!e.shiftKey).onClick();
_7e1.stop(e);
}else{
if(e.charOrCode=="w"){
if(this._currentChild.closable){
this.onCloseButtonClick(this._currentChild);
}
_7e1.stop(e);
}
}
}
}
if(_7fe!==null){
this.adjacent(_7fe).onClick();
_7e1.stop(e);
}
}
},onContainerKeyPress:function(info){
info.e._djpage=info.page;
this.onkeypress(info.e);
}});
_7eb.StackButton=_7e8;
return _7eb;
});
},"curam/util/onLoad":function(){
define("curam/util/onLoad",["curam/util","curam/define","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _800=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.util.onLoad",{EVENT:"/curam/frame/load",publishers:[],subscribers:[],defaultGetIdFunction:function(_801){
var _802=dojo.attr(_801,"class").split(" ");
return dojo.filter(_802,function(_803){
return _803.indexOf("iframe-")==0;
})[0];
},addPublisher:function(_804){
curam.util.onLoad.publishers.push(_804);
},addSubscriber:function(_805,_806,_807){
curam.util.onLoad.subscribers.push({"getId":_807?_807:curam.util.onLoad.defaultGetIdFunction,"callback":_806,"iframeId":_805});
},removeSubscriber:function(_808,_809,_80a){
curam.util.onLoad.subscribers=dojo.filter(curam.util.onLoad.subscribers,function(_80b){
return !(_80b.iframeId==_808&&_80b.callback==_809);
});
},execute:function(){
if(window.parent==window){
curam.debug.log("curam.util.onLoad.execute(): "+_800.getProperty("curam.util.onLoad.exit"));
return;
}
var _80c={};
dojo.forEach(curam.util.onLoad.publishers,function(_80d){
_80d(_80c);
});
curam.util.onLoad.publishers=[];
require(["dojo/io/iframe"]);
var _80e=dojo.io.iframe.create(null,null,"about:blank");
dojo.attr(_80e,"id","ie-progress-indicator-helper");
window.parent.dojo.publish(curam.util.onLoad.EVENT,[window.frameElement,_80c]);
}});
curam.util.subscribe(curam.util.onLoad.EVENT,function(_80f,_810){
dojo.forEach(curam.util.onLoad.subscribers,function(_811){
var _812=_811.getId(_80f);
if(_811.iframeId==_812){
_811.callback(_812,_810);
}
});
});
return curam.util.onLoad;
});
},"url:curam/widget/templates/ComboBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n  id=\"widget_${id}\"\r\n  role=\"listbox\"\r\n  ><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\r\n    data-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\r\n    ><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n      ${_buttonInputDisabled}\r\n  /></div\r\n  ><div class='dijitReset dijitValidationContainer'\r\n    ><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n  /></div\r\n  ><div class=\"dijitReset dijitInputField dijitInputContainer\" role=\"listbox\"\r\n    ><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\r\n      data-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\r\n  /></div\r\n></div>\r\n","url:dijit/templates/TooltipDialog.html":"<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\"></div>\n</div>\n","dojo/dnd/Mover":function(){
define("dojo/dnd/Mover",["../main","../Evented","../touch","./common","./autoscroll"],function(dojo,_813,_814){
dojo.declare("dojo.dnd.Mover",[_813],{constructor:function(node,e,host){
this.node=dojo.byId(node);
this.marginBox={l:e.pageX,t:e.pageY};
this.mouseButton=e.button;
var h=(this.host=host),d=node.ownerDocument;
this.events=[dojo.connect(d,_814.move,this,"onFirstMove"),dojo.connect(d,_814.move,this,"onMouseMove"),dojo.connect(d,_814.release,this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent)];
if(h&&h.onMoveStart){
h.onMoveStart(this);
}
},onMouseMove:function(e){
dojo.dnd.autoScroll(e);
var m=this.marginBox;
this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);
dojo.stopEvent(e);
},onMouseUp:function(e){
if(dojo.isWebKit&&dojo.isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){
this.destroy();
}
dojo.stopEvent(e);
},onFirstMove:function(e){
var s=this.node.style,l,t,h=this.host;
switch(s.position){
case "relative":
case "absolute":
l=Math.round(parseFloat(s.left))||0;
t=Math.round(parseFloat(s.top))||0;
break;
default:
s.position="absolute";
var m=dojo.marginBox(this.node);
var b=dojo.doc.body;
var bs=dojo.getComputedStyle(b);
var bm=dojo._getMarginBox(b,bs);
var bc=dojo._getContentBox(b,bs);
l=m.l-(bc.l-bm.l);
t=m.t-(bc.t-bm.t);
break;
}
this.marginBox.l=l-this.marginBox.l;
this.marginBox.t=t-this.marginBox.t;
if(h&&h.onFirstMove){
h.onFirstMove(this,e);
}
dojo.disconnect(this.events.shift());
},destroy:function(){
dojo.forEach(this.events,dojo.disconnect);
var h=this.host;
if(h&&h.onMoveStop){
h.onMoveStop(this);
}
this.events=this.node=this.host=null;
}});
return dojo.dnd.Mover;
});
},"dijit/layout/TabContainer":function(){
define("dijit/layout/TabContainer",["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_815,_816,_817,_818){
return _815("dijit.layout.TabContainer",_816,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_819){
var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_817=lang.getObject(this.controllerWidget);
return new _817({id:this.id+"_tablist",dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_819);
},postMixInProperties:function(){
this.inherited(arguments);
if(!this.controllerWidget){
this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?"dijit.layout.ScrollingTabController":"dijit.layout.TabController";
}
}});
});
},"curam/ui/ClientDataAccessor":function(){
define("curam/ui/ClientDataAccessor",["curam/debug","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _81a=new curam.util.ResourceBundle("Debug");
return dojo.declare("curam.ui.ClientDataAccessor",null,{get:function(path,_81b,_81c,_81d){
var _81e="servlet/PathResolver"+"?p="+path;
if(_81c==undefined){
_81c=dojo.hitch(this,this.handleClientDataAccessorError);
}
if(_81d==undefined){
_81d=dojo.hitch(this,this.handleClientDataAccessorCallback);
}
dojo.xhrPost({url:_81e,headers:{"Content-Encoding":"UTF-8"},handleAs:"text",preventCache:true,load:_81b,error:_81c,handle:_81d});
},getList:function(path,_81f,_820,_821){
var _822="servlet/PathResolver"+"?r=l&p="+path;
if(_820==undefined){
_820=dojo.hitch(this,this.handleClientDataAccessorError);
}
if(_821==undefined){
_821=dojo.hitch(this,this.handleClientDataAccessorCallback);
}
dojo.xhrPost({url:_822,headers:{"Content-Encoding":"UTF-8"},handleAs:"json",preventCache:true,load:_81f,error:_820,handle:_821});
},getRaw:function(path,_823,_824,_825){
var _826="servlet/PathResolver"+"?r=j&p="+path;
if(_824==undefined){
_824=dojo.hitch(this,this.handleClientDataAccessorError);
}
if(_825==undefined){
_825=dojo.hitch(this,this.handleClientDataAccessorCallback);
}
dojo.xhrPost({url:_826,headers:{"Content-Encoding":"UTF-8"},handleAs:"json",preventCache:true,load:_823,error:_824,handle:_825});
},set:function(path,_827,_828,_829,_82a){
var _82b="servlet/PathResolver"+"?r=x&p="+path+"&v="+encodeURIComponent(_827);
if(_829==undefined||_829==null){
_829=dojo.hitch(this,this.handleClientDataAccessorError);
}
if(_82a==undefined||_82a==null){
_82a=dojo.hitch(this,this.handleClientDataAccessorCallback);
}
if(_828==undefined||_828==null){
_828=dojo.hitch(this,this.handleClientDataAccessorSuccess);
}
dojo.xhrPost({url:_82b,headers:{"Content-Encoding":"UTF-8"},handleAs:"text",preventCache:true,load:_828,error:_829,handle:_82a});
},handleClientDataAccessorError:function(_82c,_82d){
var _82e=_81a.getProperty("curam.ui.ClientDataAccessor.err.1")+"PathResolverServlet : ";
var _82f=_81a.getProperty("curam.ui.ClientDataAccessor.err.2");
curam.debug.log(_82e+_82c+_82f+_82d);
},handleClientDataAccessorSuccess:function(_830,_831){
curam.debug.log("curam.ui.ClientDataAccessor.handleClientDataAccessorSuccess : "+_830);
},handleClientDataAccessorCallback:function(_832,_833){
curam.debug.log("curam.ui.ClientDataAccessor.handleClientDataAccessorCallback :"+" "+_81a.getProperty("curam.ui.ClientDataAccessor.callback"));
}});
});
},"dijit/BackgroundIframe":function(){
define("dijit/BackgroundIframe",["require",".","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window"],function(_834,_835,_836,_837,_838,lang,on,has,win){
has.add("bgIframe",has("ie")||has("mozilla"));
var _839=new function(){
var _83a=[];
this.pop=function(){
var _83b;
if(_83a.length){
_83b=_83a.pop();
_83b.style.display="";
}else{
if(has("ie")<9){
var burl=_836["dojoBlankHtmlUrl"]||_834.toUrl("dojo/resources/blank.html")||"javascript:\"\"";
var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";
_83b=win.doc.createElement(html);
}else{
_83b=_837.create("iframe");
_83b.src="javascript:\"\"";
_83b.className="dijitBackgroundIframe";
_83b.setAttribute("role","presentation");
_838.set(_83b,"opacity",0.1);
}
_83b.tabIndex=-1;
}
return _83b;
};
this.push=function(_83c){
_83c.style.display="none";
_83a.push(_83c);
};
}();
_835.BackgroundIframe=function(node){
if(!node.id){
throw new Error("no id");
}
if(has("bgIframe")){
var _83d=(this.iframe=_839.pop());
node.appendChild(_83d);
if(has("ie")<7||has("quirks")){
this.resize(node);
this._conn=on(node,"resize",lang.hitch(this,function(){
this.resize(node);
}));
}else{
_838.set(_83d,{width:"100%",height:"100%"});
}
}
};
lang.extend(_835.BackgroundIframe,{resize:function(node){
if(this.iframe){
_838.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});
}
},destroy:function(){
if(this._conn){
this._conn.remove();
this._conn=null;
}
if(this.iframe){
_839.push(this.iframe);
delete this.iframe;
}
}});
return _835.BackgroundIframe;
});
},"curam/validation":function(){
define("curam/validation",["curam/define","curam/date"],function(){
curam.define.singleton("curam.validation",{FILE_UPLOAD_FLGS:[],fileUploadChecker:null,invalidPathMsg:null,preventKeyPress:function(_83e){
if(dojo.isIE){
_83e.cancelBubble=true;
_83e.returnValue=false;
return false;
}
return true;
},activateFileUploadChecker:function(code){
if(!curam.validation.fileUploadChecker){
curam.validation.fileUploadChecker=function(){
var form=dojo.byId("mainForm");
var _83f=function(evt){
var _840=curam.validation.FILE_UPLOAD_FLGS;
for(var i=0;i<_840.length;i++){
var _841=_840[i];
var _842=cm.nextSibling(dojo.byId(_841),"input");
if(!curam.validation.isValidFilePath(_842.value)){
dojo.stopEvent(evt);
alert(curam.validation.invalidPathMsg+" '"+_842.value+"'");
cm.setFormSubmitted(form,0);
return false;
}
}
return true;
};
dojo.connect(form,"onsubmit",_83f);
};
dojo.addOnLoad(curam.validation.fileUploadChecker);
}
},isValidFilePath:function(path){
return true;
},validateDate:function(_843){
var _844={valid:curam.date.isDate(_843,jsDF),validFormat:jsDF.toLowerCase()};
return _844;
}});
return curam.validation;
});
},"curam/util/ui/ApplicationTabbedUiController":function(){
define("curam/util/ui/ApplicationTabbedUiController",["curam/debug","dojox/layout/ContentPane","curam/tab","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _845=new curam.util.ResourceBundle("Debug");
var _846=dojo.declare("curam.util.ui.ApplicationTabbedUiController",null,{_tabContainer:null,constructor:function(_847){
this._tabContainer=_847;
},findOpenTab:function(_848){
var _849=_848.tabDescriptor;
var _84a=curam.tab.getTabContainer(_849.sectionID);
var _84b=null;
var tabs=undefined;
var _84c=undefined;
if(_84a!=undefined){
tabs=_84a.getChildren();
_84c=_84a.selectedChildWidget;
}
if(_84c){
var _84d=_84c.tabDescriptor;
this._log(_845.getProperty("curam.util.ui.ApplicationTabbedUiController.testing"));
if(_848.uimPageRequest.openInCurrentTab||(_84d.tabID==_849.tabID&&_84d.matchesPageRequest(_848.uimPageRequest))){
this._openInCurrentTab(_848.uimPageRequest);
_84b=_84c;
}
}
if(!_84b&&tabs){
var _84e=true;
this._log(_845.getProperty("curam.util.ui.ApplicationTabbedUiController.searching")+" "+tabs.length+" "+_845.getProperty("curam.util.ui.ApplicationTabbedUiController.tabs"));
for(var i=0;i<tabs.length;i++){
var _84f=tabs[i];
var _850=_84f.tabDescriptor;
if(_850&&_850.tabID==_849.tabID){
if((_84e&&_850.tabSignature==_850.tabID)||_850.matchesPageRequest(_848.uimPageRequest)){
_84b=_84f;
break;
}
_84e=false;
}
}
}
this._log(_845.getProperty("curam.util.ui.ApplicationTabbedUiController.searched")+" '"+_849.tabID+"'. "+_845.getProperty("curam.util.ui.ApplicationTabbedUiController.found")+" "+(_84b?_845.getProperty("curam.util.ui.ApplicationTabbedUiController.a"):_845.getProperty("curam.util.ui.ApplicationTabbedUiController.no"))+" "+_845.getProperty("curam.util.ui.ApplicationTabbedUiController.match"));
return _84b;
},openPageInCurrentTab:function(_851){
var _852=curam.tab.getSelectedTab();
var _853=undefined;
if(_852){
_853=dojo.query(".nav-panel",_852.domNode)[0];
}
if(_853){
var _854;
if(_851.getURL().indexOf("?")==-1){
_854="?";
}else{
_854="&";
}
var loc=curam.config?curam.config.locale:jsL;
var _855=jsBaseURL+"/"+loc+"/"+_851.getURL()+_854+curam.tab.getTabController().getCacheBusterParameter();
if(_851.pageHolder){
_851.pageHolder.location.href=_855;
}else{
var _856=dojo.query(".contentPanelFrame",_853)[0];
_856.src=_855;
}
}
},_openInCurrentTab:function(_857){
var _858=curam.tab.getSelectedTab();
var _859=undefined;
if(_858){
_859=dojo.query(".nav-panel",_858.domNode)[0];
}
if(_859){
var _85a=dojo.query(".contentPanelFrame",_859)[0];
_857.cdejParameters["o3ctx"]="4096";
var loc=curam.config?curam.config.locale:jsL;
var url=loc+"/"+_857.getURL();
if(url.indexOf("?")==-1){
url+="?";
}else{
url+="&";
}
_85a.src=url+curam.tab.getTabController().getCacheBusterParameter();
}
},refreshExistingPageInTab:function(tab){
var _85b=curam.tab.getContentPanelIframe(tab);
_85b.contentWindow.location.reload(true);
},selectTab:function(tab){
this._tabContainer.selectChild(tab);
},createTab:function(_85c){
this._log("createTab(): "+_845.getProperty("curam.util.ui.ApplicationTabbedUiController.start"));
var _85d=_85c.tabDescriptor;
var _85e="";
if(_85d.tabContent&&_85d.tabContent.tabName){
_85e=_85d.tabContent.tabName;
}
var cp=new dojox.layout.ContentPane({tabDescriptor:_85d,uimPageRequest:_85c.uimPageRequest,title:_85e,closable:!_85d.isHomePage,preventCache:true,"class":"tab-content-holder dijitContentPane dijitHidden "+"dijitTabContainerTop-child "+"dijitTabContainerTop-dijitContentPane dijitTabPane",onDownloadStart:function(){
return "&nbsp;";
}});
var _85f=[];
_85c.uimPageRequest.cdejParameters["o3ctx"]="4096";
var _860=dojo.connect(cp,"onDownloadEnd",null,function(){
curam.util.fireTabOpenedEvent(cp.id);
});
_85f.push(_860);
_860=dojo.connect(cp,"destroy",null,function(){
curam.tab.doExecuteOnTabClose(cp.id);
});
_85f.push(_860);
_85f.push(dojo.connect(cp,"destroy",function(){
dojo.forEach(_85f,dojo.disconnect);
}));
_860=dojo.connect(cp,"set",function(name,_861){
if(name=="title"&&arguments.length==2){
curam.debug.log(_845.getProperty("curam.util.ui.ApplicationTabbedUiController.title"));
cp.tabDescriptor.setTabContent(_85c.uimPageRequest,_861);
var _862=curam.tab.getSelectedTab();
if(_862){
var _863=_862.domNode.parentNode;
if(_863){
_863.focus();
}
}
}
});
_85f.push(_860);
_860=dojo.connect(cp,"onClose",function(){
new curam.tab.TabSessionManager().tabClosed(cp.tabDescriptor);
});
_85f.push(_860);
var qs=_85c.uimPageRequest.getQueryString();
var href="TabContent.do"+"?"+curam.tab.getTabController().COMMAND_PARAM_NAME+"=PAGE&"+curam.tab.getTabController().PAGE_ID_PARAM_NAME+"="+_85c.uimPageRequest.pageID+(qs.length>0?"&"+qs:"")+"&o3tabid="+_85d.tabID+"&o3tabWidgetId="+cp.id;
this._log(_845.getProperty("curam.util.ui.ApplicationTabbedUiController.href")+" "+href);
cp.set("href",href);
this._log(_845.getProperty("curam.util.ui.ApplicationTabbedUiController.finished")+" ",cp.tabDescriptor);
return cp;
},insertTabIntoApp:function(_864,_865){
var _866=null;
if(_865){
if(this._tabContainer.hasChildren()){
_866=this._tabContainer.selectedChildWidget;
}
this._tabContainer.addChild(_864,0);
}else{
this._tabContainer.addChild(_864);
}
return _866;
},_log:function(msg,_867){
if(curam.debug.enabled()){
curam.debug.log("curam.util.ui.ApplicationTabbedUiController: "+msg+(_867?" "+dojo.toJson(_867):""));
}
}});
return _846;
});
},"curam/util/Constants":function(){
define("curam/util/Constants",["curam/define"],function(){
curam.define.singleton("curam.util.Constants",{RETURN_PAGE_PARAM:"__o3rpu"});
return curam.util.Constants;
});
},"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","curam/ui/PageRequest":function(){
define("curam/ui/PageRequest",["curam/debug","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _868=new curam.util.ResourceBundle("Debug");
var _869=dojo.declare("curam.ui.PageRequest",null,{forceLoad:false,justRefresh:false,constructor:function(_86a,_86b,_86c){
this.parameters={};
this.cdejParameters={};
this.cdejParameters["o3ctx"]="4096";
if(_86b){
this.isHomePage=true;
}else{
this.isHomePage=false;
}
if(_86c){
this.openInCurrentTab=true;
}else{
this.openInCurrentTab=false;
}
this.pageHolder=null;
var url;
if(dojo.isString(_86a)){
url=_86a;
curam.debug.log("PAGE REQUEST: "+_868.getProperty("curam.ui.PageRequest.url")+" "+url);
}else{
curam.debug.log("PAGE REQUEST: "+_868.getProperty("curam.ui.PageRequest.descriptor")+" "+_86a.toJson());
var tc=_86a.tabContent;
url=tc.pageID+"Page.do";
var _86d=true;
for(param in tc.parameters){
if(_86d){
url+="?";
_86d=false;
}else{
url+="&";
}
url+=param+"="+encodeURIComponent(tc.parameters[param]);
}
curam.debug.log("PAGE REQUEST: "+_868.getProperty("curam.ui.PageRequest.derived")+" "+url);
}
var _86e=url.split("?");
this.parseUIMPageID(_86e[0]);
if(_86e.length==2){
this.parseParameters(_86e[1]);
}
},parseUIMPageID:function(url){
var _86f=url.split("/");
var _870=_86f[_86f.length-1];
this.pageID=_870.replace("Page.do","");
},parseParameterName:function(name){
if(name.charAt(0)=="a"&&name.charAt(1)=="m"&&name.charAt(2)=="p"&&name.charAt(3)==";"){
return name.substring(4,name.length);
}else{
return name;
}
},parseParameters:function(_871){
var _872=_871.split("&");
for(var i=0;i<_872.length;i++){
var _873=_872[i].split("=");
var _874=this.parseParameterName(_873[0]);
if(_874.length>0){
if(!this.isCDEJParam(_874)){
this.parameters[_874]=decodeURIComponent(_873[1].replace(/\+/g," "));
}else{
if(_874!="o3nocache"){
this.cdejParameters[_874]=decodeURIComponent(_873[1].replace(/\+/g," "));
}
}
}
}
},isCDEJParam:function(_875){
return (_875.charAt(0)=="o"&&_875.charAt(1)=="3")||(_875.charAt(0)=="_"&&_875.charAt(1)=="_"&&_875.charAt(2)=="o"&&_875.charAt(3)=="3");
},getQueryString:function(_876){
var _877="";
var _878;
for(_878 in this.parameters){
_877+=_878+"="+encodeURIComponent(this.parameters[_878])+"&";
}
if(!_876==true||_876==false){
for(_878 in this.cdejParameters){
_877+=_878+"="+encodeURIComponent(this.cdejParameters[_878])+"&";
}
}
_877=_877.substring(0,_877.length-1);
this.queryString=_877;
return this.queryString;
},getURL:function(_879){
var _87a=this.pageID+"Page.do";
var qs=this.getQueryString(_879);
if(qs!=""){
_87a+="?"+qs;
}
this.url=_87a;
return this.url;
}});
return _869;
});
},"curam/widget/Select":function(){
define("curam/widget/Select",["dojo/dom-style","dijit/popup","dojo/dom-geometry","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dijit/form/Select"],function(_87b,_87c,_87d,lang,_87e,_87f){
var _880=dojo.declare("curam.widget.Select",dijit.form.Select,{openDropDown:function(){
var _881=this.dropDown,_882=_881.domNode,_883=this._aroundNode||this.domNode,self=this;
if(!this._preparedNode){
this._preparedNode=true;
if(_882.style.width){
this._explicitDDWidth=true;
}
if(_882.style.height){
this._explicitDDHeight=true;
}
}
if(this.maxHeight||this.forceWidth||this.autoWidth){
var _884={display:"",visibility:"hidden"};
if(!this._explicitDDWidth){
_884.width="";
}
if(!this._explicitDDHeight){
_884.height="";
}
_87b.set(_882,_884);
var _885=this.maxHeight;
if(_885==-1){
var _886=winUtils.getBox(),_887=_87d.position(_883,false);
_885=Math.floor(Math.max(_887.y,_886.h-(_887.y+_887.h)));
}
_87c.moveOffScreen(_881);
if(_881.startup&&!_881._started){
_881.startup();
}
var mb=_87d.getMarginSize(_882);
var _888=(_885&&mb.h>_885);
_87b.set(_882,{overflowX:"hidden",overflowY:_888?"auto":"hidden"});
if(_888){
mb.h=_885;
if("w" in mb){
}
}else{
delete mb.h;
}
if(this.forceWidth){
mb.w=_883.offsetWidth;
}else{
if(this.autoWidth){
mb.w=Math.max(mb.w,_883.offsetWidth);
}else{
delete mb.w;
}
}
if(lang.isFunction(_881.resize)){
_881.resize(mb);
}else{
_87d.setMarginBox(_882,mb);
}
}
var _889=_87c.open({parent:this,popup:_881,around:_883,orient:this.dropDownPosition,onExecute:function(){
self.closeDropDown(true);
},onCancel:function(){
self.closeDropDown(true);
},onClose:function(){
_87e.set(self._popupStateNode,"popupActive",false);
_87f.remove(self._popupStateNode,"dijitHasDropDownOpen");
self._opened=false;
}});
_87e.set(this._popupStateNode,"popupActive","true");
_87f.add(self._popupStateNode,"dijitHasDropDownOpen");
this._opened=true;
return _889;
}});
return _880;
});
},"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n","dijit/form/Button":function(){
require({cache:{"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n"}});
define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_88a,_88b,_88c,_88d,lang,_88e,_88f,_890,_891){
if(!_88d.isAsync){
_88e(0,function(){
var _892=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];
_88a(_892);
});
}
return _88b("dijit.form.Button",[_88f,_890],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_891,_setValueAttr:"valueNode",_onClick:function(e){
var ok=this.inherited(arguments);
if(ok){
if(this.valueNode){
this.valueNode.click();
e.preventDefault();
}
}
return ok;
},_fillContent:function(_893){
if(_893&&(!this.params||!("label" in this.params))){
var _894=lang.trim(_893.innerHTML);
if(_894){
this.label=_894;
}
}
},_setShowLabelAttr:function(val){
if(this.containerNode){
_88c.toggle(this.containerNode,"dijitDisplayNone",!val);
}
this._set("showLabel",val);
},setLabel:function(_895){
_88d.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",_895);
},_setLabelAttr:function(_896){
this.inherited(arguments);
if(!this.showLabel&&!("title" in this.params)){
this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");
}
}});
});
},"curam/widget/Menu":function(){
define("curam/widget/Menu",["dijit/Menu","curam/util","curam/debug","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _897=new curam.util.ResourceBundle("Debug");
var Menu=dojo.declare("curam.widget.Menu",dijit.Menu,{_CSS_CLASS_ACTIVE_MENU:"curam-active-menu",_EVENT_OPENED:"/curam/menu/opened",_EVENT_CLOSED:"/curam/menu/closed",_amIActive:false,postCreate:function(){
curam.debug.log(_897.getProperty("curam.widget.Menu.created",[this.id]));
this.connect(this,"onOpen",dojo.hitch(this,function(){
curam.debug.log(_897.getProperty("curam.widget.Menu.opened",[this.id]));
curam.util.getTopmostWindow().dojo.publish(this._EVENT_OPENED,[this.id]);
this._markAsActive(true);
}));
var _898=curam.util.getTopmostWindow().dojo.subscribe(this._EVENT_OPENED,this,function(_899){
curam.debug.log(_897.getProperty("curam.widget.Menu.event",[this.id,this._amIActive?"active":"passive",_899]));
if(this.id!=_899&&this._amIActive){
curam.debug.log(_897.getProperty("curam.widget.Menu.deactivate"));
this._markAsActive(false);
var _89a=curam.util.getTopmostWindow().dojo.subscribe(this._EVENT_CLOSED,this,function(_89b){
if(_89b==_899){
curam.debug.log(_897.getProperty("curam.widget.Menu.reactivate",[_899,this.id]));
dojo.unsubscribe(_89a);
this._markAsActive(true);
}
});
}
});
this.connect(this,"onClose",dojo.hitch(this,function(){
curam.debug.log(_897.getProperty("curam.widget.Menu.closing",[this.id]));
curam.util.getTopmostWindow().dojo.publish(this._EVENT_CLOSED,[this.id]);
this._markAsActive(false);
dojo.unsubscribe(_898);
}));
this.inherited(arguments);
},_markAsActive:function(_89c){
if(_89c){
curam.debug.log(_897.getProperty("curam.widget.Menu.add.class"),this.id);
dojo.addClass(this.domNode,this._CSS_CLASS_ACTIVE_MENU);
}else{
curam.debug.log(_897.getProperty("curam.widget.Menu.remove.class"),this.id);
dojo.removeClass(this.domNode,this._CSS_CLASS_ACTIVE_MENU);
}
this._amIActive=_89c;
}});
return Menu;
});
},"dojo/dnd/move":function(){
define("dojo/dnd/move",["../main","./Mover","./Moveable"],function(dojo){
dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){
},within:false,constructor:function(node,_89d){
if(!_89d){
_89d={};
}
this.constraints=_89d.constraints;
this.within=_89d.within;
},onFirstMove:function(_89e){
var c=this.constraintBox=this.constraints.call(this,_89e);
c.r=c.l+c.w;
c.b=c.t+c.h;
if(this.within){
var mb=dojo._getMarginSize(_89e.node);
c.r-=mb.w;
c.b-=mb.h;
}
},onMove:function(_89f,_8a0){
var c=this.constraintBox,s=_89f.node.style;
this.onMoving(_89f,_8a0);
_8a0.l=_8a0.l<c.l?c.l:c.r<_8a0.l?c.r:_8a0.l;
_8a0.t=_8a0.t<c.t?c.t:c.b<_8a0.t?c.b:_8a0.t;
s.left=_8a0.l+"px";
s.top=_8a0.t+"px";
this.onMoved(_89f,_8a0);
}});
dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},constructor:function(node,_8a1){
var box=_8a1&&_8a1.box;
this.constraints=function(){
return box;
};
}});
dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",constructor:function(node,_8a2){
var area=_8a2&&_8a2.area;
this.constraints=function(){
var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);
if(area=="margin"){
return mb;
}
var t=dojo._getMarginExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
if(area=="border"){
return mb;
}
t=dojo._getBorderExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
if(area=="padding"){
return mb;
}
t=dojo._getPadExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
return mb;
};
}});
dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;
dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;
dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;
return dojo.dnd.move;
});
},"dijit/_WidgetBase":function(){
define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./registry"],function(_8a3,_8a4,_8a5,_8a6,_8a7,_8a8,dom,_8a9,_8aa,_8ab,_8ac,_8ad,_8ae,lang,on,_8af,_8b0,_8b1,win,_8b2){
var _8b3=typeof (dojo.global.perf)!="undefined";
if(!_8ae.isAsync){
_8af(0,function(){
var _8b4=["dijit/_base/manager"];
_8a3(_8b4);
});
}
var _8b5={};
function _8b6(obj){
var ret={};
for(var attr in obj){
ret[attr.toLowerCase()]=true;
}
return ret;
};
function _8b7(attr){
return function(val){
_8a9[val?"set":"remove"](this.domNode,attr,val);
this._set(attr,val);
};
};
return _8a8("dijit._WidgetBase",_8b0,{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_8b7("lang"),dir:"",_setDirAttr:_8b7("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{},_blankGif:_8a6.blankGif||_8a3.toUrl("dojo/resources/blank.gif"),postscript:function(_8b8,_8b9){
this.create(_8b8,_8b9);
},create:function(_8ba,_8bb){
if(_8b3){
perf.widgetStartedLoadingCallback();
}
this.srcNodeRef=dom.byId(_8bb);
this._connects=[];
this._supportingWidgets=[];
if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){
this.id=this.srcNodeRef.id;
}
if(_8ba){
this.params=_8ba;
lang.mixin(this,_8ba);
}
this.postMixInProperties();
if(!this.id){
this.id=_8b2.getUniqueId(this.declaredClass.replace(/\./g,"_"));
}
_8b2.add(this);
this.buildRendering();
if(this.domNode){
this._applyAttributes();
var _8bc=this.srcNodeRef;
if(_8bc&&_8bc.parentNode&&this.domNode!==_8bc){
_8bc.parentNode.replaceChild(this.domNode,_8bc);
}
}
if(this.domNode){
this.domNode.setAttribute("widgetId",this.id);
}
this.postCreate();
if(this.srcNodeRef&&!this.srcNodeRef.parentNode){
delete this.srcNodeRef;
}
this._created=true;
if(_8b3){
perf.widgetLoadedCallback(this);
}
},_applyAttributes:function(){
var ctor=this.constructor,list=ctor._setterAttrs;
if(!list){
list=(ctor._setterAttrs=[]);
for(var attr in this.attributeMap){
list.push(attr);
}
var _8bd=ctor.prototype;
for(var _8be in _8bd){
if(_8be in this.attributeMap){
continue;
}
var _8bf="_set"+_8be.replace(/^[a-z]|-[a-zA-Z]/g,function(c){
return c.charAt(c.length-1).toUpperCase();
})+"Attr";
if(_8bf in _8bd){
list.push(_8be);
}
}
}
_8a4.forEach(list,function(attr){
if(this.params&&attr in this.params){
}else{
if(this[attr]){
this.set(attr,this[attr]);
}
}
},this);
for(var _8c0 in this.params){
this.set(_8c0,this[_8c0]);
}
},postMixInProperties:function(){
},buildRendering:function(){
if(!this.domNode){
this.domNode=this.srcNodeRef||_8ab.create("div");
}
if(this.baseClass){
var _8c1=this.baseClass.split(" ");
if(!this.isLeftToRight()){
_8c1=_8c1.concat(_8a4.map(_8c1,function(name){
return name+"Rtl";
}));
}
_8aa.add(this.domNode,_8c1);
}
},postCreate:function(){
},startup:function(){
if(this._started){
return;
}
this._started=true;
_8a4.forEach(this.getChildren(),function(obj){
if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
});
},destroyRecursive:function(_8c2){
this._beingDestroyed=true;
this.destroyDescendants(_8c2);
this.destroy(_8c2);
},destroy:function(_8c3){
this._beingDestroyed=true;
this.uninitialize();
var c;
while((c=this._connects.pop())){
c.remove();
}
var w;
while((w=this._supportingWidgets.pop())){
if(w.destroyRecursive){
w.destroyRecursive();
}else{
if(w.destroy){
w.destroy();
}
}
}
this.destroyRendering(_8c3);
_8b2.remove(this.id);
this._destroyed=true;
},destroyRendering:function(_8c4){
if(this.bgIframe){
this.bgIframe.destroy(_8c4);
delete this.bgIframe;
}
if(this.domNode){
if(_8c4){
_8a9.remove(this.domNode,"widgetId");
}else{
_8ab.destroy(this.domNode);
}
delete this.domNode;
}
if(this.srcNodeRef){
if(!_8c4){
_8ab.destroy(this.srcNodeRef);
}
delete this.srcNodeRef;
}
},destroyDescendants:function(_8c5){
_8a4.forEach(this.getChildren(),function(_8c6){
if(_8c6.destroyRecursive){
_8c6.destroyRecursive(_8c5);
}
});
},uninitialize:function(){
return false;
},_setStyleAttr:function(_8c7){
var _8c8=this.domNode;
if(lang.isObject(_8c7)){
_8ad.set(_8c8,_8c7);
}else{
if(_8c8.style.cssText){
_8c8.style.cssText+="; "+_8c7;
}else{
_8c8.style.cssText=_8c7;
}
}
this._set("style",_8c7);
},_attrToDom:function(attr,_8c9,_8ca){
_8ca=arguments.length>=3?_8ca:this.attributeMap[attr];
_8a4.forEach(lang.isArray(_8ca)?_8ca:[_8ca],function(_8cb){
var _8cc=this[_8cb.node||_8cb||"domNode"];
var type=_8cb.type||"attribute";
switch(type){
case "attribute":
if(lang.isFunction(_8c9)){
_8c9=lang.hitch(this,_8c9);
}
var _8cd=_8cb.attribute?_8cb.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);
_8a9.set(_8cc,_8cd,_8c9);
break;
case "innerText":
_8cc.innerHTML="";
_8cc.appendChild(win.doc.createTextNode(_8c9));
break;
case "innerHTML":
_8cc.innerHTML=_8c9;
break;
case "class":
_8aa.replace(_8cc,_8c9,this[attr]);
break;
}
},this);
},get:function(name){
var _8ce=this._getAttrNames(name);
return this[_8ce.g]?this[_8ce.g]():this[name];
},set:function(name,_8cf){
if(typeof name==="object"){
for(var x in name){
this.set(x,name[x]);
}
return this;
}
var _8d0=this._getAttrNames(name),_8d1=this[_8d0.s];
if(lang.isFunction(_8d1)){
var _8d2=_8d1.apply(this,Array.prototype.slice.call(arguments,1));
}else{
var _8d3=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_8d3].tagName,_8d4=_8b5[tag]||(_8b5[tag]=_8b6(this[_8d3])),map=name in this.attributeMap?this.attributeMap[name]:_8d0.s in this?this[_8d0.s]:((_8d0.l in _8d4&&typeof _8cf!="function")||/^aria-|^data-|^role$/.test(name))?_8d3:null;
if(map!=null){
this._attrToDom(name,_8cf,map);
}
this._set(name,_8cf);
}
return _8d2||this;
},_attrPairNames:{},_getAttrNames:function(name){
var apn=this._attrPairNames;
if(apn[name]){
return apn[name];
}
var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){
return c.charAt(c.length-1).toUpperCase();
});
return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});
},_set:function(name,_8d5){
var _8d6=this[name];
this[name]=_8d5;
if(this._watchCallbacks&&this._created&&_8d5!==_8d6){
this._watchCallbacks(name,_8d6,_8d5);
}
},on:function(type,func){
return _8a5.after(this,this._onMap(type),func,true);
},_onMap:function(type){
var ctor=this.constructor,map=ctor._onMap;
if(!map){
map=(ctor._onMap={});
for(var attr in ctor.prototype){
if(/^on/.test(attr)){
map[attr.replace(/^on/,"").toLowerCase()]=attr;
}
}
}
return map[type.toLowerCase()];
},toString:function(){
return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";
},getChildren:function(){
return this.containerNode?_8b2.findWidgets(this.containerNode):[];
},getParent:function(){
return _8b2.getEnclosingWidget(this.domNode.parentNode);
},connect:function(obj,_8d7,_8d8){
var _8d9=_8a7.connect(obj,_8d7,this,_8d8);
this._connects.push(_8d9);
return _8d9;
},disconnect:function(_8da){
var i=_8a4.indexOf(this._connects,_8da);
if(i!=-1){
_8da.remove();
this._connects.splice(i,1);
}
},subscribe:function(t,_8db){
var _8dc=_8b1.subscribe(t,lang.hitch(this,_8db));
this._connects.push(_8dc);
return _8dc;
},unsubscribe:function(_8dd){
this.disconnect(_8dd);
},isLeftToRight:function(){
return this.dir?(this.dir=="ltr"):_8ac.isBodyLtr();
},isFocusable:function(){
return this.focus&&(_8ad.get(this.domNode,"display")!="none");
},placeAt:function(_8de,_8df){
if(_8de.declaredClass&&_8de.addChild){
_8de.addChild(this,_8df);
}else{
_8ab.place(this.domNode,_8de,_8df);
}
return this;
},getTextDir:function(text,_8e0){
return _8e0;
},applyTextDir:function(){
},defer:function(fcn,_8e1){
var _8e2=setTimeout(lang.hitch(this,function(){
_8e2=null;
if(!this._destroyed){
lang.hitch(this,fcn)();
}
}),_8e1||0);
return {remove:function(){
if(_8e2){
clearTimeout(_8e2);
_8e2=null;
}
return null;
}};
}});
});
},"dijit/layout/_TabContainerBase":function(){
require({cache:{"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n"}});
define("dijit/layout/_TabContainerBase",["dojo/text!./templates/TabContainer.html","./StackContainer","./utils","../_TemplatedMixin","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(_8e3,_8e4,_8e5,_8e6,_8e7,_8e8,_8e9,_8ea){
return _8e7("dijit.layout._TabContainerBase",[_8e4,_8e6],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_8e3,postMixInProperties:function(){
this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");
this.srcNodeRef&&_8ea.set(this.srcNodeRef,"visibility","hidden");
this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
this.tablist=this._makeController(this.tablistNode);
if(!this.doLayout){
_8e8.add(this.domNode,"dijitTabContainerNoLayout");
}
if(this.nested){
_8e8.add(this.domNode,"dijitTabContainerNested");
_8e8.add(this.tablist.containerNode,"dijitTabContainerTabListNested");
_8e8.add(this.tablistSpacer,"dijitTabContainerSpacerNested");
_8e8.add(this.containerNode,"dijitTabPaneWrapperNested");
}else{
_8e8.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));
}
},_setupChild:function(tab){
_8e8.add(tab.domNode,"dijitTabPane");
this.inherited(arguments);
},startup:function(){
if(this._started){
return;
}
this.tablist.startup();
this.inherited(arguments);
},layout:function(){
if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){
return;
}
var sc=this.selectedChildWidget;
if(this.doLayout){
var _8eb=this.tabPosition.replace(/-h/,"");
this.tablist.layoutAlign=_8eb;
var _8ec=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_8eb},{domNode:this.containerNode,layoutAlign:"client"}];
_8e5.layoutChildren(this.domNode,this._contentBox,_8ec);
this._containerContentBox=_8e5.marginBox2contentBox(this.containerNode,_8ec[2]);
if(sc&&sc.resize){
sc.resize(this._containerContentBox);
}
}else{
if(this.tablist.resize){
var s=this.tablist.domNode.style;
s.width="0";
var _8ed=_8e9.getContentBox(this.domNode).w;
s.width="";
this.tablist.resize({w:_8ed});
}
if(sc&&sc.resize){
sc.resize();
}
}
},destroy:function(){
if(this.tablist){
this.tablist.destroy();
}
this.inherited(arguments);
}});
});
},"curam/util/Refresh":function(){
define("curam/util/Refresh",["curam/define","curam/util","curam/tab","curam/debug","curam/util/ContextPanel","curam/util/ui/refresh/TabRefreshController","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _8ee=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.util.Refresh",{submitted:false,pageSubmitted:"",refreshConfig:[],menuBarCallback:null,navigationCallback:null,refreshedOnTabOpen:{},_controllers:{},_pageRefreshButton:undefined,setMenuBarCallbacks:function(_8ef,_8f0){
if(!curam.util.Refresh.menuBarCallback){
curam.util.Refresh.menuBarCallback={updateMenuItemStates:_8ef,getRefreshParams:_8f0};
}
},setNavigationCallbacks:function(_8f1,_8f2){
if(!curam.util.Refresh.navigationCallback){
curam.util.Refresh.navigationCallback={updateNavItemStates:_8f1,getRefreshParams:_8f2};
}
},refreshMenuAndNavigation:function(_8f3,_8f4,_8f5,_8f6){
curam.debug.log("curam.util.Refresh.refreshMenuAndNavigation: "+"tabWidgetId=%s, refreshMenuBar || refreshNavigation: %s || %s",_8f3,_8f4,_8f5);
if(_8f6&&curam.util.Refresh.refreshedOnTabOpen[_8f3]){
curam.debug.log(_8ee.getProperty("curam.util.Refresh.stop"));
return;
}else{
if(_8f6&&!curam.util.Refresh.refreshedOnTabOpen[_8f3]){
curam.debug.log(_8ee.getProperty("curam.util.Refresh.tab.open"));
curam.util.Refresh.refreshedOnTabOpen[_8f3]=true;
}else{
curam.debug.log(_8ee.getProperty("curam.util.Refresh.detect.refresh"));
curam.debug.log(_8ee.getProperty("curam.util.Refresh.refresh"));
}
}
if(!_8f4&&!_8f5){
curam.debug.log(_8ee.getProperty("curam.util.Refresh.no.refresh"));
curam.util.Refresh.refreshedOnTabOpen[_8f3]=false;
return;
}
var _8f7={update:function(_8f8,_8f9,_8fa){
curam.debug.log(_8ee.getProperty("curam.util.Refresh.dynamic.refresh"),_8f9);
var ncb=curam.util.Refresh.navigationCallback;
curam.debug.log("refreshNavigation? ",_8f5);
if(_8f5&&_8f9.navData&&ncb){
ncb.updateNavItemStates(_8f8,_8f9);
}
var mcb=curam.util.Refresh.menuBarCallback;
curam.debug.log("refreshMenuBar? ",_8f4);
if(_8f4&&_8f9.menuData&&mcb){
mcb.updateMenuItemStates(_8f8,_8f9);
}
},error:function(_8fb,_8fc){
curam.debug.log("========= "+_8ee.getProperty("curam.util.Refresh.dynamic.failure")+" ===========");
curam.debug.log(_8ee.getProperty("curam.util.Refresh.dynamic.error"),_8fb);
curam.debug.log(_8ee.getProperty("curam.util.Refresh.dynamic.args"),_8fc);
curam.debug.log("==================================================");
}};
var _8fd="servlet/JSONServlet?o3c=TAB_DYNAMIC_STATE_QUERY";
var mcb=curam.util.Refresh.menuBarCallback;
if(_8f4&&mcb){
var _8fe=mcb.getRefreshParams(_8f3);
if(_8fe){
_8fd+="&"+_8fe;
}
}
var ncb=curam.util.Refresh.navigationCallback;
if(_8f5&&ncb){
var _8ff=ncb.getRefreshParams(_8f3);
if(_8ff){
_8fd+="&"+_8ff;
}
}
curam.debug.log(_8ee.getProperty("curam.util.Refresh.dynamic.refresh.req"));
dojo.xhrPost({url:_8fd,handleAs:"json",preventCache:true,load:dojo.hitch(_8f7,"update",_8f3),error:dojo.hitch(_8f7,"error")});
},addConfig:function(_900){
var _901=false;
dojo.forEach(curam.util.Refresh.refreshConfig,function(_902){
if(_902.tab==_900.tab){
_902.config=_900.config;
_901=true;
}
});
if(!_901){
curam.util.Refresh.refreshConfig.push(_900);
}
},setupRefreshController:function(_903){
curam.debug.log("curam.util.Refresh.setupRefreshController "+_8ee.getProperty("curam.util.ExpandableLists.load.for"),_903);
var _904=dijit.byId(_903);
var _905=_904.tabDescriptor.tabID;
var _906=dojo.filter(curam.util.Refresh.refreshConfig,function(item){
return item.tab==_905;
});
if(_906.length==1){
var _907=_906[0];
var ctl=new curam.util.ui.refresh.TabRefreshController(_903,_907);
curam.util.Refresh._controllers[_903]=ctl;
ctl.setRefreshHandler(curam.util.Refresh.handleRefreshEvent);
}else{
if(_906.length==0){
curam.debug.log(_8ee.getProperty("curam.util.Refresh.no.dynamic.refresh"),_903);
var ctl=new curam.util.ui.refresh.TabRefreshController(_903,null);
curam.util.Refresh._controllers[_903]=ctl;
}else{
throw "curam.util.Refresh: multiple dynamic refresh "+"configurations found for tab "+_903;
}
}
curam.tab.executeOnTabClose(function(){
curam.util.Refresh._controllers[_903].destroy();
curam.util.Refresh._controllers[_903]=undefined;
},_903);
},getController:function(_908){
var ctl=curam.util.Refresh._controllers[_908];
if(!ctl){
throw "Refresh controller for tab '"+_908+"' not found!";
}
return ctl;
},handleOnloadNestedInlinePage:function(_909,_90a){
curam.debug.log("curam.util.Refresh.handleOnloadNestedInlinePage "+_8ee.getProperty("curam.util.Refresh.iframe",[_909,_90a]));
var _90b=curam.util.getTopmostWindow();
var _90c=undefined;
var _90d=curam.tab.getSelectedTab();
if(_90d){
_90c=curam.tab.getTabWidgetId(_90d);
}
if(_90c){
curam.debug.log(_8ee.getProperty("curam.util.Refresh.parent"),_90c);
_90b.curam.util.Refresh.getController(_90c).pageLoaded(_90a.pageID,curam.util.ui.refresh.RefreshEvent.prototype.SOURCE_CONTEXT_INLINE);
_90b.dojo.publish("/curam/main-content/page/loaded",[_90a.pageID,_90c]);
return true;
}
return false;
},handleRefreshEvent:function(_90e){
var _90f=function(_910){
curam.util.ContextPanel.refresh(dijit.byId(_910));
};
var _911=function(_912){
curam.tab.refreshMainContentPanel(dijit.byId(_912));
};
var _913=function(_914,_915,_916){
curam.util.Refresh.refreshMenuAndNavigation(_914,_915,_916);
};
curam.util.Refresh._doRefresh(_90e,_90f,_911,_913);
},_doRefresh:function(_917,_918,_919,_91a){
var _91b=null;
var _91c=false;
var _91d=false;
var _91e=false;
var _91f=false;
var trc=curam.util.ui.refresh.TabRefreshController.prototype;
dojo.forEach(_917,function(_920){
var _921=_920.lastIndexOf("/");
var _922=_920.slice(0,_921);
if(!_91b){
_91b=_920.slice(_921+1,_920.length);
}
if(_922==trc.EVENT_REFRESH_MENU){
_91c=true;
}
if(_922==trc.EVENT_REFRESH_NAVIGATION){
_91d=true;
}
if(_922==trc.EVENT_REFRESH_CONTEXT){
_91e=true;
}
if(_922==trc.EVENT_REFRESH_MAIN){
_91f=true;
}
});
if(_91e){
_918(_91b);
}
if(_91f){
_919(_91b);
}
_91a(_91b,_91c,_91d);
},setupRefreshButton:function(_923){
dojo.ready(function(){
var _924=dojo.query("."+_923)[0];
if(!_924){
throw "Refresh button not found: "+_923;
}
curam.util.Refresh._pageRefreshButton=_924;
var href=window.location.href;
if(curam.util.isActionPage(href)){
dojo.addClass(_924,"disabled");
curam.util.Refresh._pageRefreshButton._curamDisable=true;
}else{
dojo.addClass(_924,"enabled");
curam.util.Refresh._pageRefreshButton["_curamDisable"]=undefined;
}
curam.util.getTopmostWindow().curam.util.setupPreferencesLink(href);
});
},refreshPage:function(_925){
dojo.stopEvent(_925);
var href=window.location.href;
var _926=curam.util.Refresh._pageRefreshButton._curamDisable;
if(_926){
return;
}
curam.util.FORCE_REFRESH=true;
curam.util.redirectWindow(href,true);
}});
return curam.util.Refresh;
});
},"curam/util/ContextPanel":function(){
define("curam/util/ContextPanel",["curam/util","curam/tab","curam/debug","curam/define","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _927=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.util.ContextPanel",{CONTENT_URL_ATTRIB:"data-content-url",setupLoadEventPublisher:function(_928,_929,_92a){
curam.util.ContextPanel._doSetup(_928,_929,_92a,function(_92b){
return dijit.byId(_92b);
});
},_doSetup:function(_92c,_92d,_92e,_92f){
var _930=curam.util.getTopmostWindow().dojo.subscribe(_92c,function(){
var tab=_92f(_92d);
var _931=curam.util.ContextPanel._getIframe(tab);
curam.debug.log(_927.getProperty("curam.util.ContextPanel.loaded"));
curam.util.getTopmostWindow().dojo.publish("/curam/frame/detailsPanelLoaded",[{loaded:true},_92d]);
_931._finishedLoading=true;
if(_931._scheduledRefresh){
curam.util.ContextPanel.refresh(tab);
_931._scheduledRefresh=false;
}
});
curam.util.onLoad.addSubscriber(_92e,curam.util.ContextPanel.addTitle);
curam.tab.unsubscribeOnTabClose(_930,_92d);
curam.tab.executeOnTabClose(function(){
curam.util.onLoad.removeSubscriber(_92e,curam.util.ContextPanel.addTitle);
},_92d);
},refresh:function(tab){
var _932=curam.util.ContextPanel._getIframe(tab);
if(_932){
curam.debug.log(_927.getProperty("curam.util.ContextPanel.refresh.prep"));
if(_932._finishedLoading){
curam.debug.log(_927.getProperty("curam.util.ContextPanel.refresh"));
_932._finishedLoading=false;
var doc=_932.contentDocument||_932.contentWindow.document;
doc.location.reload(true);
}else{
curam.debug.log(_927.getProperty("curam.util.ContextPanel.refresh.delay"));
_932._scheduledRefresh=true;
}
}
},_getIframe:function(tab){
var _933=dojo.query("iframe.detailsPanelFrame",tab.domNode);
return _933[0];
},addTitle:function(_934){
var _935=dojo.query("."+_934)[0];
var _936=_935.contentWindow.document.title;
_935.setAttribute("title",CONTEXT_PANEL_TITLE+" - "+_936);
},load:function(tab){
var _937=curam.util.ContextPanel._getIframe(tab);
if(_937){
var _938=dojo.attr(_937,curam.util.ContextPanel.CONTENT_URL_ATTRIB);
if(_938&&_938!="undefined"){
_937[curam.util.ContextPanel.CONTENT_URL_ATTRIB]=undefined;
dojo.attr(_937,"src",_938);
}
}
}});
var _939=curam.util.getTopmostWindow();
if(typeof _939._curamContextPanelTabReadyListenerRegistered!="boolean"){
_939.dojo.subscribe("/curam/application/tab/ready",null,function(_93a){
curam.util.ContextPanel.load(_93a);
});
_939._curamContextPanelTabReadyListenerRegistered=true;
}
return curam.util.ContextPanel;
});
},"curam/util":function(){
define("curam/util",["dojo/dom","dijit/registry","dojo/dom-construct","dojo/ready","dojo/_base/window","dojo/dom-style","dojo/_base/array","dojo/dom-class","dojo/topic","dojo/_base/event","dojo/query","dojo/has","dojo/_base/unload","dojo/dom-geometry","dojo/_base/json","dojo/dom-attr","dojo/_base/lang","dojo/on","curam/define","curam/debug","curam/util/RuntimeContext","curam/util/Constants","dojo/_base/sniff","cm/_base/_dom","curam/util/ResourceBundle"],function(dom,_93b,_93c,_93d,_93e,_93f,_940,_941,_942,_943,_944,has,_945,geom,json,attr,lang,on){
dojo.requireLocalization("curam.application","Debug");
var _946=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.util",{PREVENT_CACHE_FLAG:"o3pc",INFORMATIONAL_MSGS_STORAGE_ID:"__informationals__",ERROR_MESSAGES_CONTAINER:"error-messages-container",ERROR_MESSAGES_LIST:"error-messages",CACHE_BUSTER:0,CACHE_BUSTER_PARAM_NAME:"o3nocache",msgLocaleSelectorActionPage:"$not-locaized$ Usage of the Language Selector is not permitted from an editable page that has previously been submitted.",insertCssText:function(_947,_948){
var id=_948?_948:"_runtime_stylesheet_";
var _949=dom.byId(id);
var _94a;
if(_949){
if(_949.styleSheet){
_947=_949.styleSheet.cssText+_947;
_94a=_949;
_94a.setAttribute("id","_nodeToRm");
}else{
_949.appendChild(document.createTextNode(_947));
return;
}
}
var pa=document.getElementsByTagName("head")[0];
_949=_93c.create("style",{type:"text/css",id:id});
if(_949.styleSheet){
_949.styleSheet.cssText=_947;
}else{
_949.appendChild(document.createTextNode(_947));
}
pa.appendChild(_949);
if(_94a){
_94a.parentNode.removeChild(_94a);
}
},fireRefreshTreeEvent:function(){
if(dojo.global.parent&&dojo.global.parent.amIFrame){
var wpl=dojo.global.parent.loader;
}
if(wpl&&wpl.dojo){
wpl.dojo.publish("refreshTree");
}
},firePageSubmittedEvent:function(_94b){
require(["curam/tab"],function(){
var _94c=curam.tab.getSelectedTab();
if(_94c){
var _94d=curam.tab.getTabWidgetId(_94c);
var _94e=curam.util.getTopmostWindow();
var ctx=(_94b=="dialog")?curam.util.ui.refresh.RefreshEvent.prototype.SOURCE_CONTEXT_DIALOG:curam.util.ui.refresh.RefreshEvent.prototype.SOURCE_CONTEXT_MAIN;
_94e.curam.util.Refresh.getController(_94d).pageSubmitted(dojo.global.jsPageID,ctx);
_94e.dojo.publish("/curam/main-content/page/submitted",[dojo.global.jsPageID,_94d]);
}else{
curam.debug.log("/curam/main-content/page/submitted: "+_946.getProperty("curam.util.no.open"));
}
});
},fireTabOpenedEvent:function(_94f){
curam.util.getTopmostWindow().dojo.publish("curam.tabOpened",[dojo.global.jsPageID,_94f]);
},setupSubmitEventPublisher:function(){
_93d(function(){
var form=dom.byId("mainForm");
if(form){
curam.util.connect(form,"onsubmit",function(){
curam.util.firePageSubmittedEvent("main-content");
});
}
});
},getScrollbar:function(){
var _950=_93c.create("div",{},_93e.body());
_93f.set(_950,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-300px",left:"0px"});
var test=_93c.create("div",{},_950);
_93f.set(test,{width:"400px",height:"400px"});
var _951=_950.offsetWidth-_950.clientWidth;
_93c.destroy(_950);
return {width:_951};
},isModalWindow:function(){
return (dojo.global.curamModal===undefined)?false:true;
},getTopmostWindow:function(){
if(typeof (dojo.global._curamTopmostWindow)=="undefined"){
var _952=dojo.global;
if(typeof (dojo.global.jsScreenContext)!="undefined"&&dojo.global.jsScreenContext.hasContextBits("CONTEXT_PORTLET")){
dojo.global._curamTopmostWindow=_952;
}else{
if(_952.__extAppTopWin){
dojo.global._curamTopmostWindow=_952;
}else{
while(_952.parent!=_952){
_952=_952.parent;
if(_952.__extAppTopWin){
break;
}
}
dojo.global._curamTopmostWindow=_952;
}
}
}
if(dojo.global._curamTopmostWindow.location.href.indexOf("AppController.do")<0&&typeof (dojo.global._curamTopmostWindow.__extAppTopWin)=="undefined"){
curam.debug.log(_946.getProperty("curam.util.wrong.window")+dojo.global._curamTopmostWindow.location.href);
}
return dojo.global._curamTopmostWindow;
},getUrlParamValue:function(url,_953){
var qPos=url.indexOf("?");
if(qPos<0){
return null;
}
var _954=url.substring(qPos+1,url.length);
function _955(_956){
var _957=_954.split(_956);
_953+="=";
for(var i=0;i<_957.length;i++){
if(_957[i].indexOf(_953)==0){
return _957[i].split("=")[1];
}
}
};
return _955("&")||_955("");
},addUrlParam:function(href,_958,_959,_95a){
var hasQ=href.indexOf("?")>-1;
var _95b=_95a?_95a:"undefined";
if(!hasQ||(_95b==false)){
return href+(hasQ?"&":"?")+_958+"="+_959;
}else{
var _95c=href.split("?");
href=_95c[0]+"?"+_958+"="+_959+(_95c[1]!=""?("&"+_95c[1]):"");
return href;
}
},replaceUrlParam:function(href,_95d,_95e){
href=curam.util.removeUrlParam(href,_95d);
return curam.util.addUrlParam(href,_95d,_95e);
},removeUrlParam:function(url,_95f,_960){
var qPos=url.indexOf("?");
if(qPos<0){
return url;
}
if(url.indexOf(_95f+"=")<0){
return url;
}
var _961=url.substring(qPos+1,url.length);
var _962=_961.split("&");
var _963;
var _964,_965;
for(var i=0;i<_962.length;i++){
if(_962[i].indexOf(_95f+"=")==0){
_965=false;
if(_960){
_964=_962[i].split("=");
if(_964.length>1){
if(_964[1]==_960){
_965=true;
}
}else{
if(_960==""){
_965=true;
}
}
}else{
_965=true;
}
if(_965){
_962.splice(i,1);
i--;
}
}
}
return url.substring(0,qPos+1)+_962.join("&");
},stripHash:function(url){
var idx=url.indexOf("#");
if(idx<0){
return url;
}
return url.substring(0,url);
},isSameUrl:function(_966,_967,rtc){
if(!_967){
_967=rtc.getHref();
}
if(_966.indexOf("#")==0){
return true;
}
var _968=_966.indexOf("#");
if(_968>-1){
if(_968==0){
return true;
}
var _969=_966.split("#");
var _96a=_967.indexOf("#");
if(_96a>-1){
if(_96a==0){
return true;
}
_967=_967.split("#")[0];
}
return _969[0]==_967;
}
var _96b=function(url){
var idx=url.lastIndexOf("Page.do");
var len=7;
if(idx<0){
idx=url.lastIndexOf("Action.do");
len=9;
}
if(idx<0){
idx=url.lastIndexOf("Frame.do");
len=8;
}
if(idx>-1&&idx==url.length-len){
return url.substring(0,idx);
}
return url;
};
var rp=curam.util.removeUrlParam;
var here=curam.util.stripHash(rp(_967,curam.util.Constants.RETURN_PAGE_PARAM));
var _96c=curam.util.stripHash(rp(_966,curam.util.Constants.RETURN_PAGE_PARAM));
var _96d=_96c.split("?");
var _96e=here.split("?");
_96e[0]=_96b(_96e[0]);
_96d[0]=_96b(_96d[0]);
var _96f=(_96e[0]==_96d[0]||_96e[0].match(_96d[0]+"$")==_96d[0]);
if(!_96f){
return false;
}
if(_96e.length==1&&_96d.length==1&&_96f){
return true;
}else{
var _970;
var _971;
if(typeof _96e[1]!="undefined"&&_96e[1]!=""){
_970=_96e[1].split("&");
}else{
_970=new Array();
}
if(typeof _96d[1]!="undefined"&&_96d[1]!=""){
_971=_96d[1].split("&");
}else{
_971=new Array();
}
curam.debug.log("curam.util.isSameUrl: paramsHere "+_946.getProperty("curam.util.before")+_970.length);
_970=_940.filter(_970,curam.util.isNotCDEJParam);
curam.debug.log("curam.util.isSameUrl: paramsHere "+_946.getProperty("curam.util.after")+_970.length);
curam.debug.log("curam.util.isSameUrl: paramsHere "+_946.getProperty("curam.util.before")+_971.length);
_971=_940.filter(_971,curam.util.isNotCDEJParam);
curam.debug.log("curam.util.isSameUrl: paramsHere "+_946.getProperty("curam.util.after")+_971.length);
if(_970.length!=_971.length){
return false;
}
var _972={};
var _973;
for(var i=0;i<_970.length;i++){
_973=_970[i].split("=");
_972[_973[0]]=_973[1];
}
for(var i=0;i<_971.length;i++){
_973=_971[i].split("=");
if(_972[_973[0]]!=_973[1]){
curam.debug.log(_946.getProperty("curam.util.no.match",[_973[0],_973[1],_972[_973[0]]]));
return false;
}
}
}
return true;
},isNotCDEJParam:function(_974){
return !((_974.charAt(0)=="o"&&_974.charAt(1)=="3")||(_974.charAt(0)=="_"&&_974.charAt(1)=="_"&&_974.charAt(2)=="o"&&_974.charAt(3)=="3"));
},setAttributes:function(node,map){
for(var x in map){
node.setAttribute(x,map[x]);
}
},invalidatePage:function(){
curam.PAGE_INVALIDATED=true;
var _975=dojo.global.dialogArguments?dojo.global.dialogArguments[0]:opener;
if(_975&&_975!=dojo.global){
try{
_975.curam.util.invalidatePage();
}
catch(e){
curam.debug.log(_946.getProperty("curam.util.error"),e);
}
}
},redirectWindow:function(href,_976,_977){
var rtc=new curam.util.RuntimeContext(dojo.global);
var _978=function(_979,_97a,href,_97b,_97c){
curam.util.getFrameRoot(_979,_97a).curam.util.redirectContentPanel(href,_97b,_97c);
};
curam.util._doRedirectWindow(href,_976,_977,dojo.global.jsScreenContext,rtc,curam.util.publishRefreshEvent,_978);
},_doRedirectWindow:function(href,_97d,_97e,_97f,rtc,_980,_981){
if(href&&curam.util.isActionPage(href)){
curam.debug.log(_946.getProperty("curam.util.stopping"),href);
return;
}
var rpl=curam.util.replaceUrlParam;
var _982=_97f.hasContextBits("TREE")||_97f.hasContextBits("AGENDA")||_97f.hasContextBits("ORG_TREE");
if(curam.util.FORCE_REFRESH){
href=rpl(rtc.getHref(),curam.util.PREVENT_CACHE_FLAG,(new Date()).getTime());
if(curam.util.isModalWindow()||_982){
_980();
dojo.global.location.href=href;
}else{
if(_97f.hasContextBits("LIST_ROW_INLINE_PAGE")||_97f.hasContextBits("NESTED_UIM")){
curam.util._handleInlinePageRefresh(href);
}else{
_980();
if(dojo.global.location!==curam.util.getTopmostWindow().location){
require(["curam/tab"],function(){
_981(dojo.global,curam.tab.getTabController().ROOT_OBJ,href,true,true);
});
}
}
}
return;
}
var u=curam.util;
var rtc=new curam.util.RuntimeContext(dojo.global);
if(!_982&&!_97d&&!curam.PAGE_INVALIDATED&&u.isSameUrl(href,null,rtc)){
return;
}
if(curam.util.isModalWindow()||_982){
href=rpl(rpl(href,"o3frame","modal"),curam.util.PREVENT_CACHE_FLAG,(new Date()).getTime());
var form=_93c.create("form",{action:href,method:"POST"});
if(!_982){
if(!dom.byId("o3ctx")){
form.action=curam.util.removeUrlParam(form.action,"o3ctx");
var _983=_93c.create("input",{type:"hidden",id:"o3ctx",name:"o3ctx",value:_97f.getValue()},form);
}
_93e.body().appendChild(form);
_980();
form.submit();
}
if(!_97e){
if(_982){
curam.util.redirectFrame(href);
}
}
}else{
if(_97f.hasContextBits("LIST_ROW_INLINE_PAGE")||_97f.hasContextBits("NESTED_UIM")){
curam.util._handleInlinePageRefresh(href);
}else{
_980();
if(dojo.global.location!==curam.util.getTopmostWindow().location){
if(_97f.hasContextBits("EXTAPP")){
var _984=window.top;
_984.dijit.byId("curam-app").updateMainContentIframe(href);
}else{
require(["curam/tab"],function(){
curam.util.getFrameRoot(dojo.global,curam.tab.getTabController().ROOT_OBJ).curam.util.redirectContentPanel(href,_97d);
});
}
}
}
}
},_handleInlinePageRefresh:function(href){
curam.debug.log(_946.getProperty("curam.util.closing.modal"),href);
var _985=new curam.ui.PageRequest(href);
require(["curam/tab"],function(){
curam.tab.getTabController().checkPage(_985,function(_986){
curam.util.publishRefreshEvent();
dojo.global.location.reload(true);
});
});
},redirectContentPanel:function(url,_987,_988){
require(["curam/tab"],function(){
var _989=curam.tab.getContentPanelIframe();
var _98a=url;
if(_989!=null){
var rpu=curam.util.Constants.RETURN_PAGE_PARAM;
var _98b=null;
if(url.indexOf(rpu+"=")>=0){
curam.debug.log("curam.util.redirectContentPanel: "+_946.getProperty("curam.util.rpu"));
_98b=decodeURIComponent(curam.util.getUrlParamValue(url,rpu));
}
if(_98b){
_98b=curam.util.removeUrlParam(_98b,rpu);
_98a=curam.util.replaceUrlParam(url,rpu,encodeURIComponent(_98b));
}
}
var _98c=new curam.ui.PageRequest(_98a);
if(_987){
_98c.forceLoad=true;
}
if(_988){
_98c.justRefresh=true;
}
curam.tab.getTabController().handlePageRequest(_98c);
});
},redirectFrame:function(href){
if(dojo.global.jsScreenContext.hasContextBits("AGENDA")){
var _98d=curam.util.getFrameRoot(dojo.global,"wizard").targetframe;
_98d.curam.util.publishRefreshEvent();
_98d.location.href=href;
}else{
if(dojo.global.jsScreenContext.hasContextBits("ORG_TREE")){
var _98d=curam.util.getFrameRoot(dojo.global,"orgTreeRoot");
_98d.curam.util.publishRefreshEvent();
_98d.dojo.publish("orgTree.refreshContent",[href]);
}else{
var _98e=curam.util.getFrameRoot(dojo.global,"iegtree");
var _98f=_98e.navframe||_98e.frames[0];
var _990=_98e.contentframe||_98e.frames["contentframe"];
_990.curam.util.publishRefreshEvent();
if(curam.PAGE_INVALIDATED||_98f.curam.PAGE_INVALIDATED){
var _991=curam.util.modifyUrlContext(href,"ACTION");
_990.location.href=_991;
}else{
_990.location.href=href;
}
}
}
return true;
},publishRefreshEvent:function(){
_942.publish("/curam/page/refresh");
},openGenericErrorModalDialog:function(_992,_993,_994,_995,_996){
var url;
var _997;
var sc=new curam.util.ScreenContext("MODAL");
var _998="titlePropertyName="+_993+"&";
var _999="messagePropertyName="+_994+"&";
var _99a="errorModal="+_996+"&";
if(_995){
_997="messagePlaceholder1="+_995+"&";
url="generic-modal-error.jspx?"+_998+_999+_997+_99a+sc.toRequestString();
}else{
url="generic-modal-error.jspx?"+_998+_999+sc.toRequestString();
}
curam.util.openModalDialog({href:url},_992);
},openModalDialog:function(_99b,_99c,left,top,_99d){
var href;
if(!_99b||!_99b.href){
_99b=_943.fix(_99b);
var _99e=_99b.target;
while(_99e.tagName!="A"&&_99e!=_93e.body()){
_99e=_99e.parentNode;
}
href=_99e.href;
_99e._isModal=true;
_943.stop(_99b);
}else{
href=_99b.href;
_99b._isModal=true;
}
require(["curam/dialog"]);
var opts=curam.dialog.parseWindowOptions(_99c);
curam.util.showModalDialog(href,_99b,opts["width"],opts["height"],left,top,false,null,null,_99d);
return false;
},showModalDialog:function(url,_99f,_9a0,_9a1,left,top,_9a2,_9a3,_9a4,_9a5){
var _9a6=curam.util.getTopmostWindow();
if(dojo.global!=_9a6){
curam.debug.log("curam.util.showModalDialog: "+_946.getProperty("curam.util.redirecting.modal"));
_9a6.curam.util.showModalDialog(url,_99f,_9a0,_9a1,left,top,_9a2,_9a3,dojo.global,_9a5);
return;
}
var rup=curam.util.replaceUrlParam;
url=rup(url,"o3frame","modal");
url=curam.util.modifyUrlContext(url,"MODAL","TAB|LIST_ROW_INLINE_PAGE|LIST_EVEN_ROW|NESTED_UIM");
url=rup(url,curam.util.PREVENT_CACHE_FLAG,(new Date()).getTime());
curam.debug.log(_946.getProperty("curam.util.modal.url"),url);
if(_9a0){
_9a0=typeof (_9a0)=="number"?_9a0:parseInt(_9a0);
}
if(_9a1){
_9a1=typeof (_9a1)=="number"?_9a1:parseInt(_9a1);
}
if(!curam.util._isModalCurrentlyOpening()){
curam.util._setModalCurrentlyOpening(true);
require(["curam/ModalDialog"]);
new curam.ModalDialog({href:url,width:_9a0,height:_9a1,openNode:(_99f&&_99f.target)?_99f.target:null,parentWindow:_9a4,uimToken:_9a5});
}
},_isModalCurrentlyOpening:function(){
return curam.util.getTopmostWindow().curam.util._modalOpenInProgress;
},_setModalCurrentlyOpening:function(_9a7){
curam.util.getTopmostWindow().curam.util._modalOpenInProgress=_9a7;
},setupPreferencesLink:function(href){
_93d(function(){
var _9a8=_944(".user-preferences")[0];
if(_9a8){
if(typeof (_9a8._disconnectToken)=="undefined"){
_9a8._disconnectToken=curam.util.connect(_9a8,"onclick",curam.util.openPreferences);
}
if(!href){
href=dojo.global.location.href;
}
if(curam.util.isActionPage(href)){
_941.replace(_9a8,"disabled","enabled");
_9a8._curamDisable=true;
}else{
_941.replace(_9a8,"enabled","disabled");
_9a8._curamDisable=false;
}
}else{
curam.debug.log(_946.getProperty("curam.util.no.setup"));
}
});
},openPreferences:function(_9a9){
_943.stop(_9a9);
if(_9a9.target._curamDisable){
return;
}
require(["curam/tab"],function(){
curam.tab.getTabController().handleLinkClick("user-prefs-editor.jspx",{dialogOptions:"width=450"});
});
},openAbout:function(_9aa){
_943.stop(_9aa);
require(["curam/tab"],function(){
curam.tab.getTabController().handleLinkClick("about.jsp",{dialogOptions:"width=645,height=480"});
});
},addMinWidthCalendarCluster:function(id){
var _9ab=dom.byId(id);
var i=0;
function _9ac(evt){
_940.forEach(_9ab.childNodes,function(node){
if(_941.contains(node,"cluster")){
_93f.set(node,"width","97%");
if(node.clientWidth<700){
_93f.set(node,"width","700px");
}
}
});
};
if(has("ie")>6){
_940.forEach(_9ab.childNodes,function(node){
if(_941.contains(node,"cluster")){
_93f.set(node,"minWidth","700px");
}
});
}else{
on(dojo.global,"resize",_9ac);
_93d(_9ac);
}
},addPopupFieldListener:function(id){
if(!has("ie")||has("ie")>6){
return;
}
if(!curam.util._popupFields){
function _9ad(evt){
var _9ae=0;
var j=0;
var x=0;
var arr=curam.util._popupFields;
_940.forEach(curam.util._popupFields,function(id){
var _9af=dom.byId(id);
_944("> .popup-actions",_9af).forEach(function(node){
_9ae=node.clientWidth+30;
});
_944("> .desc",_9af).forEach(function(node){
_93f.set(node,"width",Math.max(0,_9af.clientWidth-_9ae)+"px");
});
});
};
curam.util._popupFields=[id];
on(dojo.global,"resize",_9ad);
_93d(_9ad);
}else{
curam.util._popupFields.push(id);
}
},addContentWidthListener:function(id){
if(has("ie")>6){
return;
}
var _9b0=_93f.set;
var _9b1=_941.contains;
function _9b2(evt){
var i=0;
var _9b3=dom.byId("content");
if(_9b3){
var _9b4=_9b3.clientWidth;
if(has("ie")==6&&dom.byId("footer")){
var _9b5=_93e.body().clientHeight-100;
_9b0(_9b3,"height",_9b5+"px");
var _9b6=dom.byId("sidebar");
if(_9b6){
_9b0(_9b6,"height",_9b5+"px");
}
}
try{
_944("> .page-title-bar",_9b3).forEach(function(node){
var _9b7=geom.getMarginSize(node).w-geom.getContentBox(node).w;
if(!has("ie")){
_9b7+=1;
}
_9b4=_9b3.clientWidth-_9b7;
_93f.set(node,"width",_9b4+"px");
});
}
catch(e){
}
_944("> .page-description",_9b3).style("width",_9b4+"px");
_944("> .in-page-navigation",_9b3).style("width",_9b4+"px");
}
};
curam.util.subscribe("/clusterToggle",_9b2);
curam.util.connect(dojo.global,"onresize",_9b2);
_93d(_9b2);
},alterScrollableListBottomBorder:function(id,_9b8){
var _9b9=_9b8;
var _9ba="#"+id+" table";
function _9bb(){
var _9bc=_944(_9ba)[0];
if(_9bc.offsetHeight>=_9b9){
var _9bd=_944(".odd-last-row",_9bc)[0];
if(typeof _9bd!="undefined"){
_941.add(_9bd,"no-bottom-border");
}
}else{
if(_9bc.offsetHeight<_9b9){
var _9bd=_944(".even-last-row",_9bc)[0];
if(typeof _9bd!="undefined"){
_941.add(_9bd,"add-bottom-border");
}
}else{
curam.debug.log("curam.util.alterScrollableListBottomBorder: "+_946.getProperty("curam.util.code"));
}
}
};
_93d(_9bb);
},addFileUploadResizeListener:function(code){
function _9be(evt){
if(_944(".widget")){
_944(".widget").forEach(function(_9bf){
var _9c0=_9bf.clientWidth;
if(_944(".fileUpload",_9bf)){
_944(".fileUpload",_9bf).forEach(function(_9c1){
fileUploadWidth=_9c0/30;
if(fileUploadWidth<4){
_9c1.size=1;
}else{
_9c1.size=fileUploadWidth;
}
});
}
});
}
};
on(dojo.global,"resize",_9be);
_93d(_9be);
},openCenteredNonModalWindow:function(url,_9c2,_9c3,name){
_9c2=Number(_9c2);
_9c3=Number(_9c3);
var _9c4=(screen.width-_9c2)/2;
var _9c5=(screen.height-_9c3)/2;
_9c3=_9c5<0?screen.height:_9c3;
_9c5=Math.max(0,_9c5);
_9c2=_9c4<0?screen.width:_9c2;
_9c4=Math.max(0,_9c4);
var left="left",top="top";
if(has("ff")){
left="screenX",top="screenY";
}
var _9c6="location=no, menubar=no, status=no, toolbar=no, "+"scrollbars=yes, resizable=no";
var _9c7=dojo.global.open(url,name||"name","width="+_9c2+", height="+_9c3+", "+left+"="+_9c4+","+top+"="+_9c5+","+_9c6);
_9c7.resizeTo(_9c2,_9c3);
_9c7.moveTo(_9c4,_9c5);
_9c7.focus();
},adjustTargetContext:function(win,href){
if(win&&win.dojo.global.jsScreenContext){
var _9c8=win.dojo.global.jsScreenContext;
_9c8.updateStates(dojo.global.jsScreenContext);
return curam.util.replaceUrlParam(href,"o3ctx",_9c8.getValue());
}
return href;
},modifyUrlContext:function(url,_9c9,_9ca){
var _9cb=url;
var ctx=new curam.util.ScreenContext();
var _9cc=curam.util.getUrlParamValue(url,"o3ctx");
if(_9cc){
ctx.setContext(_9cc);
}else{
ctx.clear();
}
if(_9c9){
ctx.addContextBits(_9c9);
}
if(_9ca){
ctx.clear(_9ca);
}
_9cb=curam.util.replaceUrlParam(url,"o3ctx",ctx.getValue());
return _9cb;
},updateCtx:function(_9cd){
var _9ce=curam.util.getUrlParamValue(_9cd,"o3ctx");
if(!_9ce){
return _9cd;
}
return curam.util.modifyUrlContext(_9cd,null,"MODAL");
},getFrameRoot:function(_9cf,_9d0){
var _9d1=false;
var _9d2=_9cf;
if(_9d2){
while(_9d2!=top&&!_9d2.rootObject){
_9d2=_9d2.parent;
}
if(_9d2.rootObject){
_9d1=(_9d2.rootObject==_9d0);
}
}
return _9d1?_9d2:null;
},saveInformationalMsgs:function(_9d3){
curam.util.runStorageFn(function(){
try{
var _9d4=curam.util.getTopmostWindow().dojox;
_9d4.storage.put(curam.util.INFORMATIONAL_MSGS_STORAGE_ID,json.toJson({pageID:_93e.body().id,total:dom.byId(curam.util.ERROR_MESSAGES_CONTAINER).innerHTML,listItems:dom.byId(curam.util.ERROR_MESSAGES_LIST).innerHTML}));
}
catch(e){
curam.debug.log(_946.getProperty("curam.util.exception"),e);
}
},_9d3);
},runStorageFn:function(fn,_9d5){
var _9d6=function(){
fn();
if(_9d5){
setTimeout(_9d5,10);
}
};
var _9d7=curam.util.getTopmostWindow().dojox;
require(["dojox/storage"],function(){
var mgr=_9d7.storage.manager;
if(mgr.isInitialized()){
_9d6();
}else{
if(mgr.addOnLoad){
mgr.addOnLoad(_9d6);
}else{
var _9d8={exp:_9d6};
on(mgr,"loaded",_9d8,"exp");
}
}
});
},disableInformationalLoad:function(){
curam.util._informationalsDisabled=true;
},redirectDirectUrl:function(){
_93d(function(){
if(dojo.global.parent==dojo.global){
var url=document.location.href;
var idx=url.lastIndexOf("/");
if(idx>-1){
if(idx<=url.length){
url=url.substring(idx+1);
}
}
dojo.global.location=jsBaseURL+"/AppController.do?o3gtu="+encodeURIComponent(url);
}
});
},loadInformationalMsgs:function(){
_93d(function(){
if(dojo.global.jsScreenContext.hasContextBits("CONTEXT_PANEL")){
return;
}
if(curam.util._informationalsDisabled){
return;
}
curam.util.runStorageFn(function(){
var _9d9=curam.util.getTopmostWindow().dojox;
var msgs=_9d9.storage.get(curam.util.INFORMATIONAL_MSGS_STORAGE_ID);
if(msgs&&msgs!=""){
msgs=json.fromJson(msgs);
_9d9.storage.put(curam.util.INFORMATIONAL_MSGS_STORAGE_ID,"");
var div=dom.byId(curam.util.ERROR_MESSAGES_CONTAINER);
var list=dom.byId(curam.util.ERROR_MESSAGES_LIST);
if(msgs.pageID!=_93e.body().id){
return;
}
if(list){
var _9da=_93c.create("ul",{innerHTML:msgs.listItems});
var _9db=[];
for(var i=0;i<list.childNodes.length;i++){
if(list.childNodes[i].tagName=="LI"){
_9db.push(list.childNodes[i]);
}
}
var skip=false;
var _9dc=_9da.childNodes;
for(var i=0;i<_9dc.length;i++){
skip=false;
for(var j=0;j<_9db.length;j++){
if(_9dc[i].innerHTML==_9db[j].innerHTML){
skip=true;
break;
}
}
if(!skip){
list.appendChild(_9dc[i]);
i--;
}
}
}else{
if(div){
div.innerHTML=msgs.total;
}
}
}
var _9dd=dojo.byId("error-messages");
if(_9dd&&!dojo.global.jsScreenContext.hasContextBits("MODAL")){
_9dd.focus();
}
});
});
},setFocus:function(){
var _9de=curam.util.getUrlParamValue(dojo.global.location.href,"o3frame")=="modal";
if(!_9de){
_93d(curam.util.doSetFocus);
}
},doSetFocus:function(){
var _9df=-1;
var _9e0=-1;
var form=document.forms[0];
if(!form){
return false;
}
var _9e1=form.elements;
var l=_9e1.length;
var elem;
for(var i=0;i<l;i++){
elem=_9e1[i];
if(_9df==-1&&(elem.type=="select-one"||elem.type=="text"||elem.tagName=="TEXTAREA")&&!_941.contains(elem,"dijitArrowButtonInner")&&!_941.contains(elem,"dijitValidationInner")){
_9df=i;
}
if(elem.tabIndex=="1"){
elem.tabIndex=0;
_9e0=i;
break;
}
}
var elem;
if(_9e0!=-1){
elem=_9e1[_9e0];
}else{
if(_9df!=-1){
elem=_9e1[_9df];
}
}
try{
var _9e2=dojo.byId("error-messages");
if(_9e2){
_9e2.focus();
}else{
elem.focus();
}
}
catch(e){
curam.debug.log(_946.getProperty("curam.util.error.focus"),e.message);
return false;
}
return true;
},openLocaleSelector:function(_9e3){
_9e3=_943.fix(_9e3);
var _9e4=_9e3.target;
while(_9e4&&_9e4.tagName!="A"){
_9e4=_9e4.parentNode;
}
var loc=_9e4.href;
var rpu=curam.util.getUrlParamValue(loc,"__o3rpu");
rpu=curam.util.removeUrlParam(rpu,"__o3rpu");
var href="user-locale-selector.jspx"+"?__o3rpu="+rpu;
if(!curam.util.isActionPage(dojo.global.location.href)){
openModalDialog({href:href},"width=500,height=300",200,150);
}else{
alert(curam.util.msgLocaleSelectorActionPage);
}
return false;
},isActionPage:function(url){
var _9e5=curam.util.getLastPathSegmentWithQueryString(url);
var _9e6=_9e5.split("?")[0];
return _9e6.indexOf("Action.do")>-1;
},closeLocaleSelector:function(_9e7){
_9e7=_943.fix(_9e7);
_943.stop(_9e7);
dojo.global.close();
return false;
},getSuffixFromClass:function(node,_9e8){
var _9e9=attr.get(node,"class").split(" ");
var _9ea=_940.filter(_9e9,function(_9eb){
return _9eb.indexOf(_9e8)==0;
});
if(_9ea.length>0){
return _9ea[0].split(_9e8)[1];
}else{
return null;
}
},getCacheBusterParameter:function(){
return this.CACHE_BUSTER_PARAM_NAME+"="+new Date().getTime()+"_"+this.CACHE_BUSTER++;
},stripeTable:function(_9ec,_9ed,_9ee){
var _9ef=_9ec.tBodies[0];
var _9f0=(_9ed?2:1);
if(_9ef.rows.length<_9f0){
return;
}
var rows=_9ef.rows;
for(var i=0;i<rows.length;i+=_9f0){
curam.debug.log("curam.util.stripeTable(%s, %s): i = %s",_9ec,_9ed,i);
var _9f1=[rows[i]];
if(_9ed&&rows[i+1]){
_9f1.push(rows[i+1]);
}
_940.forEach(_9f1,function(row){
_941.remove(row,"odd-last-row");
_941.remove(row,"even-last-row");
});
if(i%(2*_9f0)==0){
_940.forEach(_9f1,function(row){
cm.replaceClass(row,"odd","even");
});
if(i==_9ee){
_940.forEach(_9f1,function(row){
_941.add(row,"odd-last-row");
});
}
}else{
_940.forEach(_9f1,function(row){
cm.replaceClass(row,"even","odd");
});
if(i==_9ee){
_940.forEach(_9f1,function(row){
_941.add(row,"even-last-row");
});
}
}
}
},fillString:function(_9f2,_9f3){
var _9f4="";
while(_9f3>0){
_9f4+=_9f2;
_9f3-=1;
}
return _9f4;
},updateHeader:function(qId,_9f5,_9f6,_9f7){
var _9f8=dom.byId("header_"+qId);
_9f8.firstChild.nextSibling.innerHTML=_9f5;
answerCell=dom.byId("chosenAnswer_"+qId);
answerCell.innerHTML=_9f6;
sourceCell=dom.byId("chosenSource_"+qId);
sourceCell.innerHTML=_9f7;
},search:function(_9f9,_9fa){
var _9fb=_93b.byId(_9f9).get("value");
var _9fc=_93b.byId(_9fa);
var _9fd=_9fc?_9fc.get("value"):null;
var _9fe="";
var _9ff;
var _a00;
if(_9fd){
_a00=_9fd.split("|");
_9fe=_a00[0];
_9ff=_a00[1];
}
var _a01=curam.util.defaultSearchPageID;
var _a02="";
if(_9fe===""){
_a02=_a01+"Page.do?searchText="+encodeURIComponent(_9fb);
}else{
_a02=_9ff+"Page.do?searchText="+encodeURIComponent(_9fb)+"&searchType="+encodeURIComponent(_9fe);
}
var _a03=new curam.ui.PageRequest(_a02);
require(["curam/tab"],function(){
curam.tab.getTabController().handlePageRequest(_a03);
});
},updateDefaultSearchText:function(_a04,_a05){
var _a06=_93b.byId(_a04);
var _a07=_93b.byId(_a05);
var _a08=_a06?_a06.get("value"):null;
var str=_a08.split("|")[2];
_a07.set("placeHolder",str);
},updateSearchBtnState:function(_a09,_a0a){
var _a0b=_93b.byId(_a09);
var btn=dom.byId(_a0a);
var _a0c=_a0b.get("value");
if(!_a0c||lang.trim(_a0c).length<1){
_941.add(btn,"dijitDisabled");
}else{
_941.remove(btn,"dijitDisabled");
}
},furtherOptionsSearch:function(){
var _a0d=curam.util.furtherOptionsPageID+"Page.do";
var _a0e=new curam.ui.PageRequest(_a0d);
require(["curam/tab"],function(){
curam.tab.getTabController().handlePageRequest(_a0e);
});
},searchButtonStatus:function(_a0f){
var btn=dojo.byId(_a0f);
if(!dojo.hasClass(btn,"dijitDisabled")){
return true;
}
},getPageHeight:function(){
var _a10=400;
var _a11=0;
if(_944("frameset").length>0){
curam.debug.log("curam.util.getPageHeight() "+_946.getProperty("curam.util.default.height"),_a10);
_a11=_a10;
}else{
var _a12=function(node){
if(!node){
curam.debug.log(_946.getProperty("curam.util.node"));
return 0;
}
var mb=geom.getMarginSize(node);
var pos=geom.position(node);
return pos.y+mb.h;
};
if(dojo.global.jsScreenContext.hasContextBits("LIST_ROW_INLINE_PAGE")){
var _a13=_944("div.bottom")[0];
var _a14=_a12(_a13);
curam.debug.log(_946.getProperty("curam.util.page.height"),_a14);
curam.debug.log(_946.getProperty("curam.util.ie7.issue"));
_a11=_a14+1;
}else{
var _a15=dom.byId("content")||dom.byId("wizard-content");
var _a16=_944("> *",_a15).filter(function(n){
return n.tagName.indexOf("SCRIPT")<0&&_93f.get(n,"visibility")!="hidden"&&_93f.get(n,"display")!="none";
});
var _a17=_a16[0];
for(var i=1;i<_a16.length;i++){
if(_a12(_a16[i])>=_a12(_a17)){
_a17=_a16[i];
}
}
_a11=_a12(_a17);
curam.debug.log("curam.util.getPageHeight() "+_946.getProperty("curam.util.base.height"),_a11);
var _a18=_944(".actions-panel",_93e.body());
if(_a18.length>0){
var _a19=geom.getMarginBox(_a18[0]).h;
curam.debug.log("curam.util.getPageHeight() "+_946.getProperty("curam.util.panel.height"));
_a11+=_a19;
_a11+=10;
}
var _a1a=_944("body.details");
if(_a1a.length>0){
curam.debug.log("curam.util.getPageHeight() "+_946.getProperty("curam.util.bar.height"));
_a11+=20;
}
}
}
curam.debug.log("curam.util.getPageHeight() "+_946.getProperty("curam.util.returning"),_a11);
return _a11;
},toCommaSeparatedList:function(_a1b){
var _a1c="";
for(var i=0;i<_a1b.length;i++){
_a1c+=_a1b[i];
if(i<_a1b.length-1){
_a1c+=",";
}
}
return _a1c;
},skipLinkFocus:function(){
var dest=dojo.byId("skip-dest");
if(dest){
dest.focus();
}
},setupGenericKeyHandler:function(){
_93d(function(){
var f=function(_a1d){
if(dojo.global.jsScreenContext.hasContextBits("MODAL")&&_a1d.keyCode==27){
var ev=_943.fix(_a1d);
var _a1e=_93b.byId(ev.target.id);
var _a1f=typeof _a1e!="undefined"&&_a1e.baseClass=="dijitTextBox dijitComboBox";
if(!_a1f){
curam.dialog.closeModalDialog();
}
}
if(_a1d.keyCode==13){
var ev=_943.fix(_a1d);
var _a20=ev.target.type=="text";
var _a21=ev.target.type=="radio";
var _a22=ev.target.type=="checkbox";
var _a23=ev.target.type=="select-multiple";
var _a24=ev.target.type=="password";
var _a25=_93b.byId(ev.target.id);
if(typeof _a25!="undefined"){
var _a26=_93b.byNode(dojo.byId("widget_"+ev.target.id));
if(_a26&&_a26.enterKeyOnOpenDropDown){
_a26.enterKeyOnOpenDropDown=false;
return false;
}
}
var _a27=typeof _a25!="undefined"&&_a25.baseClass=="dijitComboBox";
if((!_a20&&!_a21&&!_a22&&!_a23&&!_a24)||_a27){
return true;
}
var _a28=null;
var _a29=_944(".curam-default-action");
if(_a29.length>0){
_a28=_a29[0];
}else{
var _a2a=_944("input[type='submit']");
if(_a2a.length>0){
_a28=_a2a[0];
}
}
if(_a28!=null){
_943.stop(_943.fix(_a1d));
curam.util.clickButton(_a28);
return false;
}
dojo.require("curam.dateSelectorUtil");
var _a2b=dojo.byId("year");
if(_a2b){
dojo.stopEvent(dojo.fixEvent(_a1d));
curam.dateSelectorUtil.updateCalendar();
}
}
return true;
};
curam.util.connect(_93e.body(),"onkeyup",f);
});
},enterKeyPress:function(_a2c){
if(_a2c.keyCode==13){
return true;
}
},isShiftTab:function(e){
if(e.shiftKey&&e.keyCode==9){
var elem,evt=e?e:event;
if(evt.srcElement){
elem=evt.srcElement;
}else{
if(evt.target){
elem=evt.target;
}
}
if(elem.previousSibling.className=="dijitDialogHelpIcon"){
return false;
}else{
var _a2d=elem.parentElement.parentElement.id;
var _a2e=dojo.byId("end-"+_a2d);
if(_a2e){
_a2e.focus();
}
}
}
},focusHelpIconOnTab:function(e){
if(!e.shiftKey&&e.keyCode==9){
var _a2f=dojo.query(".dijitDialogHelpIcon")[0];
if(_a2f){
setTimeout(function(){
_a2f.focus();
},5);
}
}
},swapState:function(node,_a30,_a31,_a32){
if(_a30){
_941.replace(node,_a31,_a32);
}else{
_941.replace(node,_a32,_a31);
}
},makeQueryString:function(_a33){
if(!_a33||_a33.length==0){
return "";
}
var _a34=[];
for(var _a35 in _a33){
_a34.push(_a35+"="+encodeURIComponent(_a33[_a35]));
}
return "?"+_a34.join("&");
},clickHandlerForListActionMenu:function(url,_a36,_a37,_a38){
if(_a36){
var href=curam.util.replaceUrlParam(url,"o3frame","modal");
var ctx=dojo.global.jsScreenContext;
ctx.addContextBits("MODAL");
href=curam.util.replaceUrlParam(href,"o3ctx",ctx.getValue());
curam.util.redirectWindow(href);
return;
}
var _a39={href:url};
require(["curam/ui/UIMPageAdaptor"]);
if(curam.ui.UIMPageAdaptor.allowLinkToContinue(_a39)){
dojo.global.location=url;
return;
}
if(_a39!=null){
if(_a38){
_943.fix(_a38);
_943.stop(_a38);
}
if(!_a39.href||_a39.href.length==0){
return;
}
if(_a37&&!curam.util.isInternal(url)){
dojo.global.open(url);
}else{
if(curam.ui.UIMPageAdaptor.isLinkValidForTabProcessing(_a39)){
var _a3a=new curam.ui.PageRequest(_a39.href);
if(dojo.global.jsScreenContext.hasContextBits("LIST_ROW_INLINE_PAGE")||dojo.global.jsScreenContext.hasContextBits("NESTED_UIM")){
_a3a.pageHolder=dojo.global;
}
require(["curam/tab"],function(){
curam.tab.getTabController().handlePageRequest(_a3a);
});
}
}
}
},clickHandlerForMailtoLinks:function(_a3b,url){
dojo.stopEvent(_a3b);
var _a3c=dojo.query("#mailto_frame")[0];
if(!_a3c){
_a3c=dojo.io.iframe.create("mailto_frame","");
}
_a3c.src=url;
return false;
},isInternal:function(url){
var path=url.split("?")[0];
var _a3d=path.match("Page.do");
if(_a3d!=null){
return true;
}
return false;
},getLastPathSegmentWithQueryString:function(url){
var _a3e=url.split("?");
var _a3f=_a3e[0].split("/");
return _a3f[_a3f.length-1]+(_a3e[1]?"?"+_a3e[1]:"");
},replaceSubmitButton:function(name){
if(curam.replacedButtons[name]=="true"){
return;
}
var _a40="__o3btn."+name;
var _a41;
if(dojo.global.jsScreenContext.hasContextBits("AGENDA")){
_a41=_944("input[id='"+_a40+"']");
}else{
_a41=_944("input[name='"+_a40+"']");
}
_a41.forEach(function(_a42,_a43,_a44){
_a42.tabIndex=-1;
var _a45=_a42.parentNode;
var _a46="btn-id-"+_a43;
curam.util.setupWidgetLoadMask("a."+_a46);
var _a47="ac initially-hidden-widget "+_a46;
if(_941.contains(_a42,"first-action-control")){
_a47+=" first-action-control";
}
var _a48=_93c.create("a",{"class":_a47,href:"#"},_a42,"before");
var _a49=dojo.query(".page-level-menu")[0];
if(_a49){
dojo.attr(_a48,"title",_a42.value);
}
_93c.create("span",{"class":"filler"},_a48,"before");
var left=_93c.create("span",{"class":"left-corner"},_a48);
var _a4a=_93c.create("span",{"class":"right-corner"},left);
var _a4b=_93c.create("span",{"class":"middle"},_a4a);
_a4b.appendChild(document.createTextNode(_a42.value));
curam.util.addActionControlClass(_a48);
on(_a48,"click",function(_a4c){
curam.util.clickButton(this._submitButton);
_943.stop(_a4c);
});
_a48._submitButton=_a44[0];
_941.add(_a42,"hidden-button");
});
curam.replacedButtons[name]="true";
},setupWidgetLoadMask:function(_a4d){
curam.util.subscribe("/curam/page/loaded",function(){
var _a4e=_944(_a4d)[0];
if(_a4e){
_93f.set(_a4e,"visibility","visible");
}else{
curam.debug.log("setupButtonLoadMask: "+_946.getProperty("curam.util.not.found")+"'"+_a4d+"'"+_946.getProperty("curam.util.ignore.mask"));
}
});
},optReplaceSubmitButton:function(name){
if(curam.util.getFrameRoot(dojo.global,"wizard")==null){
curam.util.replaceSubmitButton(name);
return;
}
var _a4f=curam.util.getFrameRoot(dojo.global,"wizard").navframe.wizardNavigator;
if(_a4f.delegatesSubmit[jsPageID]!="assumed"){
curam.util.replaceSubmitButton(name);
}
},clickButton:function(_a50){
var _a51=dom.byId("mainForm");
var _a52;
if(!_a50){
curam.debug.log("curam.util.clickButton: "+_946.getProperty("curam.util..no.arg"));
return;
}
if(typeof (_a50)=="string"){
var _a53=_a50;
curam.debug.log("curam.util.clickButton: "+_946.getProperty("curam.util.searching")+_946.getProperty("curam.util.id.of")+"'"+_a53+"'.");
_a50=_944("input[id='"+_a53+"']")[0];
if(!_a50.form&&!_a50.id){
curam.debug.log("curam.util.clickButton: "+_946.getProperty("curam.util.searched")+_946.getProperty("curam.util.id.of")+"'"+_a53+_946.getProperty("curam.util.exiting"));
return;
}
}
if(dojo.global.jsScreenContext.hasContextBits("AGENDA")){
_a52=_a50;
}else{
_a52=_944("input[name='"+_a50.id+"']",_a51)[0];
}
try{
if(attr.get(_a51,"action").indexOf(jsPageID)==0){
curam.util.publishRefreshEvent();
}
_a52.click();
}
catch(e){
curam.debug.log(_946.getProperty("curam.util.exception.clicking"));
}
},printPage:function(_a54){
_943.stop(_a54);
var _a55=dojo.window.get(_a54.currentTarget.ownerDocument);
var _a56=_a55.frameElement;
var _a57=_a56;
while(_a57&&!dojo.hasClass(_a57,"tab-content-holder")){
_a57=_a57.parentNode;
}
var _a58=_a57;
var _a59=dojo.query(".detailsPanelFrame",_a58)[0];
if(_a59!=undefined&&_a59!=null){
_a59.contentWindow.focus();
_a59.contentWindow.print();
}
_a55.focus();
_a55.print();
return false;
},addSelectedClass:function(_a5a){
_941.add(_a5a.target,"selected");
},removeSelectedClass:function(_a5b){
_941.remove(_a5b.target,"selected");
},openHelpPage:function(_a5c,_a5d){
_943.stop(_a5c);
dojo.global.open(_a5d);
},connect:function(_a5e,_a5f,_a60){
var h=function(_a61){
_a60(_943.fix(_a61));
};
if(has("ie")&&has("ie")<9){
_a5e.attachEvent(_a5f,h);
_945.addOnWindowUnload(function(){
_a5e.detachEvent(_a5f,h);
});
return {object:_a5e,eventName:_a5f,handler:h};
}else{
var _a62=_a5f;
if(_a5f.indexOf("on")==0){
_a62=_a5f.slice(2);
}
var dt=on(_a5e,_a62,h);
_945.addOnWindowUnload(function(){
dt.remove();
});
return dt;
}
},disconnect:function(_a63){
if(has("ie")&&has("ie")<9){
_a63.object.detachEvent(_a63.eventName,_a63.handler);
}else{
_a63.remove();
}
},subscribe:function(_a64,_a65){
var st=_942.subscribe(_a64,_a65);
_945.addOnWindowUnload(function(){
st.remove();
});
return st;
},unsubscribe:function(_a66){
_a66.remove();
},addActionControlClickListener:function(_a67){
var _a68=dom.byId(_a67);
var _a69=_944(".ac",_a68);
if(_a69.length>0){
for(var i=0;i<_a69.length;i++){
var _a6a=_a69[i];
curam.util.addActionControlClass(_a6a);
}
}
},addActionControlClass:function(_a6b){
curam.util.connect(_a6b,"onmousedown",function(){
_941.add(_a6b,"selected-button");
curam.util.connect(_a6b,"onmouseout",function(){
_941.remove(_a6b,"selected-button");
});
});
},getClusterActionSet:function(){
var _a6c=dom.byId("content");
var _a6d=_944(".blue-action-set",_a6c);
if(_a6d.length>0){
for(var i=0;i<_a6d.length;i++){
curam.util.addActionControlClickListener(_a6d[i]);
}
}
},adjustActionButtonWidth:function(){
if(has("ie")==8){
_93d(function(){
if(dojo.global.jsScreenContext.hasContextBits("MODAL")){
_944(".action-set > a").forEach(function(node){
if(node.childNodes[0].offsetWidth>node.offsetWidth){
_93f.set(node,"width",node.childNodes[0].offsetWidth+"px");
_93f.set(node,"display","block");
_93f.set(node,"display","inline-block");
}
});
}
});
}
},setRpu:function(url,rtc,_a6e){
if(!url||!rtc||!rtc.getHref()){
throw {name:"Unexpected values",message:"This value not allowed for url or rtc"};
}
var _a6f=curam.util.getLastPathSegmentWithQueryString(rtc.getHref());
_a6f=curam.util.removeUrlParam(_a6f,curam.util.Constants.RETURN_PAGE_PARAM);
if(_a6e){
var i;
for(i=0;i<_a6e.length;i++){
if(!_a6e[i].key||!_a6e[i].value){
throw {name:"undefined value error",message:"The object did not contain a valid key/value pair"};
}
_a6f=curam.util.replaceUrlParam(_a6f,_a6e[i].key,_a6e[i].value);
}
}
var _a70=curam.util.replaceUrlParam(url,curam.util.Constants.RETURN_PAGE_PARAM,encodeURIComponent(_a6f));
curam.debug.log("curam.util.setRpu "+_946.getProperty("curam.util.added.rpu")+_a70);
return _a70;
},retrieveBaseURL:function(){
return dojo.global.location.href.match(".*://[^/]*/[^/]*");
},removeRoleRegion:function(){
var body=dojo.query("body")[0];
dojo.removeAttr(body,"role");
},iframeTitleFallBack:function(){
var _a71=curam.tab.getContainerTab(curam.tab.getContentPanelIframe());
var _a72=dojo.byId(curam.tab.getContentPanelIframe());
var _a73=_a72.contentWindow.document.title;
var _a74=dojo.query("div.nowrapTabStrip.dijitTabContainerTop-tabs > div.dijitTabChecked.dijitChecked")[0];
var _a75=dojo.query("span.tabLabel",_a74)[0];
var _a76=dojo.query("div.nowrapTabStrip.dijitTabNoLayout > div.dijitTabChecked.dijitChecked",_a71.domNode)[0];
var _a77=dojo.query("span.tabLabel",_a76)[0];
if(_a73&&_a73!=null){
return _a73;
}else{
if(_a76){
return _a77.innerHTML;
}else{
return _a75.innerHTML;
}
}
},addClassToLastNodeInContentArea:function(){
var _a78=_944("> div","content");
var _a79=_a78.length;
if(_a79==0){
return "No need to add";
}
var _a7a=_a78[--_a79];
while(_941.contains(_a7a,"hidden-action-set")&&_a7a){
_a7a=_a78[--_a79];
}
_941.add(_a7a,"last-node");
},highContrastModeType:function(){
var _a7b=dojo.query("body.high-contrast")[0];
return _a7b;
}});
return curam.util;
});
},"dojo/store/Memory":function(){
define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_a7c,_a7d,_a7e){
return _a7c("dojo.store.Memory",null,{constructor:function(_a7f){
for(var i in _a7f){
this[i]=_a7f[i];
}
this.setData(this.data||[]);
},data:null,idProperty:"id",index:null,queryEngine:_a7e,get:function(id){
return this.data[this.index[id]];
},getIdentity:function(_a80){
return _a80[this.idProperty];
},put:function(_a81,_a82){
var data=this.data,_a83=this.index,_a84=this.idProperty;
var id=(_a82&&"id" in _a82)?_a82.id:_a84 in _a81?_a81[_a84]:Math.random();
if(id in _a83){
if(_a82&&_a82.overwrite===false){
throw new Error("Object already exists");
}
data[_a83[id]]=_a81;
}else{
_a83[id]=data.push(_a81)-1;
}
return id;
},add:function(_a85,_a86){
(_a86=_a86||{}).overwrite=false;
return this.put(_a85,_a86);
},remove:function(id){
var _a87=this.index;
var data=this.data;
if(id in _a87){
data.splice(_a87[id],1);
this.setData(data);
return true;
}
},query:function(_a88,_a89){
return _a7d(this.queryEngine(_a88,_a89)(this.data));
},setData:function(data){
if(data.items){
this.idProperty=data.identifier;
data=this.data=data.items;
}else{
this.data=data;
}
this.index={};
for(var i=0,l=data.length;i<l;i++){
this.index[data[i][this.idProperty]]=i;
}
}});
});
},"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n","dijit/layout/StackContainer":function(){
define("dijit/layout/StackContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/ready","dojo/topic","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(_a8a,_a8b,_a8c,_a8d,_a8e,lang,_a8f,_a90,_a91,_a92,_a93){
if(!_a8e.isAsync){
_a8f(0,function(){
var _a94=["dijit/layout/StackController"];
require(_a94);
});
}
lang.extend(_a92,{selected:false,closable:false,iconClass:"dijitNoIcon",showTitle:true});
return _a8c("dijit.layout.StackContainer",_a93,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){
this.inherited(arguments);
_a8d.add(this.domNode,"dijitLayoutContainer");
},postCreate:function(){
this.inherited(arguments);
this.connect(this.domNode,"onkeypress",this._onKeyPress);
},startup:function(){
if(this._started){
return;
}
var _a95=this.getChildren();
_a8a.forEach(_a95,this._setupChild,this);
if(this.persist){
this.selectedChildWidget=_a91.byId(_a8b(this.id+"_selectedChild"));
}else{
_a8a.some(_a95,function(_a96){
if(_a96.selected){
this.selectedChildWidget=_a96;
}
return _a96.selected;
},this);
}
var _a97=this.selectedChildWidget;
if(!_a97&&_a95[0]){
_a97=this.selectedChildWidget=_a95[0];
_a97.selected=true;
}
_a90.publish(this.id+"-startup",{children:_a95,selected:_a97});
this.inherited(arguments);
},resize:function(){
if(!this._hasBeenShown){
this._hasBeenShown=true;
var _a98=this.selectedChildWidget;
if(_a98){
this._showChild(_a98);
}
}
this.inherited(arguments);
},_setupChild:function(_a99){
this.inherited(arguments);
_a8d.replace(_a99.domNode,"dijitHidden","dijitVisible");
_a99.domNode.title="";
},addChild:function(_a9a,_a9b){
this.inherited(arguments);
if(this._started){
_a90.publish(this.id+"-addChild",_a9a,_a9b);
this.layout();
if(!this.selectedChildWidget){
this.selectChild(_a9a);
}
}
},removeChild:function(page){
this.inherited(arguments);
if(this._started){
_a90.publish(this.id+"-removeChild",page);
}
if(this._descendantsBeingDestroyed){
return;
}
if(this.selectedChildWidget===page){
this.selectedChildWidget=undefined;
if(this._started){
var _a9c=this.getChildren();
if(_a9c.length){
this.selectChild(_a9c[0]);
}
}
}
if(this._started){
this.layout();
}
},selectChild:function(page,_a9d){
page=_a91.byId(page);
if(this.selectedChildWidget!=page){
var d=this._transition(page,this.selectedChildWidget,_a9d);
if(d){
this._set("selectedChildWidget",page);
_a90.publish(this.id+"-selectChild",page);
if(this.persist){
_a8b(this.id+"_selectedChild",this.selectedChildWidget.id);
}
}
}
return d;
},_transition:function(_a9e,_a9f){
if(_a9f){
this._hideChild(_a9f);
}
var d=this._showChild(_a9e);
if(d&&_a9e.resize){
if(this.doLayout){
_a9e.resize(this._containerContentBox||this._contentBox);
}else{
_a9e.resize();
}
}
return d;
},_adjacent:function(_aa0){
var _aa1=this.getChildren();
var _aa2=_a8a.indexOf(_aa1,this.selectedChildWidget);
_aa2+=_aa0?1:_aa1.length-1;
return _aa1[_aa2%_aa1.length];
},forward:function(){
return this.selectChild(this._adjacent(true),true);
},back:function(){
return this.selectChild(this._adjacent(false),true);
},_onKeyPress:function(e){
_a90.publish(this.id+"-containerKeyPress",{e:e,page:this});
},layout:function(){
var _aa3=this.selectedChildWidget;
if(_aa3&&_aa3.resize){
if(this.doLayout){
_aa3.resize(this._containerContentBox||this._contentBox);
}else{
_aa3.resize();
}
}
},_showChild:function(page){
if(page){
var _aa4=this.getChildren();
page.isFirstChild=(page==_aa4[0]);
page.isLastChild=(page==_aa4[_aa4.length-1]);
page._set("selected",true);
_a8d.replace(page.domNode,"dijitVisible","dijitHidden");
return (page._onShow&&page._onShow())||true;
}
},_hideChild:function(page){
page._set("selected",false);
_a8d.replace(page.domNode,"dijitHidden","dijitVisible");
page.onHide&&page.onHide();
},closeChild:function(page){
var _aa5=page.onClose(this,page);
if(_aa5){
this.removeChild(page);
page.destroyRecursive();
}
},destroyDescendants:function(_aa6){
this._descendantsBeingDestroyed=true;
this.selectedChildWidget=undefined;
_a8a.forEach(this.getChildren(),function(_aa7){
if(!_aa6){
this.removeChild(_aa7);
}
_aa7.destroyRecursive(_aa6);
},this);
this._descendantsBeingDestroyed=false;
}});
});
},"dojo/regexp":function(){
define("dojo/regexp",["./_base/kernel","./_base/lang"],function(dojo,lang){
lang.getObject("regexp",true,dojo);
dojo.regexp.escapeString=function(str,_aa8){
return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){
if(_aa8&&_aa8.indexOf(ch)!=-1){
return ch;
}
return "\\"+ch;
});
};
dojo.regexp.buildGroupRE=function(arr,re,_aa9){
if(!(arr instanceof Array)){
return re(arr);
}
var b=[];
for(var i=0;i<arr.length;i++){
b.push(re(arr[i]));
}
return dojo.regexp.group(b.join("|"),_aa9);
};
dojo.regexp.group=function(_aaa,_aab){
return "("+(_aab?"?:":"")+_aaa+")";
};
return dojo.regexp;
});
},"curam/UIMController":function(){
require({cache:{"url:curam/layout/resources/UIMController.html":"<div id=\"uimcontroller_${uid}\" class=\"uimcontroller_${uid} uimController ${classList}\" data-dojo-attach-point=\"uimController\">\r\n  <div style=\"display:none;\" \r\n       id=\"uimcontroller_tc_${uid}\" \r\n       class=\"ipnTabController in-page-nav-tabContainer\"\r\n       data-dojo-attach-point=\"tabController\" \r\n       data-dojo-type=\"curam.layout.TabContainer\">\r\n  </div>\r\n  <div class=\"contentPanelFrameWrapper\"  \r\n        data-dojo-attach-point=\"frameWrapper\">\r\n    <iframe frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\"\r\n             allowTransparency=\"true\" \r\n             id=\"${iframeId}\" \r\n             data-dojo-attach-point=\"frame\"                 \r\n             class=\"${iframeId} ${iframeClassList}\"\r\n             iscpiframe=\"${iscpiframe}\"\r\n             title=\"${title}\" >\r\n    </iframe>\r\n  </div> \r\n</div>"}});
define("curam/UIMController",["dojo/text!curam/layout/resources/UIMController.html","dijit/_Widget","dijit/_Templated","dijit/layout/ContentPane","curam/tab","curam/debug","curam/util","curam/util/onLoad","curam/util/ResourceBundle"],function(_aac){
dojo.requireLocalization("curam.application","Debug");
var _aad=new curam.util.ResourceBundle("Debug");
var _aae=dojo.declare("curam.UIMController",[dijit._Widget,dijit._Templated],{TAB_HEIGHT:20,EVENT:{TOPIC_PREFIX:"UIMController.InPageNav_"},TOPIC_LOADED:"/curam/uim/controller/loaded",frameLoadEvent:"",uid:"",url:"",tabControllerId:"",oldTabsTitlesList:[],newTabsTitlesList:[],widgetsInTemplate:true,finishedLoadingTabs:false,classList:"",iframeId:"",height:"",width:"",iframeClassList:"",iscpiframe:"false",ipnTabClickEvent:null,title:"",handleIPNTabClickListener:null,inPageNavItems:null,loadFrameOnCreate:true,resizeFrameOnLoad:false,templateString:_aac,inDialog:false,constructor:function(args){
if(!args.uid){
throw "'uid' attribute not provided to constructor for"+" curam.UIMController(url,uid)";
}
this.uid="uimcontroller_"+args.uid;
this.tabControllerId="uimcontroller_tc_"+args.uid;
this.newTabsTitlesList=[];
this.ipnTabClickEvent=this.tabControllerId+"-selectChild";
if(this.height==""){
this.height="99%";
}
if(this.width==""){
this.width="99%";
}
curam.debug.log(_aad.getProperty("curam.UIMController.new")+" curam.UIMController()...");
curam.debug.log("curam.UIMController "+_aad.getProperty("curam.UIMController.identifier")+" "+this.uid);
curam.debug.log("curam.UIMController "+_aad.getProperty("curam.UIMController.url")+" "+this.url);
curam.debug.log("curam.UIMController "+_aad.getProperty("curam.UIMController.identifier")+" "+this.tabControllerId);
curam.debug.log("curam.UIMController: newTabsTitlesList "+" "+this.newTabsTitlesList);
return this.uimController;
},postCreate:function(){
this.frameLoadEvent=this.EVENT.TOPIC_PREFIX+this.frame.id;
this.setURL(this.url);
var _aaf=dojo.hitch(this,"processFrameLoadEvent");
curam.util.onLoad.addSubscriber(this.frame.id,_aaf);
dojo.connect(this,"destroy",function(){
curam.util.onLoad.removeSubscriber(this.iframeId,_aaf);
this.fLoadFunct=null;
});
if(this.inDialog){
dojo.style(this.frame,{width:this.width,height:this.height});
}
curam.debug.log("curam.UIMController: loadFrameOnCreate="+this.loadFrameOnCreate);
curam.debug.log("curam.UIMController "+_aad.getProperty("curam.UIMController.url")+this.url);
if(this.loadFrameOnCreate==true&&typeof (this.url)!="undefined"){
curam.debug.log("curam.UIMController: "+_aad.getProperty("uram.UIMController.loading"));
this.loadPage();
}
},setURL:function(url){
if(url.indexOf("Page.do")==-1){
this.absoluteURL=true;
this.url=url;
}else{
this.absoluteURL=false;
this.url=this._trimURL(url);
}
},processFrameLoadEvent:function(_ab0,_ab1){
curam.debug.log("curam.UIMController: processFrameLoadEvent "+_aad.getProperty("curam.UIMController.processing.IPN")+_ab1);
this.inPageNavItems=_ab1.inPageNavItems;
curam.debug.log("curam.UIMController: processFrameLoadEvent: "+_aad.getProperty("curam.UIMController.processing"));
curam.debug.log("curam.UIMController.processFrameLoadEvent: this.tabController: "+this.tabController);
if(this.resizeFrameOnLoad==true){
var _ab2=_ab1.height;
curam.debug.log(_aad.getProperty("curam.UIMController.resizing")+_ab2);
if(_ab2){
dojo.style(this.getIFrame(),{height:_ab2+"px"});
}
}
curam.debug.log(_aad.getProperty("curam.UIMController.IPN.items"),this.inPageNavItems);
if(!this.hasInPageNavigation()){
curam.debug.log(_aad.getProperty("curam.UIMController.no.IPN"));
this.clearIPNTabs();
if(!this._tabControllerHidden()){
curam.debug.log(_aad.getProperty("curam.UIMController.hiding"));
this.showTabContainer(false);
}
dojo.publish(this.TOPIC_LOADED);
return;
}
curam.debug.log(_aad.getProperty("curam.UIMController.extract"));
var _ab3=-1;
for(var i=0;i<this.inPageNavItems.length;i++){
this.newTabsTitlesList.push(this.inPageNavItems[i].title);
if(this.inPageNavItems[i].selected==true){
_ab3=i;
}
curam.debug.log(_aad.getProperty("curam.UIMController.IPN.")+"["+this.inPageNavItems[i].title+", "+this.inPageNavItems[i].href+", "+this.inPageNavItems[i].selected+"]");
}
var _ab4=!(this.compareLists(this.oldTabsTitlesList,this.newTabsTitlesList));
if(_ab4){
this.clearIPNTabs(this);
this.createIPNTabs(this.inPageNavItems);
if(this._tabControllerHidden()){
this.showTabContainer(true);
}
}else{
curam.debug.log(_aad.getProperty("curam.UIMController.no.change"));
if(_ab3>-1){
var _ab5=this.tabController.getIndexOfChild(this.tabController.selectedChildWidget);
if(_ab5!=_ab3){
curam.debug.log(_aad.getProperty("curam.UIMController.change")+_ab5+_aad.getProperty("curam.UIMController.to")+_ab3);
this.toggleIPNTabClickEventListener("off");
this.tabController.selectChild(this.tabController.getChildren()[_ab3]);
this.toggleIPNTabClickEventListener("on");
}
}
}
this.newTabsTitlesList=[];
curam.debug.log(_aad.getProperty("curam.UIMController.clear")+this.newTabsTitlesList);
this.finishedLoadingTabs=true;
dojo.publish(this.TOPIC_LOADED);
dojo.publish("/curam/tab/labelUpdated");
},_tabControllerHidden:function(){
return dojo.style(this.tabController.domNode,"display")=="none";
},toggleIPNTabClickEventListener:function(_ab6){
if(_ab6=="off"){
if(this.handleIPNTabClickListener!=null){
curam.debug.log(_aad.getProperty("curam.UIMController.off.listener"));
dojo.unsubscribe(this.handleIPNTabClickListener);
}
}else{
curam.debug.log(_aad.getProperty("curam.UIMController.on.listener"));
this.handleIPNTabClickListener=this.subscribe(this.ipnTabClickEvent,dojo.hitch(this,this.handleIPNTabClick));
}
},handleIPNTabClick:function(tab){
if(this.finishedLoadingTabs){
curam.debug.log(_aad.getProperty("curam.UIMController.finishing"));
this.finishedLoadingTabs=false;
this.setURL(this._getURLByTitle(tab.title));
this.loadPage();
}
},createIPNTabs:function(_ab7){
this.toggleIPNTabClickEventListener("off");
if(!this.tabController){
console.error("curam.UIMController.createIPNTabs: "+_aad.getProperty("uram.UIMController.no.widget")+" '"+this.tabControllerId+"'");
}else{
curam.debug.log("curam.UIMController.createIPNTabs: "+_aad.getProperty("curam.UIMController.creating.tabs")+_ab7);
var _ab8=null;
for(var i=0;i<_ab7.length;i++){
var cp=new dijit.layout.ContentPane({title:_ab7[i].title});
this.tabController.addChild(cp);
if(_ab7[i].selected==true||_ab8==null){
_ab8=cp;
}
this.oldTabsTitlesList.push(_ab7[i].title);
curam.debug.log("curam.UIMController.createIPNTabs: "+_aad.getProperty("curam.UIMController.adding.tabs")+_ab7[i].title);
}
this.tabController.startup();
this.tabController.selectChild(_ab8);
}
this.toggleIPNTabClickEventListener("on");
this.newTabsTitlesList=[];
},clearIPNTabs:function(){
curam.debug.log("curam.UIMController.createIPNTabs: "+_aad.getProperty("curam.UIMController.clearing.tabs")+this.oldTabsTitlesList);
this.toggleIPNTabClickEventListener("off");
this.tabController.destroyDescendants();
this.tabController.selectedChildWidget=null;
this.oldTabsTitlesList=[];
this.toggleIPNTabClickEventListener("on");
curam.debug.log("curam.UIMController.createIPNTabs: "+_aad.getProperty("curam.UIMController.clearing.notify")+this.oldTabsTitlesList);
},compareLists:function(_ab9,_aba){
curam.debug.log("curam.UIMController.compareLists: "+_aad.getProperty("curam.UIMController.comparing.tabs"));
curam.debug.log(_aad.getProperty("curam.UIMController.tab.list1")+_ab9);
curam.debug.log(_aad.getProperty("curam.UIMController.tab.list1")+_aba);
var _abb=true;
if(_ab9.length!=_aba.length){
_abb=false;
}
for(var i=0;i<_ab9.length;i++){
if(_ab9[i]!=_aba[i]){
_abb=false;
}
}
curam.debug.log(_aad.getProperty("curam.UIMController.result")+_abb);
return _abb;
},_getURLByTitle:function(_abc){
var url=null;
dojo.forEach(this.inPageNavItems,function(_abd){
if(_abd.title==_abc){
url=_abd.href;
}
});
curam.debug.log(url);
return url;
},_trimURL:function(href){
var idx=href.lastIndexOf("/");
if(idx>-1&&idx<=href.length){
return href.substring(idx+1);
}else{
return href;
}
},hasInPageNavigation:function(){
return this.inPageNavItems!=null;
},getIFrame:function(){
return this.frame;
},loadPage:function(_abe){
if(typeof (this.url)=="undefined"||this.url==null){
var e=new Error("curam.UIMController: Cannot load page as URL has not been set");
if(_abe){
_abe.errback(e);
}
throw e;
}
if(_abe){
var st=curam.util.subscribe(this.TOPIC_LOADED,function(){
curam.util.unsubscribe(st);
_abe.callback();
});
}
var _abf=this._getFullURL();
curam.debug.log("curam.UIMController.loadPage(): "+_aad.getProperty("curam.UIMController.set.source")+this.frame.id+" to url: "+_abf);
dojo.attr(this.frame,"src",_abf);
},_getFullURL:function(){
if(typeof (this.absoluteURL)!="undefined"&&this.absoluteURL==true){
return this.url;
}
var _ac0;
if(this.url.indexOf("?")==-1){
_ac0="?";
}else{
_ac0="&";
}
var _ac1=curam.config?curam.config.locale:jsL;
var _ac2="";
if(window==curam.util.getTopmostWindow()){
_ac2=_ac1+"/";
}
if(this.url.indexOf("o3nocache=")==-1){
return _ac2+this.url+_ac0+curam.util.getCacheBusterParameter();
}else{
return _ac2+this.url;
}
},showTabContainer:function(show){
if(show&&!this.hasInPageNavigation()){
curam.debug.log(_aad.getProperty("curam.UIMController.ignore.reuest"));
return;
}
dojo.style(this.frameWrapper,"top",(show?this.TAB_HEIGHT+7:"0")+"px");
dojo.style(this.tabController.domNode,"display",show?"block":"none");
if(show){
this.tabController.resize();
}
},setDimensionsForModalDialog:function(w,h,_ac3){
curam.debug.log("curam.UIMController:setDimensionsForModalDialog() - "+"w="+w+", h="+h);
dojo.style(this.frame,{width:w+"px",height:h+"px"});
dojo.style(this.tabController.domNode,{width:w+"px"});
if(typeof (_ac3.inPageNavItems)!="undefined"){
h+=this.TAB_HEIGHT+5;
curam.debug.log("cura.UIMController:setDimensionsForModalDialog() - "+_aad.getProperty("curam.UIMController.height"));
}
dojo.style(this.domNode,{width:w+"px",height:h+"px"});
},destroy:function(){
this.iframe=null;
this.inPageNavItems=null;
dojo.unsubscribe(this.handleIPNTabClickListener);
this.tabController.destroy();
this.inherited(arguments);
}});
return _aae;
});
},"curam/debug":function(){
define("curam/debug",["curam/define"],function(){
curam.define.singleton("curam.debug",{log:function(){
if(curam.debug.enabled()){
try{
var a=arguments;
if(!dojo.isIE){
console.log.apply(console,a);
}else{
var _ac4=a.length;
var sa=curam.debug._serializeArgument;
switch(_ac4){
case 1:
console.log(arguments[0]);
break;
case 2:
console.log(a[0],sa(a[1]));
break;
case 3:
console.log(a[0],sa(a[1]),sa(a[2]));
break;
case 4:
console.log(a[0],sa(a[1]),sa(a[2]),sa(a[3]));
break;
case 5:
console.log(a[0],sa(a[1]),sa(a[2]),sa(a[3]),sa(a[4]));
break;
case 6:
console.log(a[0],sa(a[1]),sa(a[2]),sa(a[3]),sa(a[4]),sa(a[5]));
break;
default:
console.log("[Incomplete message - "+(_ac4-5)+" message a truncated] "+a[0],sa(a[1]),sa(a[2]),sa(a[3]),sa(a[4]),sa(a[5]));
}
}
}
catch(e){
console.log(e);
}
}
},_serializeArgument:function(arg){
if(typeof arg!="undefined"&&typeof arg.nodeType!="undefined"&&typeof arg.cloneNode!="undefined"){
return ""+arg;
}else{
if(curam.debug._isWindow(arg)){
return arg.location.href;
}else{
if(curam.debug._isArray(arg)&&curam.debug._isWindow(arg[0])){
return "[array of window objects, length "+arg.length+"]";
}else{
return dojo.toJson(arg);
}
}
}
},_isArray:function(arg){
return typeof arg!="undefined"&&(dojo.isArray(arg)||typeof arg.length!="undefined");
},_isWindow:function(arg){
var _ac5=typeof arg!="undefined"&&typeof arg.closed!="undefined"&&arg.closed;
if(_ac5){
return true;
}else{
return typeof arg!="undefined"&&typeof arg.location!="undefined"&&typeof arg.navigator!="undefined"&&typeof arg.document!="undefined"&&typeof arg.closed!="undefined";
}
},enabled:function(){
return typeof (DEBUG)!="undefined"&&DEBUG==true;
}});
return curam.debug;
});
},"dijit/form/ComboBox":function(){
define("dijit/form/ComboBox",["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_ac6,_ac7,_ac8){
return _ac6("dijit.form.ComboBox",[_ac7,_ac8],{});
});
},"dijit/DropDownMenu":function(){
require({cache:{"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n"}});
define("dijit/DropDownMenu",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_ac9,_aca,keys,_acb,_acc,_acd){
return _ac9("dijit.DropDownMenu",[_acd,_acc],{templateString:_acb,baseClass:"dijitMenu",postCreate:function(){
var l=this.isLeftToRight();
this._openSubMenuKey=l?keys.RIGHT_ARROW:keys.LEFT_ARROW;
this._closeSubMenuKey=l?keys.LEFT_ARROW:keys.RIGHT_ARROW;
this.connectKeyNavHandlers([keys.UP_ARROW],[keys.DOWN_ARROW]);
},_onKeyPress:function(evt){
if(evt.ctrlKey||evt.altKey){
return;
}
switch(evt.charOrCode){
case this._openSubMenuKey:
this._moveToPopup(evt);
_aca.stop(evt);
break;
case this._closeSubMenuKey:
if(this.parentMenu){
if(this.parentMenu._isMenuBar){
this.parentMenu.focusPrev();
}else{
this.onCancel(false);
}
}else{
_aca.stop(evt);
}
break;
}
}});
});
},"dijit/form/_FormMixin":function(){
define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/window"],function(_ace,_acf,_ad0,lang,_ad1){
return _acf("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_ad2){
var res=[];
_ace.forEach(_ad2||this.getChildren(),function(_ad3){
if("value" in _ad3){
res.push(_ad3);
}else{
res=res.concat(this._getDescendantFormWidgets(_ad3.getChildren()));
}
},this);
return res;
},reset:function(){
_ace.forEach(this._getDescendantFormWidgets(),function(_ad4){
if(_ad4.reset){
_ad4.reset();
}
});
},validate:function(){
var _ad5=false;
return _ace.every(_ace.map(this._getDescendantFormWidgets(),function(_ad6){
_ad6._hasBeenBlurred=true;
var _ad7=_ad6.disabled||!_ad6.validate||_ad6.validate();
if(!_ad7&&!_ad5){
_ad1.scrollIntoView(_ad6.containerNode||_ad6.domNode);
_ad6.focus();
_ad5=true;
}
return _ad7;
}),function(item){
return item;
});
},setValues:function(val){
_ad0.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");
return this.set("value",val);
},_setValueAttr:function(obj){
var map={};
_ace.forEach(this._getDescendantFormWidgets(),function(_ad8){
if(!_ad8.name){
return;
}
var _ad9=map[_ad8.name]||(map[_ad8.name]=[]);
_ad9.push(_ad8);
});
for(var name in map){
if(!map.hasOwnProperty(name)){
continue;
}
var _ada=map[name],_adb=lang.getObject(name,false,obj);
if(_adb===undefined){
continue;
}
if(!lang.isArray(_adb)){
_adb=[_adb];
}
if(typeof _ada[0].checked=="boolean"){
_ace.forEach(_ada,function(w){
w.set("value",_ace.indexOf(_adb,w.value)!=-1);
});
}else{
if(_ada[0].multiple){
_ada[0].set("value",_adb);
}else{
_ace.forEach(_ada,function(w,i){
w.set("value",_adb[i]);
});
}
}
}
},getValues:function(){
_ad0.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");
return this.get("value");
},_getValueAttr:function(){
var obj={};
_ace.forEach(this._getDescendantFormWidgets(),function(_adc){
var name=_adc.name;
if(!name||_adc.disabled){
return;
}
var _add=_adc.get("value");
if(typeof _adc.checked=="boolean"){
if(/Radio/.test(_adc.declaredClass)){
if(_add!==false){
lang.setObject(name,_add,obj);
}else{
_add=lang.getObject(name,false,obj);
if(_add===undefined){
lang.setObject(name,null,obj);
}
}
}else{
var ary=lang.getObject(name,false,obj);
if(!ary){
ary=[];
lang.setObject(name,ary,obj);
}
if(_add!==false){
ary.push(_add);
}
}
}else{
var prev=lang.getObject(name,false,obj);
if(typeof prev!="undefined"){
if(lang.isArray(prev)){
prev.push(_add);
}else{
lang.setObject(name,[prev,_add],obj);
}
}else{
lang.setObject(name,_add,obj);
}
}
});
return obj;
},isValid:function(){
return this.state=="";
},onValidStateChange:function(){
},_getState:function(){
var _ade=_ace.map(this._descendants,function(w){
return w.get("state")||"";
});
return _ace.indexOf(_ade,"Error")>=0?"Error":_ace.indexOf(_ade,"Incomplete")>=0?"Incomplete":"";
},disconnectChildren:function(){
_ace.forEach(this._childConnections||[],lang.hitch(this,"disconnect"));
_ace.forEach(this._childWatches||[],function(w){
w.unwatch();
});
},connectChildren:function(_adf){
var _ae0=this;
this.disconnectChildren();
this._descendants=this._getDescendantFormWidgets();
var set=_adf?function(name,val){
_ae0[name]=val;
}:lang.hitch(this,"_set");
set("value",this.get("value"));
set("state",this._getState());
var _ae1=(this._childConnections=[]),_ae2=(this._childWatches=[]);
_ace.forEach(_ace.filter(this._descendants,function(item){
return item.validate;
}),function(_ae3){
_ace.forEach(["state","disabled"],function(attr){
_ae2.push(_ae3.watch(attr,function(){
_ae0.set("state",_ae0._getState());
}));
});
});
var _ae4=function(){
if(_ae0._onChangeDelayTimer){
clearTimeout(_ae0._onChangeDelayTimer);
}
_ae0._onChangeDelayTimer=setTimeout(function(){
delete _ae0._onChangeDelayTimer;
_ae0._set("value",_ae0.get("value"));
},10);
};
_ace.forEach(_ace.filter(this._descendants,function(item){
return item.onChange;
}),function(_ae5){
_ae1.push(_ae0.connect(_ae5,"onChange",_ae4));
_ae2.push(_ae5.watch("disabled",_ae4));
});
},startup:function(){
this.inherited(arguments);
this.connectChildren(true);
this.watch("state",function(attr,_ae6,_ae7){
this.onValidStateChange(_ae7=="");
});
},destroy:function(){
this.disconnectChildren();
this.inherited(arguments);
}});
});
},"dojo/data/util/simpleFetch":function(){
define("dojo/data/util/simpleFetch",["dojo/_base/lang","dojo/_base/window","./sorter"],function(lang,_ae8,_ae9){
var _aea=lang.getObject("dojo.data.util.simpleFetch",true);
_aea.fetch=function(_aeb){
_aeb=_aeb||{};
if(!_aeb.store){
_aeb.store=this;
}
var self=this;
var _aec=function(_aed,_aee){
if(_aee.onError){
var _aef=_aee.scope||_ae8.global;
_aee.onError.call(_aef,_aed,_aee);
}
};
var _af0=function(_af1,_af2){
var _af3=_af2.abort||null;
var _af4=false;
var _af5=_af2.start?_af2.start:0;
var _af6=(_af2.count&&(_af2.count!==Infinity))?(_af5+_af2.count):_af1.length;
_af2.abort=function(){
_af4=true;
if(_af3){
_af3.call(_af2);
}
};
var _af7=_af2.scope||_ae8.global;
if(!_af2.store){
_af2.store=self;
}
if(_af2.onBegin){
_af2.onBegin.call(_af7,_af1.length,_af2);
}
if(_af2.sort){
_af1.sort(_ae9.createSortFunction(_af2.sort,self));
}
if(_af2.onItem){
for(var i=_af5;(i<_af1.length)&&(i<_af6);++i){
var item=_af1[i];
if(!_af4){
_af2.onItem.call(_af7,item,_af2);
}
}
}
if(_af2.onComplete&&!_af4){
var _af8=null;
if(!_af2.onItem){
_af8=_af1.slice(_af5,_af6);
}
_af2.onComplete.call(_af7,_af8,_af2);
}
};
this._fetchItems(_aeb,_af0,_aec);
return _aeb;
};
return _aea;
});
},"url:curam/layout/resources/UIMController.html":"<div id=\"uimcontroller_${uid}\" class=\"uimcontroller_${uid} uimController ${classList}\" data-dojo-attach-point=\"uimController\">\r\n  <div style=\"display:none;\" \r\n       id=\"uimcontroller_tc_${uid}\" \r\n       class=\"ipnTabController in-page-nav-tabContainer\"\r\n       data-dojo-attach-point=\"tabController\" \r\n       data-dojo-type=\"curam.layout.TabContainer\">\r\n  </div>\r\n  <div class=\"contentPanelFrameWrapper\"  \r\n        data-dojo-attach-point=\"frameWrapper\">\r\n    <iframe frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\"\r\n             allowTransparency=\"true\" \r\n             id=\"${iframeId}\" \r\n             data-dojo-attach-point=\"frame\"                 \r\n             class=\"${iframeId} ${iframeClassList}\"\r\n             iscpiframe=\"${iscpiframe}\"\r\n             title=\"${title}\" >\r\n    </iframe>\r\n  </div> \r\n</div>","dijit/Menu":function(){
define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_af9,_afa,_afb,_afc,dom,_afd,_afe,_aff,_b00,keys,lang,on,has,win,_b01,pm,_b02,_b03){
if(!_b00.isAsync){
_b03(0,function(){
var _b04=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];
_af9(_b04);
});
}
return _afb("dijit.Menu",_b02,{constructor:function(){
this._bindings=[];
},targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){
if(this.contextMenuForWindow){
this.bindDomNode(win.body());
}else{
_afa.forEach(this.targetNodeIds,this.bindDomNode,this);
}
this.inherited(arguments);
},_iframeContentWindow:function(_b05){
return _b01.get(this._iframeContentDocument(_b05))||this._iframeContentDocument(_b05)["__parent__"]||(_b05.name&&win.doc.frames[_b05.name])||null;
},_iframeContentDocument:function(_b06){
return _b06.contentDocument||(_b06.contentWindow&&_b06.contentWindow.document)||(_b06.name&&win.doc.frames[_b06.name]&&win.doc.frames[_b06.name].document)||null;
},bindDomNode:function(node){
node=dom.byId(node);
var cn;
if(node.tagName.toLowerCase()=="iframe"){
var _b07=node,_b08=this._iframeContentWindow(_b07);
cn=win.withGlobal(_b08,win.body);
}else{
cn=(node==win.body()?win.doc.documentElement:node);
}
var _b09={node:node,iframe:_b07};
_afd.set(node,"_dijitMenu"+this.id,this._bindings.push(_b09));
var _b0a=lang.hitch(this,function(cn){
return [on(cn,this.leftClickToOpen?"click":"contextmenu",lang.hitch(this,function(evt){
_afc.stop(evt);
this._scheduleOpen(evt.target,_b07,{x:evt.pageX,y:evt.pageY});
})),on(cn,"keydown",lang.hitch(this,function(evt){
if(evt.shiftKey&&evt.keyCode==keys.F10){
_afc.stop(evt);
this._scheduleOpen(evt.target,_b07);
}
}))];
});
_b09.connects=cn?_b0a(cn):[];
if(_b07){
_b09.onloadHandler=lang.hitch(this,function(){
var _b0b=this._iframeContentWindow(_b07);
cn=win.withGlobal(_b0b,win.body);
_b09.connects=_b0a(cn);
});
if(_b07.addEventListener){
_b07.addEventListener("load",_b09.onloadHandler,false);
}else{
_b07.attachEvent("onload",_b09.onloadHandler);
}
}
},unBindDomNode:function(_b0c){
var node;
try{
node=dom.byId(_b0c);
}
catch(e){
return;
}
var _b0d="_dijitMenu"+this.id;
if(node&&_afd.has(node,_b0d)){
var bid=_afd.get(node,_b0d)-1,b=this._bindings[bid],h;
while(h=b.connects.pop()){
h.remove();
}
var _b0e=b.iframe;
if(_b0e){
if(_b0e.removeEventListener){
_b0e.removeEventListener("load",b.onloadHandler,false);
}else{
_b0e.detachEvent("onload",b.onloadHandler);
}
}
_afd.remove(node,_b0d);
delete this._bindings[bid];
}
},_scheduleOpen:function(_b0f,_b10,_b11){
if(!this._openTimer){
this._openTimer=setTimeout(lang.hitch(this,function(){
delete this._openTimer;
this._openMyself({target:_b0f,iframe:_b10,coords:_b11});
}),1);
}
},_openMyself:function(args){
var _b12=args.target,_b13=args.iframe,_b14=args.coords;
if(_b14){
if(_b13){
var ifc=_afe.position(_b13,true),_b15=this._iframeContentWindow(_b13),_b16=win.withGlobal(_b15,"_docScroll",dojo);
var cs=_aff.getComputedStyle(_b13),tp=_aff.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_b13,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_b13,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_b13,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_b13,cs.borderTopWidth):0);
_b14.x+=ifc.x+left-_b16.x;
_b14.y+=ifc.y+top-_b16.y;
}
}else{
_b14=_afe.position(_b12,true);
_b14.x+=10;
_b14.y+=10;
}
var self=this;
var _b17=this._focusManager.get("prevNode");
var _b18=this._focusManager.get("curNode");
var _b19=!_b18||(dom.isDescendant(_b18,this.domNode))?_b17:_b18;
function _b1a(){
if(self.refocus&&_b19){
_b19.focus();
}
pm.close(self);
};
pm.open({popup:this,x:_b14.x,y:_b14.y,onExecute:_b1a,onCancel:_b1a,orient:this.isLeftToRight()?"L":"R"});
this.focus();
this._onBlur=function(){
this.inherited("_onBlur",arguments);
pm.close(this);
};
},uninitialize:function(){
_afa.forEach(this._bindings,function(b){
if(b){
this.unBindDomNode(b.node);
}
},this);
this.inherited(arguments);
}});
});
},"curam/widget/DivButton":function(){
require({cache:{"url:curam/widget/resources/DivButton.html":"<div id=\"${id}\" class=\"${className}\" dojoAttachEvent=\"onclick:onClick\" dojoAttachPoint=\"containerNode\"></div>\r\n\r\n {\r\n      templateString: \"<div id='${id}' class='${className}' \"\r\n            + \"dojoAttachEvent='onclick:onClick' dojoAttachPoint='containerNode'></div>\"\r\n    }\r\n\r\n"}});
define("curam/widget/DivButton",["curam/util","curam/matrix/Constants","dojo/text!curam/widget/resources/DivButton.html","dijit/_Widget","dijit/_Templated"],function(util,_b1b,_b1c){
var _b1d=dojo.declare("curam.widget.DivButtonBase",dijit._Widget,{isContainer:true,disabled:false,menuId:"",id:"",className:"",postCreate:function(args,frag){
this.sizeMyself();
dijit.byId(this.menuId).bindDomNode(this.domNode);
util.connect(this.domNode,"onclick",dojo.hitch(this,this.onClick));
if(this.className){
dojo.addClass(this.domNode,this.className);
}
if(!this.containerNode){
this.containerNode=this.domNode;
}
},setActiveMenuId:function(){
if(this.domNode.id&&this.domNode.id.length>0&&!dojo.hasClass(this.domNode,"image")){
window.activeMenuID=this.domNode.id;
}else{
window.activeMenuID=this.domNode.parentNode.id;
}
},sizeMyself:function(){
if(this.domNode.parentNode){
var _b1e=dojo.create("span",{},this.domNode,"before");
}
dojo.body().appendChild(this.domNode);
if(_b1e){
dojo.place(this.domNode,_b1e,"before");
dojo.destroy(_b1e);
}
},sizeMyselfHelper:function(){
var mb=dojo.marginBox(this.containerNode);
this.height=mb.h;
this.containerWidth=mb.w;
dojo.style(this.domNode,"width",this.containerWidth+"px");
},onClick:function(e){
if(!this.disabled){
this._toggleMenu(this.menuId,e);
}
},_checkValidation:function(menu){
if(_b1b.container.matrix.isValidationActive()){
if(menu.isShowingNow){
menu.close();
}
return false;
}
return true;
},_setActiveMenu:function(_b1f){
var menu=dijit.byId(_b1f);
if(!menu){
return;
}
if(menu.isShowingNow){
this.setActiveMenuId();
}
},_toggleMenu:function(_b20,_b21){
this._setActiveMenu(_b20);
dijit.byId(_b20).setButton(this);
}});
var _b22=dojo.declare("curam.widget.DivButton",[curam.widget.DivButtonBase,dijit._Templated],{templateString:_b1c});
dojo.declare("curam.widget.QuestionButton",curam.widget.DivButtonBase,{postCreate:function(){
this.className+="number number-col-eval q-ct-eval-"+this.qId;
util.connect(this.domNode,"onmouseover",dojo.hitch(this,this.onMouseOver));
this.inherited(arguments);
},onMouseOver:function(_b23){
curam.matrix.util.buttonMouseOver(_b23);
},_toggleMenu:function(_b24,_b25){
this._setActiveMenu(_b24);
dijit.byId(_b24).setButton(this);
},setActiveMenuId:function(){
window.activeMenuID=this.domNode.parentNode.id;
}});
dojo.declare("curam.widget.AnswerButton",curam.widget.DivButtonBase,{className:"image",_toggleMenu:function(_b26,_b27){
this._setActiveMenu(_b26);
var menu=dijit.byId(_b26);
var node=_b27.target?_b27.target:_b27;
if(!menu){
return;
}
if(!this._checkValidation(menu)){
return;
}
menu.setButton(this);
if(node){
if((!node.id||!node.id.indexOf("ans-")==0)&&node.parentNode&&node.parentNode.id){
menu.answerId=node.parentNode.id;
}else{
menu.answerId=node.id;
}
}else{
menu.answerId=null;
}
},setActiveMenuId:function(){
window.activeMenuID=this.domNode.parentNode.id;
}});
dojo.declare("curam.widget.CombinationButton",curam.widget.DivButtonBase,{className:"image",_toggleMenu:function(_b28,_b29){
this._setActiveMenu(_b28);
dijit.byId(_b28).setButton(this);
var node=_b29.target?_b29.target:_b29;
var menu=dijit.byId(_b28);
if(!menu){
return;
}
if(!this._checkValidation(menu)){
return;
}
if(node){
if(node.cellId&&node.cellId.length>0){
menu.combinationId=node.cellId;
}else{
if(node.id&&node.id.length>0&&!dojo.hasClass(node,"image")){
menu.combinationId=node.id;
}else{
if(node.parentNode){
menu.combinationId=node.parentNode.id;
}else{
menu.combinationId=node.cellId;
}
}
}
}else{
menu.combinationId=null;
}
}});
dojo.declare("curam.widget.PriorityButton",curam.widget.DivButtonBase,{className:"column-id column-eval pri-col-eval",postCreate:function(){
dojo.attr(this.domNode,"id",this.id);
this.inherited(arguments);
},_toggleMenu:function(_b2a,_b2b){
this._setActiveMenu(_b2a);
dijit.byId(_b2a).setButton(this);
}});
dojo.declare("curam.widget.ScoreButton",curam.widget.PriorityButton,{});
return _b1d;
});
},"curam/layout/CuramTabContainer":function(){
define("curam/layout/CuramTabContainer",["dijit/layout/TabContainer","curam/layout/ScrollingTabController"],function(_b2c){
var _b2d=dojo.declare("curam.layout.CuramTabContainer",_b2c,{postMixInProperties:function(){
if(!this.controllerWidget){
this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?"curam.layout.ScrollingTabController":"dijit.layout.TabController";
}
this.inherited(arguments);
}});
return _b2d;
});
},"dijit/layout/ContentPane":function(){
define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/_base/window","dojo/_base/xhr","dojo/i18n"],function(_b2e,lang,_b2f,_b30,_b31,html,_b32,_b33,_b34,_b35,dom,_b36,win,xhr,i18n){
var _b37=typeof (dojo.global.perf)!="undefined";
return _b34("dijit.layout.ContentPane",[_b2f,_b30],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_b2e._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,create:function(_b38,_b39){
if((!_b38||!_b38.template)&&_b39&&!("href" in _b38)&&!("content" in _b38)){
var df=win.doc.createDocumentFragment();
_b39=dom.byId(_b39);
while(_b39.firstChild){
df.appendChild(_b39.firstChild);
}
_b38=lang.delegate(_b38,{content:df});
}
this.inherited(arguments,[_b38,_b39]);
},postMixInProperties:function(){
this.inherited(arguments);
var _b3a=i18n.getLocalization("dijit","loading",this.lang);
this.loadingMessage=_b31.substitute(this.loadingMessage,_b3a);
this.errorMessage=_b31.substitute(this.errorMessage,_b3a);
},buildRendering:function(){
this.inherited(arguments);
if(!this.containerNode){
this.containerNode=this.domNode;
}
this.domNode.title="";
if(!_b36.get(this.domNode,"role")){
this.domNode.setAttribute("role","group");
}
this.domNode.removeAttribute("title");
},startup:function(){
this.inherited(arguments);
if(this._contentSetter){
_b33.forEach(this._contentSetter.parseResults,function(obj){
if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
},this);
}
},setHref:function(href){
_b2e.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");
return this.set("href",href);
},_setHrefAttr:function(href){
this.cancel();
this.onLoadDeferred=new _b35(lang.hitch(this,"cancel"));
this.onLoadDeferred.addCallback(lang.hitch(this,"onLoad"));
this._set("href",href);
if(this.preload||(this._created&&this._isShown())){
this._load();
}else{
this._hrefChanged=true;
}
return this.onLoadDeferred;
},setContent:function(data){
_b2e.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");
this.set("content",data);
},_setContentAttr:function(data){
this._set("href","");
this.cancel();
this.onLoadDeferred=new _b35(lang.hitch(this,"cancel"));
if(this._created){
this.onLoadDeferred.addCallback(lang.hitch(this,"onLoad"));
}
this._setContent(data||"");
this._isDownloaded=false;
return this.onLoadDeferred;
},_getContentAttr:function(){
return this.containerNode.innerHTML;
},cancel:function(){
if(this._xhrDfd&&(this._xhrDfd.fired==-1)){
this._xhrDfd.cancel();
}
delete this._xhrDfd;
this.onLoadDeferred=null;
},uninitialize:function(){
if(this._beingDestroyed){
this.cancel();
}
this.inherited(arguments);
},destroyRecursive:function(_b3b){
if(this._beingDestroyed){
return;
}
this.inherited(arguments);
},_onShow:function(){
this.inherited(arguments);
if(this.href){
if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){
return this.refresh();
}
}
},refresh:function(){
this.cancel();
this.onLoadDeferred=new _b35(lang.hitch(this,"cancel"));
this.onLoadDeferred.addCallback(lang.hitch(this,"onLoad"));
this._load();
return this.onLoadDeferred;
},_load:function(){
if(_b37){
perf.widgetStartedLoadingCallback();
}
this._setContent(this.onDownloadStart(),true);
var self=this;
var _b3c={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};
if(lang.isObject(this.ioArgs)){
lang.mixin(_b3c,this.ioArgs);
}
var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_b3c));
hand.addCallback(function(html){
try{
self._isDownloaded=true;
self._setContent(html,false);
self.onDownloadEnd();
}
catch(err){
self._onError("Content",err);
}
if(_b37){
perf.widgetLoadedCallback(self);
}
delete self._xhrDfd;
return html;
});
hand.addErrback(function(err){
if(!hand.canceled){
self._onError("Download",err);
}
delete self._xhrDfd;
return err;
});
delete this._hrefChanged;
},_onLoadHandler:function(data){
this._set("isLoaded",true);
try{
this.onLoadDeferred.callback(data);
}
catch(e){
console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);
}
},_onUnloadHandler:function(){
this._set("isLoaded",false);
try{
this.onUnload();
}
catch(e){
console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);
}
},destroyDescendants:function(_b3d){
if(this.isLoaded){
this._onUnloadHandler();
}
var _b3e=this._contentSetter;
_b33.forEach(this.getChildren(),function(_b3f){
if(_b3f.destroyRecursive){
_b3f.destroyRecursive(_b3d);
}
});
if(_b3e){
_b33.forEach(_b3e.parseResults,function(_b40){
if(_b40.destroyRecursive&&_b40.domNode&&_b40.domNode.parentNode==win.body()){
_b40.destroyRecursive(_b3d);
}
});
delete _b3e.parseResults;
}
if(!_b3d){
html._emptyNode(this.containerNode);
}
delete this._singleChild;
},_setContent:function(cont,_b41){
this.destroyDescendants();
var _b42=this._contentSetter;
if(!(_b42&&_b42 instanceof html._ContentSetter)){
_b42=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){
var _b43=this.onContentError(e);
try{
this.containerNode.innerHTML=_b43;
}
catch(e){
console.error("Fatal "+this.id+" could not change content due to "+e.message,e);
}
})});
}
var _b44=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});
_b42.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_b44);
delete this._contentSetterParams;
if(this.doLayout){
this._checkIfSingleChild();
}
if(!_b41){
if(this._started){
delete this._started;
this.startup();
this._scheduleLayout();
}
this._onLoadHandler(cont);
}
},_onError:function(type,err,_b45){
this.onLoadDeferred.errback(err);
var _b46=this["on"+type+"Error"].call(this,err);
if(_b45){
console.error(_b45,err);
}else{
if(_b46){
this._setContent(_b46,true);
}
}
},onLoad:function(){
},onUnload:function(){
},onDownloadStart:function(){
return this.loadingMessage;
},onContentError:function(){
},onDownloadError:function(){
return this.errorMessage;
},onDownloadEnd:function(){
}});
});
},"curam/util/RuntimeContext":function(){
define("curam/util/RuntimeContext",[],function(){
var _b47=dojo.declare("curam.util.RuntimeContext",null,{_window:null,constructor:function(_b48){
this._window=_b48;
},getHref:function(){
return this._window.location.href;
},getPathName:function(){
return this._window.location.pathName;
},contextObject:function(){
return this._window;
}});
return _b47;
});
},"url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","dijit/layout/utils":function(){
define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang",".."],function(_b49,_b4a,_b4b,_b4c,lang,_b4d){
var _b4e=lang.getObject("layout",true,_b4d);
_b4e.marginBox2contentBox=function(node,mb){
var cs=_b4c.getComputedStyle(node);
var me=_b4b.getMarginExtents(node,cs);
var pb=_b4b.getPadBorderExtents(node,cs);
return {l:_b4c.toPixelValue(node,cs.paddingLeft),t:_b4c.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};
};
function _b4f(word){
return word.substring(0,1).toUpperCase()+word.substring(1);
};
function size(_b50,dim){
var _b51=_b50.resize?_b50.resize(dim):_b4b.setMarginBox(_b50.domNode,dim);
if(_b50.fakeWidget){
return;
}
if(_b51){
lang.mixin(_b50,_b51);
}else{
lang.mixin(_b50,_b4b.getMarginBoxSimple(_b50.domNode));
lang.mixin(_b50,dim);
}
};
_b4e.layoutChildren=function(_b52,dim,_b53,_b54,_b55){
dim=lang.mixin({},dim);
_b4a.add(_b52,"dijitLayoutContainer");
_b53=_b49.filter(_b53,function(item){
return item.region!="center"&&item.layoutAlign!="client";
}).concat(_b49.filter(_b53,function(item){
return item.region=="center"||item.layoutAlign=="client";
}));
var _b56={};
_b49.forEach(_b53,function(_b57){
var elm=_b57.domNode,pos=(_b57.region||_b57.layoutAlign);
if(!pos){
throw new Error("No region setting for "+_b57.id);
}
var _b58=elm.style;
_b58.left=dim.l+"px";
_b58.top=dim.t+"px";
_b58.position="absolute";
_b4a.add(elm,"dijitAlign"+_b4f(pos));
var _b59={};
if(_b54&&_b54==_b57.id){
_b59[_b57.region=="top"||_b57.region=="bottom"?"h":"w"]=_b55;
}
if(pos=="top"||pos=="bottom"){
_b59.w=dim.w;
size(_b57,_b59);
dim.h-=_b57.h;
if(pos=="top"){
dim.t+=_b57.h;
}else{
_b58.top=dim.t+dim.h+"px";
}
}else{
if(pos=="left"||pos=="right"){
_b59.h=dim.h;
size(_b57,_b59);
dim.w-=_b57.w;
if(pos=="left"){
dim.l+=_b57.w;
}else{
_b58.left=dim.l+dim.w+"px";
}
}else{
if(pos=="client"||pos=="center"){
size(_b57,dim);
}
}
}
_b56[pos]={w:dim.w,h:dim.h};
});
return _b56;
};
return {marginBox2contentBox:_b4e.marginBox2contentBox,layoutChildren:_b4e.layoutChildren};
});
},"dijit/_Contained":function(){
define("dijit/_Contained",["dojo/_base/declare","./registry"],function(_b5a,_b5b){
return _b5a("dijit._Contained",null,{_getSibling:function(_b5c){
var node=this.domNode;
do{
node=node[_b5c+"Sibling"];
}while(node&&node.nodeType!=1);
return node&&_b5b.byNode(node);
},getPreviousSibling:function(){
return this._getSibling("previous");
},getNextSibling:function(){
return this._getSibling("next");
},getIndexInParent:function(){
var p=this.getParent();
if(!p||!p.getIndexOfChild){
return -1;
}
return p.getIndexOfChild(this);
}});
});
},"dijit/_KeyNavContainer":function(){
define("dijit/_KeyNavContainer",["dojo/_base/kernel","./_Container","./_FocusMixin","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/event","dojo/dom-attr","dojo/_base/lang"],function(_b5d,_b5e,_b5f,_b60,keys,_b61,_b62,_b63,lang){
return _b61("dijit._KeyNavContainer",[_b5f,_b5e],{tabIndex:"0",connectKeyNavHandlers:function(_b64,_b65){
var _b66=(this._keyNavCodes={});
var prev=lang.hitch(this,"focusPrev");
var next=lang.hitch(this,"focusNext");
_b60.forEach(_b64,function(code){
_b66[code]=prev;
});
_b60.forEach(_b65,function(code){
_b66[code]=next;
});
_b66[keys.HOME]=lang.hitch(this,"focusFirstChild");
_b66[keys.END]=lang.hitch(this,"focusLastChild");
this.connect(this.domNode,"onkeypress","_onContainerKeypress");
this.connect(this.domNode,"onfocus","_onContainerFocus");
},startupKeyNavChildren:function(){
_b5d.deprecated("startupKeyNavChildren() call no longer needed","","2.0");
},startup:function(){
this.inherited(arguments);
_b60.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));
},addChild:function(_b67,_b68){
this.inherited(arguments);
this._startupChild(_b67);
},focus:function(){
this.focusFirstChild();
},focusFirstChild:function(){
this.focusChild(this._getFirstFocusableChild());
},focusLastChild:function(){
this.focusChild(this._getLastFocusableChild());
},focusNext:function(){
this.focusChild(this._getNextFocusableChild(this.focusedChild,1));
},focusPrev:function(){
this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);
},focusChild:function(_b69,last){
if(!_b69){
return;
}
if(this.focusedChild&&_b69!==this.focusedChild){
this._onChildBlur(this.focusedChild);
}
_b69.set("tabIndex",this.tabIndex);
_b69.focus(last?"end":"start");
this._set("focusedChild",_b69);
},_startupChild:function(_b6a){
_b6a.set("tabIndex","-1");
this.connect(_b6a,"_onFocus",function(){
_b6a.set("tabIndex",this.tabIndex);
});
this.connect(_b6a,"_onBlur",function(){
_b6a.set("tabIndex","-1");
});
},_onContainerFocus:function(evt){
if(evt.target!==this.domNode||this.focusedChild){
return;
}
this.focusFirstChild();
_b63.set(this.domNode,"tabIndex","-1");
},_onBlur:function(evt){
if(this.tabIndex){
_b63.set(this.domNode,"tabIndex",this.tabIndex);
}
this.focusedChild=null;
this.inherited(arguments);
},_onContainerKeypress:function(evt){
if(evt.ctrlKey||evt.altKey){
return;
}
var func=this._keyNavCodes[evt.charOrCode];
if(func){
func();
_b62.stop(evt);
}
},_onChildBlur:function(){
},_getFirstFocusableChild:function(){
return this._getNextFocusableChild(null,1);
},_getLastFocusableChild:function(){
return this._getNextFocusableChild(null,-1);
},_getNextFocusableChild:function(_b6b,dir){
if(_b6b){
_b6b=this._getSiblingOfChild(_b6b,dir);
}
var _b6c=this.getChildren();
for(var i=0;i<_b6c.length;i++){
if(!_b6b){
_b6b=_b6c[(dir>0)?0:(_b6c.length-1)];
}
if(_b6b.isFocusable()){
return _b6b;
}
_b6b=this._getSiblingOfChild(_b6b,dir);
}
return null;
}});
});
},"curam/ui/SectionShortcutsPanel":function(){
define("curam/ui/SectionShortcutsPanel",["curam/define","curam/tab","curam/util","curam/ui/UIController"],function(){
var _b6d=curam.define.singleton("curam.ui.SectionShortcutsPanel",{handleClickOnAnchorElement:function(_b6e,_b6f){
if(!_b6f){
curam.tab.getTabController().handleUIMPageID(_b6e);
}else{
curam.ui.SectionShortcutsPanel.openInModal(_b6e);
}
},handleClick:function(_b70,item){
var _b71=eval(_b70+"JsonStore");
var _b72=_b71.getValue(item,"pageID");
var _b73=_b71.getValue(item,"openInModal");
if(!_b73){
curam.tab.getTabController().handleUIMPageID(_b72);
}else{
curam.ui.SectionShortcutsPanel.openInModal(_b72);
}
},openInModal:function(_b74){
var _b75=_b74+"Page.do";
var _b76={};
curam.tab.getTabController().handleLinkClick(_b75,_b76);
},setupCleanupScript:function(_b77){
dojo.ready(function(){
var _b78=eval(_b77+"JsonStore");
dojo.addOnWindowUnload(function(){
_b78.close();
});
});
}});
return _b6d;
});
},"curam/util/WordFileEdit":function(){
define("curam/util/WordFileEdit",["curam/define","dijit/DialogUnderlay","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _b79=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.util.WordFileEdit",{_clickedFinish:false,_buttonIdPart:"__o3btn.",searchWindow:null,cantLoadControlMsg:"$unlocalized$ cannot load Word integration control",cantSubmitMsg:"$unlocalized$ cannot submit data",searchWindowTitlePrefix:"SEARCH",useApplet:(function(){
return typeof dojo.isIE=="undefined";
})(),controlAttributes:{},controlParameters:{},submitSaveWordFileEdit:function(_b7a,_b7b){
try{
var _b7c=curam.util.WordFileEdit.getParentWindow();
var _b7d=curam.util.WordFileEdit._findTextArea(_b7c,_b7a);
_b7d.value=_b7b;
_b7c.document.forms[0].submit();
}
catch(e){
alert("Error saving: "+dojo.toJson(e));
}
return;
},openWordFileEditWindow:function(_b7e,_b7f,_b80){
if(curam.util.WordFileEdit.getSearchPage().length>0){
curam.util.WordFileEdit.displaySearchWindow(_b7e,_b7f,_b80);
}else{
curam.util.WordFileEdit.doOpenWordFileEditWindow(_b7e,_b7f,_b80);
}
},doOpenWordFileEditWindow:function(_b81,_b82,_b83){
var _b84=100;
var _b85=100;
var _b86=Math.floor((screen.width-_b84)/2);
var _b87=Math.floor((screen.height-_b85)/2);
window.open("../word-file-edit.jsp?id="+_b81+"&document-field="+_b82+"&details-field="+_b83,new Date().valueOf(),"toolbar=no,menubar=no,location=no,scrollbars=no,"+"resizable=no,top="+_b87+",left="+_b86+",width="+_b84+",height="+_b85);
},displaySearchWindow:function(_b88,_b89,_b8a,_b8b){
if(!_b8b){
_b8b=0;
}
if(_b8b>3){
return;
}
if(_b8b==0){
curam.util.WordFileEdit.searchWindow=window.open("about:blank","searchWindow","left=40000,top=40000,scrollbars=yes");
}
var _b8c=false;
try{
var _b8d=curam.util.WordFileEdit.searchWindow.document.title;
if(_b8d.indexOf(searchWindowTitlePrefix+":")==-1){
curam.util.WordFileEdit.searchWindow.document.title=searchWindowTitlePrefix+":"+_b88;
}else{
_b8c=true;
}
_b8d=curam.util.WordFileEdit.searchWindow.document.title;
if(!_b8c&&_b8d.indexOf(searchWindowTitlePrefix+":")!=-1){
_b8c=true;
}
}
catch(e){
}
if(!_b8c){
_b8b++;
window.setTimeout("displaySearchWindow('"+_b88+"','"+_b89+"','"+_b8a+"',"+_b8b+")",500);
}else{
curam.util.WordFileEdit.doOpenWordFileEditWindow(_b88,_b89,_b8a);
}
},redisplaySearchWindow:function(_b8e,_b8f){
if(!_b8f){
_b8f=0;
}
if(_b8f>3){
return;
}
if(_b8f==0){
curam.util.WordFileEdit.searchWindow=window.open("about:blank","searchWindow","left=40000,top=40000");
}
var _b90=false;
try{
var _b91=curam.util.WordFileEdit.searchWindow.document.title;
if(_b91.indexOf(searchWindowTitlePrefix+":")==-1){
curam.util.WordFileEdit.searchWindow.document.title=searchWindowTitlePrefix+":"+_b8e;
}else{
_b90=true;
}
_b91=curam.util.WordFileEdit.searchWindow.document.title;
if(!_b90&&_b91.indexOf(searchWindowTitlePrefix+":")!=-1){
_b90=true;
}
}
catch(e){
}
if(!_b90){
_b8f++;
window.setTimeout("redisplaySearchWindow('"+_b8e+"',"+_b8f+")",500);
}
},getSearchPage:function(_b92){
var _b93="";
try{
if(!_b92){
_b93=document.getElementById("searchPage").value;
}else{
var _b94=curam.util.WordFileEdit.getParentWindow();
_b93=_b94.document.getElementById("searchPage").value;
}
}
catch(e){
}
return _b93;
},initialize:function(_b95){
var _b96=curam.util.WordFileEdit.getParentWindow();
try{
var _b97=dojo.byId(_b95);
if(typeof _b97!="undefined"){
curam.util.WordFileEdit._setOverlay(true);
if(curam.util.WordFileEdit.useApplet){
if(!dojo.isIE){
var _b98=_b96.frameElement;
curam.util.connect(_b98,"onload",function(evt){
var _b99=dojo.fixEvent(evt,_b98);
var url=_b98.contentWindow.location.href;
try{
_b97.mainApplicationPageLoaded(url);
}
catch(e){
alert("Error calling mainApplicationPageLoaded on applet: "+e.message);
}
});
_b96.top.dojo.addOnUnload(function(){
_b97.mainApplicationPageUnloaded();
});
}
}else{
_b97.openDocument();
}
}else{
curam.util.WordFileEdit._setOverlay(false);
curam.util.WordFileEdit.closeAppletWindow();
}
}
catch(e){
curam.util.WordFileEdit._setOverlay(false);
curam.util.WordFileEdit.closeAppletWindow();
_b96.curam.util.WordFileEdit.cannotLoadControl(e);
}
},_setOverlay:function(_b9a){
try{
var _b9b=curam.util.WordFileEdit.getParentWindow();
var _b9c=(_b9b!=null)?_b9b.curam.util.getTopmostWindow():curam.util.getTopmostWindow();
if(_b9c!=window){
_b9c.dojo.require("curam/util/WordFileEdit");
_b9c.curam.util.WordFileEdit._setOverlay(_b9a);
return;
}
if(!curam.util.WordFileEdit._overlay){
curam.util.WordFileEdit._overlay=new dijit.DialogUnderlay({dialogId:"dummy","class":"word-file-edit-overlay"});
}
var ovr=curam.util.WordFileEdit._overlay;
if(_b9a){
dojo.style(ovr.domNode,"zIndex",9999);
ovr.show();
}else{
ovr.hide();
}
}
catch(e){
alert("_setOverlay ERROR: "+e.message);
}
},cannotLoadControl:function(e){
var msg=dojo.isIE&&!curam.util.WordFileEdit.useApplet?curam.util.WordFileEdit.cantLoadControlMsgIE:curam.util.WordFileEdit.cantLoadControlMsg;
alert(msg+"\rERROR: "+e.message);
history.go(-1);
},setStatusTextWordFileEditWindow:function(text){
try{
document.getElementById("statustext").innerHTML=text;
}
catch(e){
}
},getWordFileEditParentTextareaValue:function(_b9d){
var _b9e="";
try{
var _b9f=curam.util.WordFileEdit.getParentWindow();
var _ba0=curam.util.WordFileEdit._findTextArea(_b9f,_b9d);
_b9e=_ba0.value;
}
catch(e){
alert("getWordFileEditParentTextareaValue('"+_b9d+"'): \r"+e.message);
}
return _b9e;
},_findTextArea:function(_ba1,_ba2,_ba3){
var _ba4=null;
if(!_ba3){
_ba4=_ba1.dojo.query("input[name='"+_ba2+"']",_ba1.dojo.body())[0];
}else{
_ba4=_ba1.dojo.query("input[name$='"+_ba2+"']",_ba1.dojo.body())[0];
}
return _ba4;
},finishedWordFileEditWindow:function(_ba5,_ba6,_ba7){
if(!curam.util.WordFileEdit._clickedFinish){
curam.util.WordFileEdit.doFinishWordFileEditWindow(_ba5,_ba6,_ba7);
curam.util.WordFileEdit._clickedFinish=true;
}
},doFinishWordFileEditWindow:function(_ba8,_ba9,_baa){
var _bab=false;
var _bac=false;
try{
var _bad=curam.util.WordFileEdit.getParentWindow();
if(_ba9&&_baa){
_bac=true;
var _bae=curam.util.WordFileEdit._findTextArea(_bad,_ba9);
_bae.value=_baa;
}
var _baf=_bad.dojo.query("form input");
for(var i=0;i<_baf.length&&!_bab;i++){
if(_baf[i].id.substring(0,curam.util.WordFileEdit._buttonIdPart.length).toLowerCase()==curam.util.WordFileEdit._buttonIdPart.toLowerCase()){
_bab=true;
if(!_bac){
var _bae=curam.util.WordFileEdit._findTextArea(_bad,_ba9);
_bae.value="";
var _bb0=false;
var _bb1;
var _bb2=_baf[i];
try{
while(_bb2.tagName.toUpperCase()!="BODY"&&!_bb0){
if(_bb2.tagName.toUpperCase()=="FORM"){
_bb0=true;
_bb1=_bb2;
}else{
_bb2=_bb2.parentElement;
}
}
}
catch(e){
alert("doFinishWordFileEditWindow: "+e.message);
}
if(_bb0){
var _bb3="<input type=\"hidden\" name=\"__o3NoSave\" value=\"true\"/>";
_bb1.innerHTML+=_bb3;
}
}
_bad.curam.util.clickButton(_baf[i].id);
if(_ba8.length>0){
_bad.document.body.innerHTML=_ba8;
}
curam.util.WordFileEdit._setOverlay(false);
return;
}
}
if(!_bab){
alert(curam.util.WordFileEdit.cantSubmitMsg);
try{
curam.util.WordFileEdit._setOverlay(false);
curam.util.WordFileEdit.closeAppletWindow();
}
catch(e){
}
}
}
catch(e){
alert("doFinishWordFileEditWindow: "+e.message);
curam.util.WordFileEdit._setOverlay(false);
curam.util.WordFileEdit.closeAppletWindow();
}
},screenAlertWordFileEditWindow:function(_bb4){
try{
curam.util.WordFileEdit.getParentWindow().alert(_bb4);
}
catch(e){
}
},hideSubmitButtons:function(){
dojo.query("a.ac").forEach(function(item){
item.style.display="none";
});
},getParentWindow:function(){
return window.opener;
},getUrls:function(){
try{
var _bb5=curam.util.WordFileEdit.getParentWindow();
var doc=_bb5.document;
var _bb6=doc.URL;
var _bb7=_bb5.dojo.query("form",doc)[0];
var _bb8=_bb7.action;
var _bb9=_bb6.substr(0,_bb6.lastIndexOf("/")+1);
window.curam.util.WordFileEdit.urlPath_return_value=_bb9;
var _bba=(dojo.isIE>=8)?_bb8:_bb9+_bb8;
window.curam.util.WordFileEdit.allowedUrl_return_value=_bba;
return [_bb9,_bba];
}
catch(e){
alert("getUrls: "+dojo.toJson(e));
}
},getTitle:function(){
var _bbb=curam.util.WordFileEdit.getParentWindow().top.document.title;
curam.util.WordFileEdit.title_return_value=_bbb;
window.curam_wordIntegration_title_return_value=_bbb;
return _bbb;
},setTitle:function(_bbc){
curam.util.WordFileEdit.getParentWindow().top.document.title=_bbc;
},hasNamedInput:function(_bbd){
var _bbe=curam.util.WordFileEdit.getParentWindow();
var _bbf=_bbd.slice(1);
var _bc0=curam.util.WordFileEdit._findTextArea(_bbe,_bbf,true);
return _bc0?true:false;
},closeAppletWindow:function(){
self.close();
},runApplet:function(id){
if(typeof deployJava!="undefined"){
var _bc1=deployJava.getPlugin();
if(_bc1){
curam.debug.log(_b79.getProperty("curam.util.WordFileEdit.version"),_bc1.version);
}else{
curam.debug.log(_b79.getProperty("curam.util.WordFileEdit.no.plugin"));
}
}else{
curam.debug.log(_b79.getProperty("curam.util.WordFileEdit.no.java"));
}
if(typeof deployJava=="undefined"||(!dojo.isChrome&&!deployJava.isPlugin2())){
alert(curam.util.WordFileEdit.noJavaInstalled);
}else{
dojo.mixin(curam.util.WordFileEdit.controlAttributes,{id:id});
var _bc2=dojo.create("div",{style:"display:none"});
var _bc3=dojo.create("applet",curam.util.WordFileEdit.controlAttributes,_bc2);
var _bc4=curam.util.WordFileEdit.controlParameters;
for(property in _bc4){
dojo.create("param",{name:property,value:_bc4[property]},_bc3);
}
var _bc5=_bc2.innerHTML;
dojo.destroy(_bc2);
document.write(_bc5);
}
}});
return curam.util.WordFileEdit;
});
},"dijit/form/DataList":function(){
define("dijit/form/DataList",["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_bc6,dom,lang,_bc7,_bc8,_bc9){
function _bca(_bcb){
return {id:_bcb.value,value:_bcb.value,name:lang.trim(_bcb.innerText||_bcb.textContent||"")};
};
return _bc6("dijit.form.DataList",_bc8,{constructor:function(_bcc,_bcd){
this.domNode=dom.byId(_bcd);
lang.mixin(this,_bcc);
if(this.id){
_bc9.add(this);
}
this.domNode.style.display="none";
this.inherited(arguments,[{data:_bc7("option",this.domNode).map(_bca)}]);
},destroy:function(){
_bc9.remove(this.id);
},fetchSelectedItem:function(){
var _bce=_bc7("> option[selected]",this.domNode)[0]||_bc7("> option",this.domNode)[0];
return _bce&&_bca(_bce);
}});
});
},"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\n\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabIndex=\"-1\">\n\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n\t\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n","url:dijit/templates/MenuBar.html":"<div class=\"dijitMenuBar dijitMenuPassive\" data-dojo-attach-point=\"containerNode\"  role=\"menubar\" tabIndex=\"${tabIndex}\" data-dojo-attach-event=\"onkeypress: _onKeyPress\"></div>\n","dijit/tree/_dndSelector":function(){
define("dijit/tree/_dndSelector",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","dojo/_base/window","./_dndContainer"],function(_bcf,_bd0,_bd1,lang,_bd2,on,_bd3,win,_bd4){
return _bd1("dijit.tree._dndSelector",_bd4,{constructor:function(){
this.selection={};
this.anchor=null;
this.events.push(on(this.tree.domNode,_bd3.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_bd3.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_bd3.move,lang.hitch(this,"onMouseMove")));
},singular:false,getSelectedTreeNodes:function(){
var _bd5=[],sel=this.selection;
for(var i in sel){
_bd5.push(sel[i]);
}
return _bd5;
},selectNone:function(){
this.setSelection([]);
return this;
},destroy:function(){
this.inherited(arguments);
this.selection=this.anchor=null;
},addTreeNode:function(node,_bd6){
this.setSelection(this.getSelectedTreeNodes().concat([node]));
if(_bd6){
this.anchor=node;
}
return node;
},removeTreeNode:function(node){
this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[node]));
return node;
},isTreeNodeSelected:function(node){
return node.id&&!!this.selection[node.id];
},setSelection:function(_bd7){
var _bd8=this.getSelectedTreeNodes();
_bcf.forEach(this._setDifference(_bd8,_bd7),lang.hitch(this,function(node){
node.setSelected(false);
if(this.anchor==node){
delete this.anchor;
}
delete this.selection[node.id];
}));
_bcf.forEach(this._setDifference(_bd7,_bd8),lang.hitch(this,function(node){
node.setSelected(true);
this.selection[node.id]=node;
}));
this._updateSelectionProperties();
},_setDifference:function(xs,ys){
_bcf.forEach(ys,function(y){
y.__exclude__=true;
});
var ret=_bcf.filter(xs,function(x){
return !x.__exclude__;
});
_bcf.forEach(ys,function(y){
delete y["__exclude__"];
});
return ret;
},_updateSelectionProperties:function(){
var _bd9=this.getSelectedTreeNodes();
var _bda=[],_bdb=[];
_bcf.forEach(_bd9,function(node){
_bdb.push(node);
_bda.push(node.getTreePath());
});
var _bdc=_bcf.map(_bdb,function(node){
return node.item;
});
this.tree._set("paths",_bda);
this.tree._set("path",_bda[0]||[]);
this.tree._set("selectedNodes",_bdb);
this.tree._set("selectedNode",_bdb[0]||null);
this.tree._set("selectedItems",_bdc);
this.tree._set("selectedItem",_bdc[0]||null);
},onMouseDown:function(e){
if(!this.current||this.tree.isExpandoNode(e.target,this.current)){
return;
}
if(!_bd2.isLeft(e)){
return;
}
e.preventDefault();
var _bdd=this.current,copy=_bd0.isCopyKey(e),id=_bdd.id;
if(!this.singular&&!e.shiftKey&&this.selection[id]){
this._doDeselect=true;
return;
}else{
this._doDeselect=false;
}
this.userSelect(_bdd,copy,e.shiftKey);
},onMouseUp:function(e){
if(!this._doDeselect){
return;
}
this._doDeselect=false;
this.userSelect(this.current,_bd0.isCopyKey(e),e.shiftKey);
},onMouseMove:function(){
this._doDeselect=false;
},_compareNodes:function(n1,n2){
if(n1===n2){
return 0;
}
if("sourceIndex" in document.documentElement){
return n1.sourceIndex-n2.sourceIndex;
}else{
if("compareDocumentPosition" in document.documentElement){
return n1.compareDocumentPosition(n2)&2?1:-1;
}else{
if(document.createRange){
var r1=doc.createRange();
r1.setStartBefore(n1);
var r2=doc.createRange();
r2.setStartBefore(n2);
return r1.compareBoundaryPoints(r1.END_TO_END,r2);
}else{
throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");
}
}
}
},userSelect:function(node,_bde,_bdf){
if(this.singular){
if(this.anchor==node&&_bde){
this.selectNone();
}else{
this.setSelection([node]);
this.anchor=node;
}
}else{
if(_bdf&&this.anchor){
var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_be0,end,_be1=this.anchor;
if(cr<0){
_be0=_be1;
end=node;
}else{
_be0=node;
end=_be1;
}
var _be2=[];
while(_be0!=end){
_be2.push(_be0);
_be0=this.tree._getNextNode(_be0);
}
_be2.push(end);
this.setSelection(_be2);
}else{
if(this.selection[node.id]&&_bde){
this.removeTreeNode(node);
}else{
if(_bde){
this.addTreeNode(node,true);
}else{
this.setSelection([node]);
this.anchor=node;
}
}
}
}
},getItem:function(key){
var _be3=this.selection[key];
return {data:_be3,type:["treeNode"]};
},forInSelectedItems:function(f,o){
o=o||win.global;
for(var id in this.selection){
f.call(o,this.getItem(id),id,this);
}
}});
});
},"dijit/_Container":function(){
define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","./registry"],function(_be4,_be5,_be6,_be7){
return _be5("dijit._Container",null,{buildRendering:function(){
this.inherited(arguments);
if(!this.containerNode){
this.containerNode=this.domNode;
}
},addChild:function(_be8,_be9){
var _bea=this.containerNode;
if(_be9&&typeof _be9=="number"){
var _beb=this.getChildren();
if(_beb&&_beb.length>=_be9){
_bea=_beb[_be9-1].domNode;
_be9="after";
}
}
_be6.place(_be8.domNode,_bea,_be9);
if(this._started&&!_be8._started){
_be8.startup();
}
},removeChild:function(_bec){
if(typeof _bec=="number"){
_bec=this.getChildren()[_bec];
}
if(_bec){
var node=_bec.domNode;
if(node&&node.parentNode){
node.parentNode.removeChild(node);
}
}
},hasChildren:function(){
return this.getChildren().length>0;
},_getSiblingOfChild:function(_bed,dir){
var node=_bed.domNode,_bee=(dir>0?"nextSibling":"previousSibling");
do{
node=node[_bee];
}while(node&&(node.nodeType!=1||!_be7.byNode(node)));
return node&&_be7.byNode(node);
},getIndexOfChild:function(_bef){
return _be4.indexOf(this.getChildren(),_bef);
}});
});
},"dojo/data/ItemFileReadStore":function(){
define("dojo/data/ItemFileReadStore",["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","../_base/window","./util/filter","./util/simpleFetch","../date/stamp"],function(_bf0,lang,_bf1,_bf2,xhr,_bf3,_bf4,_bf5,_bf6,_bf7){
var _bf8=_bf1("dojo.data.ItemFileReadStore",[_bf3],{constructor:function(_bf9){
this._arrayOfAllItems=[];
this._arrayOfTopLevelItems=[];
this._loadFinished=false;
this._jsonFileUrl=_bf9.url;
this._ccUrl=_bf9.url;
this.url=_bf9.url;
this._jsonData=_bf9.data;
this.data=null;
this._datatypeMap=_bf9.typeMap||{};
if(!this._datatypeMap["Date"]){
this._datatypeMap["Date"]={type:Date,deserialize:function(_bfa){
return _bf7.fromISOString(_bfa);
}};
}
this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};
this._itemsByIdentity=null;
this._storeRefPropName="_S";
this._itemNumPropName="_0";
this._rootItemPropName="_RI";
this._reverseRefMap="_RRM";
this._loadInProgress=false;
this._queuedFetches=[];
if(_bf9.urlPreventCache!==undefined){
this.urlPreventCache=_bf9.urlPreventCache?true:false;
}
if(_bf9.hierarchical!==undefined){
this.hierarchical=_bf9.hierarchical?true:false;
}
if(_bf9.clearOnClose){
this.clearOnClose=true;
}
if("failOk" in _bf9){
this.failOk=_bf9.failOk?true:false;
}
},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){
if(!this.isItem(item)){
throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");
}
},_assertIsAttribute:function(_bfb){
if(typeof _bfb!=="string"){
throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");
}
},getValue:function(item,_bfc,_bfd){
var _bfe=this.getValues(item,_bfc);
return (_bfe.length>0)?_bfe[0]:_bfd;
},getValues:function(item,_bff){
this._assertIsItem(item);
this._assertIsAttribute(_bff);
return (item[_bff]||[]).slice(0);
},getAttributes:function(item){
this._assertIsItem(item);
var _c00=[];
for(var key in item){
if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){
_c00.push(key);
}
}
return _c00;
},hasAttribute:function(item,_c01){
this._assertIsItem(item);
this._assertIsAttribute(_c01);
return (_c01 in item);
},containsValue:function(item,_c02,_c03){
var _c04=undefined;
if(typeof _c03==="string"){
_c04=_bf5.patternToRegExp(_c03,false);
}
return this._containsValue(item,_c02,_c03,_c04);
},_containsValue:function(item,_c05,_c06,_c07){
return _bf2.some(this.getValues(item,_c05),function(_c08){
if(_c08!==null&&!lang.isObject(_c08)&&_c07){
if(_c08.toString().match(_c07)){
return true;
}
}else{
if(_c06===_c08){
return true;
}
}
});
},isItem:function(_c09){
if(_c09&&_c09[this._storeRefPropName]===this){
if(this._arrayOfAllItems[_c09[this._itemNumPropName]]===_c09){
return true;
}
}
return false;
},isItemLoaded:function(_c0a){
return this.isItem(_c0a);
},loadItem:function(_c0b){
this._assertIsItem(_c0b.item);
},getFeatures:function(){
return this._features;
},getLabel:function(item){
if(this._labelAttr&&this.isItem(item)){
return this.getValue(item,this._labelAttr);
}
return undefined;
},getLabelAttributes:function(item){
if(this._labelAttr){
return [this._labelAttr];
}
return null;
},_fetchItems:function(_c0c,_c0d,_c0e){
var self=this,_c0f=function(_c10,_c11){
var _c12=[],i,key;
if(_c10.query){
var _c13,_c14=_c10.queryOptions?_c10.queryOptions.ignoreCase:false;
var _c15={};
for(key in _c10.query){
_c13=_c10.query[key];
if(typeof _c13==="string"){
_c15[key]=_bf5.patternToRegExp(_c13,_c14);
}else{
if(_c13 instanceof RegExp){
_c15[key]=_c13;
}
}
}
for(i=0;i<_c11.length;++i){
var _c16=true;
var _c17=_c11[i];
if(_c17===null){
_c16=false;
}else{
for(key in _c10.query){
_c13=_c10.query[key];
if(!self._containsValue(_c17,key,_c13,_c15[key])){
_c16=false;
}
}
}
if(_c16){
_c12.push(_c17);
}
}
_c0d(_c12,_c10);
}else{
for(i=0;i<_c11.length;++i){
var item=_c11[i];
if(item!==null){
_c12.push(item);
}
}
_c0d(_c12,_c10);
}
};
if(this._loadFinished){
_c0f(_c0c,this._getItemsArray(_c0c.queryOptions));
}else{
if(this._jsonFileUrl!==this._ccUrl){
_bf0.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");
this._ccUrl=this._jsonFileUrl;
this.url=this._jsonFileUrl;
}else{
if(this.url!==this._ccUrl){
this._jsonFileUrl=this.url;
this._ccUrl=this.url;
}
}
if(this.data!=null){
this._jsonData=this.data;
this.data=null;
}
if(this._jsonFileUrl){
if(this._loadInProgress){
this._queuedFetches.push({args:_c0c,filter:_c0f});
}else{
this._loadInProgress=true;
var _c18={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};
var _c19=xhr.get(_c18);
_c19.addCallback(function(data){
try{
self._getItemsFromLoadedData(data);
self._loadFinished=true;
self._loadInProgress=false;
_c0f(_c0c,self._getItemsArray(_c0c.queryOptions));
self._handleQueuedFetches();
}
catch(e){
self._loadFinished=true;
self._loadInProgress=false;
_c0e(e,_c0c);
}
});
_c19.addErrback(function(_c1a){
self._loadInProgress=false;
_c0e(_c1a,_c0c);
});
var _c1b=null;
if(_c0c.abort){
_c1b=_c0c.abort;
}
_c0c.abort=function(){
var df=_c19;
if(df&&df.fired===-1){
df.cancel();
df=null;
}
if(_c1b){
_c1b.call(_c0c);
}
};
}
}else{
if(this._jsonData){
try{
this._loadFinished=true;
this._getItemsFromLoadedData(this._jsonData);
this._jsonData=null;
_c0f(_c0c,this._getItemsArray(_c0c.queryOptions));
}
catch(e){
_c0e(e,_c0c);
}
}else{
_c0e(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_c0c);
}
}
}
},_handleQueuedFetches:function(){
if(this._queuedFetches.length>0){
for(var i=0;i<this._queuedFetches.length;i++){
var _c1c=this._queuedFetches[i],_c1d=_c1c.args,_c1e=_c1c.filter;
if(_c1e){
_c1e(_c1d,this._getItemsArray(_c1d.queryOptions));
}else{
this.fetchItemByIdentity(_c1d);
}
}
this._queuedFetches=[];
}
},_getItemsArray:function(_c1f){
if(_c1f&&_c1f.deep){
return this._arrayOfAllItems;
}
return this._arrayOfTopLevelItems;
},close:function(_c20){
if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){
if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){
console.debug("dojo.data.ItemFileReadStore: WARNING!  Data reload "+" information has not been provided."+"  Please set 'url' or 'data' to the appropriate value before"+" the next fetch");
}
this._arrayOfAllItems=[];
this._arrayOfTopLevelItems=[];
this._loadFinished=false;
this._itemsByIdentity=null;
this._loadInProgress=false;
this._queuedFetches=[];
}
},_getItemsFromLoadedData:function(_c21){
var _c22=false,self=this;
function _c23(_c24){
return (_c24!==null)&&(typeof _c24==="object")&&(!lang.isArray(_c24)||_c22)&&(!lang.isFunction(_c24))&&(_c24.constructor==Object||lang.isArray(_c24))&&(typeof _c24._reference==="undefined")&&(typeof _c24._type==="undefined")&&(typeof _c24._value==="undefined")&&self.hierarchical;
};
function _c25(_c26){
self._arrayOfAllItems.push(_c26);
for(var _c27 in _c26){
var _c28=_c26[_c27];
if(_c28){
if(lang.isArray(_c28)){
var _c29=_c28;
for(var k=0;k<_c29.length;++k){
var _c2a=_c29[k];
if(_c23(_c2a)){
_c25(_c2a);
}
}
}else{
if(_c23(_c28)){
_c25(_c28);
}
}
}
}
};
this._labelAttr=_c21.label;
var i,item;
this._arrayOfAllItems=[];
this._arrayOfTopLevelItems=_c21.items;
for(i=0;i<this._arrayOfTopLevelItems.length;++i){
item=this._arrayOfTopLevelItems[i];
if(lang.isArray(item)){
_c22=true;
}
_c25(item);
item[this._rootItemPropName]=true;
}
var _c2b={},key;
for(i=0;i<this._arrayOfAllItems.length;++i){
item=this._arrayOfAllItems[i];
for(key in item){
if(key!==this._rootItemPropName){
var _c2c=item[key];
if(_c2c!==null){
if(!lang.isArray(_c2c)){
item[key]=[_c2c];
}
}else{
item[key]=[null];
}
}
_c2b[key]=key;
}
}
while(_c2b[this._storeRefPropName]){
this._storeRefPropName+="_";
}
while(_c2b[this._itemNumPropName]){
this._itemNumPropName+="_";
}
while(_c2b[this._reverseRefMap]){
this._reverseRefMap+="_";
}
var _c2d;
var _c2e=_c21.identifier;
if(_c2e){
this._itemsByIdentity={};
this._features["dojo.data.api.Identity"]=_c2e;
for(i=0;i<this._arrayOfAllItems.length;++i){
item=this._arrayOfAllItems[i];
_c2d=item[_c2e];
var _c2f=_c2d[0];
if(!Object.hasOwnProperty.call(this._itemsByIdentity,_c2f)){
this._itemsByIdentity[_c2f]=item;
}else{
if(this._jsonFileUrl){
throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_c2e+"].  Value collided: ["+_c2f+"]");
}else{
if(this._jsonData){
throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_c2e+"].  Value collided: ["+_c2f+"]");
}
}
}
}
}else{
this._features["dojo.data.api.Identity"]=Number;
}
for(i=0;i<this._arrayOfAllItems.length;++i){
item=this._arrayOfAllItems[i];
item[this._storeRefPropName]=this;
item[this._itemNumPropName]=i;
}
for(i=0;i<this._arrayOfAllItems.length;++i){
item=this._arrayOfAllItems[i];
for(key in item){
_c2d=item[key];
for(var j=0;j<_c2d.length;++j){
_c2c=_c2d[j];
if(_c2c!==null&&typeof _c2c=="object"){
if(("_type" in _c2c)&&("_value" in _c2c)){
var type=_c2c._type;
var _c30=this._datatypeMap[type];
if(!_c30){
throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");
}else{
if(lang.isFunction(_c30)){
_c2d[j]=new _c30(_c2c._value);
}else{
if(lang.isFunction(_c30.deserialize)){
_c2d[j]=_c30.deserialize(_c2c._value);
}else{
throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");
}
}
}
}
if(_c2c._reference){
var _c31=_c2c._reference;
if(!lang.isObject(_c31)){
_c2d[j]=this._getItemByIdentity(_c31);
}else{
for(var k=0;k<this._arrayOfAllItems.length;++k){
var _c32=this._arrayOfAllItems[k],_c33=true;
for(var _c34 in _c31){
if(_c32[_c34]!=_c31[_c34]){
_c33=false;
}
}
if(_c33){
_c2d[j]=_c32;
}
}
}
if(this.referenceIntegrity){
var _c35=_c2d[j];
if(this.isItem(_c35)){
this._addReferenceToMap(_c35,item,key);
}
}
}else{
if(this.isItem(_c2c)){
if(this.referenceIntegrity){
this._addReferenceToMap(_c2c,item,key);
}
}
}
}
}
}
}
},_addReferenceToMap:function(_c36,_c37,_c38){
},getIdentity:function(item){
var _c39=this._features["dojo.data.api.Identity"];
if(_c39===Number){
return item[this._itemNumPropName];
}else{
var _c3a=item[_c39];
if(_c3a){
return _c3a[0];
}
}
return null;
},fetchItemByIdentity:function(_c3b){
var item,_c3c;
if(!this._loadFinished){
var self=this;
if(this._jsonFileUrl!==this._ccUrl){
_bf0.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");
this._ccUrl=this._jsonFileUrl;
this.url=this._jsonFileUrl;
}else{
if(this.url!==this._ccUrl){
this._jsonFileUrl=this.url;
this._ccUrl=this.url;
}
}
if(this.data!=null&&this._jsonData==null){
this._jsonData=this.data;
this.data=null;
}
if(this._jsonFileUrl){
if(this._loadInProgress){
this._queuedFetches.push({args:_c3b});
}else{
this._loadInProgress=true;
var _c3d={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};
var _c3e=xhr.get(_c3d);
_c3e.addCallback(function(data){
var _c3f=_c3b.scope?_c3b.scope:_bf4.global;
try{
self._getItemsFromLoadedData(data);
self._loadFinished=true;
self._loadInProgress=false;
item=self._getItemByIdentity(_c3b.identity);
if(_c3b.onItem){
_c3b.onItem.call(_c3f,item);
}
self._handleQueuedFetches();
}
catch(error){
self._loadInProgress=false;
if(_c3b.onError){
_c3b.onError.call(_c3f,error);
}
}
});
_c3e.addErrback(function(_c40){
self._loadInProgress=false;
if(_c3b.onError){
var _c41=_c3b.scope?_c3b.scope:_bf4.global;
_c3b.onError.call(_c41,_c40);
}
});
}
}else{
if(this._jsonData){
self._getItemsFromLoadedData(self._jsonData);
self._jsonData=null;
self._loadFinished=true;
item=self._getItemByIdentity(_c3b.identity);
if(_c3b.onItem){
_c3c=_c3b.scope?_c3b.scope:_bf4.global;
_c3b.onItem.call(_c3c,item);
}
}
}
}else{
item=this._getItemByIdentity(_c3b.identity);
if(_c3b.onItem){
_c3c=_c3b.scope?_c3b.scope:_bf4.global;
_c3b.onItem.call(_c3c,item);
}
}
},_getItemByIdentity:function(_c42){
var item=null;
if(this._itemsByIdentity){
if(Object.hasOwnProperty.call(this._itemsByIdentity,_c42)){
item=this._itemsByIdentity[_c42];
}
}else{
if(Object.hasOwnProperty.call(this._arrayOfAllItems,_c42)){
item=this._arrayOfAllItems[_c42];
}
}
if(item===undefined){
item=null;
}
return item;
},getIdentityAttributes:function(item){
var _c43=this._features["dojo.data.api.Identity"];
if(_c43===Number){
return null;
}else{
return [_c43];
}
},_forceLoad:function(){
var self=this;
if(this._jsonFileUrl!==this._ccUrl){
_bf0.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");
this._ccUrl=this._jsonFileUrl;
this.url=this._jsonFileUrl;
}else{
if(this.url!==this._ccUrl){
this._jsonFileUrl=this.url;
this._ccUrl=this.url;
}
}
if(this.data!=null){
this._jsonData=this.data;
this.data=null;
}
if(this._jsonFileUrl){
var _c44={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};
var _c45=xhr.get(_c44);
_c45.addCallback(function(data){
try{
if(self._loadInProgress!==true&&!self._loadFinished){
self._getItemsFromLoadedData(data);
self._loadFinished=true;
}else{
if(self._loadInProgress){
throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");
}
}
}
catch(e){
console.log(e);
throw e;
}
});
_c45.addErrback(function(_c46){
throw _c46;
});
}else{
if(this._jsonData){
self._getItemsFromLoadedData(self._jsonData);
self._jsonData=null;
self._loadFinished=true;
}
}
}});
lang.extend(_bf8,_bf6);
return _bf8;
});
},"curam/tab/util":function(){
define("curam/tab/util",["dojo/dom-geometry","curam/define","curam/debug","curam/util/ResourceBundle"],function(_c47){
dojo.requireLocalization("curam.application","Debug");
var _c48=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.tab.util",{toggleDetailsPanel:function(_c49){
_c49=dojo.fixEvent(_c49);
dojo.stopEvent(_c49);
var _c4a=_c49.target;
if(_c4a._animating){
return;
}
_c4a._animating=true;
var _c4b=_c4a.parentNode;
while(_c4b&&!dojo.hasClass(_c4b,"detailsPanel-bc")){
_c4b=_c4b.parentNode;
}
var _c4c=_c4b;
while(_c4b&&!dojo.hasClass(_c4b,"summaryPane")){
_c4b=_c4b.parentNode;
}
var _c4d=_c4b;
while(_c4b){
if(dojo.hasClass(_c4b,"dijitBorderContainer")&&!dojo.hasClass(_c4b,"detailsPanel-bc")){
break;
}
if(dojo.hasClass(_c4b,"tab-wrapper")){
break;
}
_c4b=_c4b.parentNode;
}
var _c4e=_c4b;
headerPanelNode=dojo.query(".detailsPanelTitleBar",_c4c)[0];
detailsPanelNode=dojo.query(".detailsContentPane",_c4c)[0];
var kids=_c4e.children;
var _c4f=dojo.filter(kids,function(_c50){
if(dojo.hasClass(_c50,"splitter-pane")||dojo.hasClass(_c50,"dijitSplitterH")){
return _c50;
}
})[0];
var _c51=dojo.filter(kids,function(_c52){
if(dojo.hasClass(_c52,"nav-panel")){
return _c52;
}
})[0];
var _c53=_c47.getMarginBoxSimple(headerPanelNode).h;
var _c54=_c47.getMarginBoxSimple(_c4d).h;
var _c55=_c4f.offsetHeight;
var _c56=_c47.getMarginBoxSimple(_c51).h;
var _c57=dojo.query(".detailsContentPane",_c4c)[0];
if(_c53!=_c4d.clientHeight){
dojo.addClass(_c4a,"collapsed");
dojo.addClass(_c57,"collapsed");
curam.debug.log(_c48.getProperty("curam.tab.util.collapsing"));
_c4c._previousHeight=_c54;
_c51._previousHeight=_c56;
dojo.animateProperty({node:_c4d,duration:500,properties:{height:{end:_c53}}}).play();
if(dojo.hasClass(_c4f,"splitter-pane")){
dojo.animateProperty({node:detailsPanelNode,duration:500,properties:{height:{end:0}}}).play();
}
dojo.animateProperty({node:_c4f,duration:500,properties:{top:{end:(_c53+_c55)}}}).play();
dojo.animateProperty({node:_c51,duration:500,properties:{top:{end:(_c53+_c55)}},onEnd:function(){
_c4a._animating=false;
if(dojo.hasClass(_c4f,"dijitSplitterH")){
dojo.style(_c51,"height",(_c51._previousHeight+_c4c._previousHeight-_c53)+"px");
}
}}).play();
}else{
dojo.removeClass(_c4a,"collapsed");
dojo.removeClass(_c57,"collapsed");
curam.debug.log(_c48.getProperty("curam.tab.util.expanding"));
dojo.style(_c4d,"height",_c4c._previousHeight+"px");
if(dojo.hasClass(_c4f,"splitter-pane")){
dojo.animateProperty({node:detailsPanelNode,duration:500,properties:{height:{end:_c4c._previousHeight-_c53}}}).play();
}
dojo.animateProperty({node:_c4f,duration:500,properties:{top:{end:(_c4c._previousHeight+_c55)}}}).play();
dojo.animateProperty({node:_c51,duration:500,properties:{top:{end:(_c4c._previousHeight+_c55)}},onEnd:function(){
_c4a._animating=false;
if(dojo.hasClass(_c4f,"dijitSplitterH")){
dojo.style(_c51,"height",_c51._previousHeight+"px");
}
}}).play();
}
}});
return curam.tab.util;
});
},"dojo/html":function(){
define("dojo/html",["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(dojo,lang,_c58,_c59,dom,_c5a,_c5b){
lang.getObject("html",true,dojo);
var _c5c=0;
dojo.html._secureForInnerHtml=function(cont){
return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");
};
dojo.html._emptyNode=_c5a.empty;
dojo.html._setNodeContent=function(node,cont){
_c5a.empty(node);
if(cont){
if(typeof cont=="string"){
cont=_c5a.toDom(cont,node.ownerDocument);
}
if(!cont.nodeType&&lang.isArrayLike(cont)){
for(var _c5d=cont.length,i=0;i<cont.length;i=_c5d==cont.length?i+1:0){
_c5a.place(cont[i],node,"last");
}
}else{
_c5a.place(cont,node,"last");
}
}
return node;
};
_c59("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:dojo._scopeName,startup:true,constructor:function(_c5e,node){
lang.mixin(this,_c5e||{});
node=this.node=dom.byId(this.node||node);
if(!this.id){
this.id=["Setter",(node)?node.id||node.tagName:"",_c5c++].join("_");
}
},set:function(cont,_c5f){
if(undefined!==cont){
this.content=cont;
}
if(_c5f){
this._mixin(_c5f);
}
this.onBegin();
this.setContent();
this.onEnd();
return this.node;
},setContent:function(){
var node=this.node;
if(!node){
throw new Error(this.declaredClass+": setContent given no node");
}
try{
node=dojo.html._setNodeContent(node,this.content);
}
catch(e){
var _c60=this.onContentError(e);
try{
node.innerHTML=_c60;
}
catch(e){
console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);
}
}
this.node=node;
},empty:function(){
if(this.parseResults&&this.parseResults.length){
_c58.forEach(this.parseResults,function(w){
if(w.destroy){
w.destroy();
}
});
delete this.parseResults;
}
dojo.html._emptyNode(this.node);
},onBegin:function(){
var cont=this.content;
if(lang.isString(cont)){
if(this.cleanContent){
cont=dojo.html._secureForInnerHtml(cont);
}
if(this.extractContent){
var _c61=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
if(_c61){
cont=_c61[1];
}
}
}
this.empty();
this.content=cont;
return this.node;
},onEnd:function(){
if(this.parseContent){
this._parse();
}
return this.node;
},tearDown:function(){
delete this.parseResults;
delete this.node;
delete this.content;
},onContentError:function(err){
return "Error occured setting content: "+err;
},_mixin:function(_c62){
var _c63={},key;
for(key in _c62){
if(key in _c63){
continue;
}
this[key]=_c62[key];
}
},_parse:function(){
var _c64=this.node;
try{
var _c65={};
_c58.forEach(["dir","lang","textDir"],function(name){
if(this[name]){
_c65[name]=this[name];
}
},this);
this.parseResults=_c5b.parse({rootNode:_c64,noStart:!this.startup,inherited:_c65,scope:this.parserScope});
}
catch(e){
this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);
}
},_onError:function(type,err,_c66){
var _c67=this["on"+type+"Error"].call(this,err);
if(_c66){
console.error(_c66,err);
}else{
if(_c67){
dojo.html._setNodeContent(this.node,_c67,true);
}
}
}});
dojo.html.set=function(node,cont,_c68){
if(undefined==cont){
console.warn("dojo.html.set: no cont argument provided, using empty string");
cont="";
}
if(!_c68){
return dojo.html._setNodeContent(node,cont,true);
}else{
var op=new dojo.html._ContentSetter(lang.mixin(_c68,{content:cont,node:node}));
return op.set();
}
};
return dojo.html;
});
},"url:dijit/templates/TitlePane.html":"<div>\n\t<div data-dojo-attach-event=\"onclick:_onTitleClick, onkeypress:_onTitleKey\"\n\t\t\tclass=\"dijitTitlePaneTitle\" data-dojo-attach-point=\"titleBarNode\">\n\t\t<div class=\"dijitTitlePaneTitleFocus\" data-dojo-attach-point=\"focusNode\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"arrowNode\" class=\"dijitArrowNode\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"arrowNodeInner\" class=\"dijitArrowNodeInner\"></span\n\t\t\t><span data-dojo-attach-point=\"titleNode\" class=\"dijitTitlePaneTextNode\"></span>\n\t\t</div>\n\t</div>\n\t<div class=\"dijitTitlePaneContentOuter\" data-dojo-attach-point=\"hideNode\" role=\"presentation\">\n\t\t<div class=\"dijitReset\" data-dojo-attach-point=\"wipeNode\" role=\"presentation\">\n\t\t\t<div class=\"dijitTitlePaneContentInner\" data-dojo-attach-point=\"containerNode\" role=\"region\" id=\"${id}_pane\">\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn't work right on node w/padding etc.  Put padding on inner div. -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n","cm/_base/_pageBehaviors":function(){
define("cm/_base/_pageBehaviors",["cm/_base/_behavior"],function(){
var cm=dojo.global.cm||{};
dojo.global.cm=cm;
cm.registerBehavior("FORM_SINGLE_SUBMIT",{"form":{"onsubmit":function(evt){
if(cm.wasFormSubmitted(evt.target)){
try{
dojo.stopEvent(evt);
}
catch(e){
}
return false;
}
cm.setFormSubmitted(evt.target,true);
}}});
function _c69(type){
return function(evt){
cm.validation.validateMandatory(evt.target?evt.target:evt,type);
};
};
function _c6a(type,_c6b){
var obj={};
var fn=_c69(type);
dojo.forEach(_c6b,function(evt){
obj[evt]=fn;
});
obj.found=function(node){
cm.validation.registerValidation(node.getAttribute("name"),fn,node);
fn(node);
};
return obj;
};
cm.registerBehavior("MANDATORY_FIELD_VALIDATION",{"input[type='text'],input[type='password']":_c6a("text",["blur","onkeyup"]),"input[type='checkbox']":_c6a("checkbox",["blur","onclick"]),"select":_c6a("select",["blur","onchange"]),"input[type='radio']":_c6a("radio",["blur","onclick"])});
return cm;
});
},"dijit/form/ValidationTextBox":function(){
require({cache:{"url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});
define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_c6c,i18n,_c6d,_c6e,_c6f){
return _c6c("dijit.form.ValidationTextBox",_c6d,{templateString:_c6f,baseClass:"dijitTextBox dijitValidationTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},regExp:".*",regExpGen:function(){
return this.regExp;
},state:"",tooltipPosition:[],_setValueAttr:function(){
this.inherited(arguments);
this.validate(this.focused);
},validator:function(_c70,_c71){
return (new RegExp("^(?:"+this.regExpGen(_c71)+")"+(this.required?"":"?")+"$")).test(_c70)&&(!this.required||!this._isEmpty(_c70))&&(this._isEmpty(_c70)||this.parse(_c70,_c71)!==undefined);
},_isValidSubset:function(){
return this.textbox.value.search(this._partialre)==0;
},isValid:function(){
return this.validator(this.textbox.value,this.constraints);
},_isEmpty:function(_c72){
return (this.trim?/^\s*$/:/^$/).test(_c72);
},getErrorMessage:function(){
return (this.required&&this._isEmpty(this.textbox.value))?this.missingMessage:this.invalidMessage;
},getPromptMessage:function(){
return this.promptMessage;
},_maskValidSubsetError:true,validate:function(_c73){
var _c74="";
var _c75=this.disabled||this.isValid(_c73);
if(_c75){
this._maskValidSubsetError=true;
}
var _c76=this._isEmpty(this.textbox.value);
var _c77=!_c75&&_c73&&this._isValidSubset();
this._set("state",_c75?"":(((((!this._hasBeenBlurred||_c73)&&_c76)||_c77)&&this._maskValidSubsetError)?"Incomplete":"Error"));
this.focusNode.setAttribute("aria-invalid",_c75?"false":"true");
if(this.state=="Error"){
this._maskValidSubsetError=_c73&&_c77;
_c74=this.getErrorMessage(_c73);
}else{
if(this.state=="Incomplete"){
_c74=this.getPromptMessage(_c73);
this._maskValidSubsetError=!this._hasBeenBlurred||_c73;
}else{
if(_c76){
_c74=this.getPromptMessage(_c73);
}
}
}
this.set("message",_c74);
return _c75;
},displayMessage:function(_c78){
if(_c78&&this.focused){
_c6e.show(_c78,this.domNode,this.tooltipPosition,!this.isLeftToRight());
}else{
_c6e.hide(this.domNode);
}
},_refreshState:function(){
this.validate(this.focused);
this.inherited(arguments);
},constructor:function(){
this.constraints={};
},_setConstraintsAttr:function(_c79){
if(!_c79.locale&&this.lang){
_c79.locale=this.lang;
}
this._set("constraints",_c79);
this._computePartialRE();
},_computePartialRE:function(){
var p=this.regExpGen(this.constraints);
this.regExp=p;
var _c7a="";
if(p!=".*"){
this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){
switch(re.charAt(0)){
case "{":
case "+":
case "?":
case "*":
case "^":
case "$":
case "|":
case "(":
_c7a+=re;
break;
case ")":
_c7a+="|$)";
break;
default:
_c7a+="(?:"+re+"|$)";
break;
}
});
}
try{
"".search(_c7a);
}
catch(e){
_c7a=this.regExp;
console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);
}
this._partialre="^(?:"+_c7a+")$";
},postMixInProperties:function(){
this.inherited(arguments);
this.messages=i18n.getLocalization("dijit.form","validate",this.lang);
if(this.invalidMessage=="$_unset_$"){
this.invalidMessage=this.messages.invalidMessage;
}
if(!this.invalidMessage){
this.invalidMessage=this.promptMessage;
}
if(this.missingMessage=="$_unset_$"){
this.missingMessage=this.messages.missingMessage;
}
if(!this.missingMessage){
this.missingMessage=this.invalidMessage;
}
this._setConstraintsAttr(this.constraints);
},_setDisabledAttr:function(_c7b){
this.inherited(arguments);
this._refreshState();
},_setRequiredAttr:function(_c7c){
this._set("required",_c7c);
this.focusNode.setAttribute("aria-required",_c7c);
this._refreshState();
},_setMessageAttr:function(_c7d){
this._set("message",_c7d);
this.displayMessage(_c7d);
},reset:function(){
this._maskValidSubsetError=true;
this.inherited(arguments);
},_onBlur:function(){
this.displayMessage("");
this.inherited(arguments);
}});
});
},"dijit/layout/BorderContainer":function(){
define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","dojo/_base/window","../_WidgetBase","../_Widget","../_TemplatedMixin","./_LayoutWidget","./utils"],function(_c7e,_c7f,_c80,_c81,_c82,_c83,_c84,_c85,keys,lang,on,_c86,win,_c87,_c88,_c89,_c8a,_c8b){
var _c8c=_c80("dijit.layout._Splitter",[_c88,_c89],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){
this._handlers=[];
},postMixInProperties:function(){
this.inherited(arguments);
this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;
this._cookieName=this.container.id+"_"+this.region;
},buildRendering:function(){
this.inherited(arguments);
_c81.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));
if(this.container.persist){
var _c8d=_c7f(this._cookieName);
if(_c8d){
this.child.domNode.style[this.horizontal?"height":"width"]=_c8d;
}
}
},_computeMaxSize:function(){
var dim=this.horizontal?"h":"w",_c8e=_c83.getMarginBox(this.child.domNode)[dim],_c8f=_c7e.filter(this.container.getChildren(),function(_c90){
return _c90.region=="center";
})[0],_c91=_c83.getMarginBox(_c8f.domNode)[dim];
return Math.min(this.child.maxSize,_c8e+_c91);
},_startDrag:function(e){
if(!this.cover){
this.cover=win.doc.createElement("div");
_c81.add(this.cover,"dijitSplitterCover");
_c82.place(this.cover,this.child.domNode,"after");
}
_c81.add(this.cover,"dijitSplitterCoverActive");
if(this.fake){
_c82.destroy(this.fake);
}
if(!(this._resize=this.live)){
(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");
_c81.add(this.domNode,"dijitSplitterShadow");
_c82.place(this.fake,this.domNode,"after");
}
_c81.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");
if(this.fake){
_c81.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");
}
var _c92=this._factor,_c93=this.horizontal,axis=_c93?"pageY":"pageX",_c94=e[axis],_c95=this.domNode.style,dim=_c93?"h":"w",_c96=_c83.getMarginBox(this.child.domNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_c97=this.region,_c98=_c97=="top"||_c97=="bottom"?"top":"left",_c99=parseInt(_c95[_c98],10),_c9a=this._resize,_c9b=lang.hitch(this.container,"_layoutChildren",this.child.id),de=win.doc;
this._handlers=this._handlers.concat([on(de,_c86.move,this._drag=function(e,_c9c){
var _c9d=e[axis]-_c94,_c9e=_c92*_c9d+_c96,_c9f=Math.max(Math.min(_c9e,max),min);
if(_c9a||_c9c){
_c9b(_c9f);
}
_c95[_c98]=_c9d+_c99+_c92*(_c9f-_c9e)+"px";
}),on(de,"dragstart",_c85.stop),on(win.body(),"selectstart",_c85.stop),on(de,_c86.release,lang.hitch(this,"_stopDrag"))]);
_c85.stop(e);
},_onMouse:function(e){
var o=(e.type=="mouseover"||e.type=="mouseenter");
_c81.toggle(this.domNode,"dijitSplitterHover",o);
_c81.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);
},_stopDrag:function(e){
try{
if(this.cover){
_c81.remove(this.cover,"dijitSplitterCoverActive");
}
if(this.fake){
_c82.destroy(this.fake);
}
_c81.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");
this._drag(e);
this._drag(e,true);
}
finally{
this._cleanupHandlers();
delete this._drag;
}
if(this.container.persist){
_c7f(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});
}
},_cleanupHandlers:function(){
var h;
while(h=this._handlers.pop()){
h.remove();
}
},_onKeyPress:function(e){
this._resize=true;
var _ca0=this.horizontal;
var tick=1;
switch(e.charOrCode){
case _ca0?keys.UP_ARROW:keys.LEFT_ARROW:
tick*=-1;
case _ca0?keys.DOWN_ARROW:keys.RIGHT_ARROW:
break;
default:
return;
}
var _ca1=_c83.getMarginSize(this.child.domNode)[_ca0?"h":"w"]+this._factor*tick;
this.container._layoutChildren(this.child.id,Math.max(Math.min(_ca1,this._computeMaxSize()),this.child.minSize));
_c85.stop(e);
},destroy:function(){
this._cleanupHandlers();
delete this.child;
delete this.container;
delete this.cover;
delete this.fake;
this.inherited(arguments);
}});
var _ca2=_c80("dijit.layout._Gutter",[_c88,_c89],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){
this.inherited(arguments);
this.horizontal=/top|bottom/.test(this.region);
},buildRendering:function(){
this.inherited(arguments);
_c81.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));
}});
var _ca3=_c80("dijit.layout.BorderContainer",_c8a,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_c8c,postMixInProperties:function(){
if(!this.gutters){
this.baseClass+="NoGutter";
}
this.inherited(arguments);
},startup:function(){
if(this._started){
return;
}
_c7e.forEach(this.getChildren(),this._setupChild,this);
this.inherited(arguments);
},_setupChild:function(_ca4){
var _ca5=_ca4.region;
if(_ca5){
this.inherited(arguments);
_c81.add(_ca4.domNode,this.baseClass+"Pane");
var ltr=this.isLeftToRight();
if(_ca5=="leading"){
_ca5=ltr?"left":"right";
}
if(_ca5=="trailing"){
_ca5=ltr?"right":"left";
}
if(_ca5!="center"&&(_ca4.splitter||this.gutters)&&!_ca4._splitterWidget){
var _ca6=_ca4.splitter?this._splitterClass:_ca2;
if(lang.isString(_ca6)){
_ca6=lang.getObject(_ca6);
}
var _ca7=new _ca6({id:_ca4.id+"_splitter",container:this,child:_ca4,region:_ca5,live:this.liveSplitters});
_ca7.isSplitter=true;
_ca4._splitterWidget=_ca7;
_c82.place(_ca7.domNode,_ca4.domNode,"after");
_ca7.startup();
}
_ca4.region=_ca5;
}
},layout:function(){
this._layoutChildren();
},addChild:function(_ca8,_ca9){
this.inherited(arguments);
if(this._started){
this.layout();
}
},removeChild:function(_caa){
var _cab=_caa.region;
var _cac=_caa._splitterWidget;
if(_cac){
_cac.destroy();
delete _caa._splitterWidget;
}
this.inherited(arguments);
if(this._started){
this._layoutChildren();
}
_c81.remove(_caa.domNode,this.baseClass+"Pane");
_c84.set(_caa.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});
_c84.set(_caa.domNode,_cab=="top"||_cab=="bottom"?"width":"height","auto");
},getChildren:function(){
return _c7e.filter(this.inherited(arguments),function(_cad){
return !_cad.isSplitter;
});
},getSplitter:function(_cae){
return _c7e.filter(this.getChildren(),function(_caf){
return _caf.region==_cae;
})[0]._splitterWidget;
},resize:function(_cb0,_cb1){
if(!this.cs||!this.pe){
var node=this.domNode;
this.cs=_c84.getComputedStyle(node);
this.pe=_c83.getPadExtents(node,this.cs);
this.pe.r=_c84.toPixelValue(node,this.cs.paddingRight);
this.pe.b=_c84.toPixelValue(node,this.cs.paddingBottom);
_c84.set(node,"padding","0px");
}
this.inherited(arguments);
},_layoutChildren:function(_cb2,_cb3){
if(!this._borderBox||!this._borderBox.h){
return;
}
var _cb4=_c7e.map(this.getChildren(),function(_cb5,idx){
return {pane:_cb5,weight:[_cb5.region=="center"?Infinity:0,_cb5.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(_cb5.region)?1:-1),idx]};
},this);
_cb4.sort(function(a,b){
var aw=a.weight,bw=b.weight;
for(var i=0;i<aw.length;i++){
if(aw[i]!=bw[i]){
return aw[i]-bw[i];
}
}
return 0;
});
var _cb6=[];
_c7e.forEach(_cb4,function(_cb7){
var pane=_cb7.pane;
_cb6.push(pane);
if(pane._splitterWidget){
_cb6.push(pane._splitterWidget);
}
});
var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};
_c8b.layoutChildren(this.domNode,dim,_cb6,_cb2,_cb3);
},destroyRecursive:function(){
_c7e.forEach(this.getChildren(),function(_cb8){
var _cb9=_cb8._splitterWidget;
if(_cb9){
_cb9.destroy();
}
delete _cb8._splitterWidget;
});
this.inherited(arguments);
}});
lang.extend(_c87,{region:"",layoutPriority:0,splitter:false,minSize:0,maxSize:Infinity});
_ca3._Splitter=_c8c;
_ca3._Gutter=_ca2;
return _ca3;
});
},"curam/html":function(){
define("curam/html",["curam/define"],function(){
curam.define.singleton("curam.html",{splitWithTag:function(_cba,_cbb,_cbc,_cbd){
var _cbe=_cba.split(_cbb||"\n");
if(_cbe.length<2){
return _cbd?_cbd(_cba):_cba;
}
var t=(_cbc||"div")+">";
var _cbf="<"+t,_cc0="</"+t;
if(_cbd){
for(var i=0;i<_cbe.length;i++){
_cbe[i]=_cbd(_cbe[i]);
}
}
return _cbf+_cbe.join(_cc0+_cbf)+_cc0;
}});
return curam.html;
});
},"dojo/window":function(){
define("dojo/window",["./_base/lang","./_base/sniff","./_base/window","./dom","./dom-geometry","./dom-style"],function(lang,has,_cc1,dom,geom,_cc2){
var _cc3=lang.getObject("dojo.window",true);
_cc3.getBox=function(){
var _cc4=(_cc1.doc.compatMode=="BackCompat")?_cc1.body():_cc1.doc.documentElement,_cc5=geom.docScroll(),w,h;
if(has("touch")){
var _cc6=_cc1.doc.parentWindow||_cc1.doc.defaultView;
w=_cc6.innerWidth||_cc4.clientWidth;
h=_cc6.innerHeight||_cc4.clientHeight;
}else{
w=_cc4.clientWidth;
h=_cc4.clientHeight;
}
return {l:_cc5.x,t:_cc5.y,w:w,h:h};
};
_cc3.get=function(doc){
if(has("ie")&&_cc3!==document.parentWindow){
doc.parentWindow.execScript("document._parentWindow = window;","Javascript");
var win=doc._parentWindow;
doc._parentWindow=null;
return win;
}
return doc.parentWindow||doc.defaultView;
};
_cc3.scrollIntoView=function(node,pos){
try{
node=dom.byId(node);
var doc=node.ownerDocument||_cc1.doc,body=doc.body||_cc1.body(),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");
if((!(has("mozilla")||isIE||isWK||has("opera"))||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){
node.scrollIntoView(false);
return;
}
var _cc7=doc.compatMode=="BackCompat",_cc8=(isIE>=9&&node.ownerDocument.parentWindow.frameElement)?((html.clientHeight>0&&html.clientWidth>0&&(body.clientHeight==0||body.clientWidth==0||body.clientHeight>html.clientHeight||body.clientWidth>html.clientWidth))?html:body):(_cc7?body:html),_cc9=isWK?body:_cc8,_cca=_cc8.clientWidth,_ccb=_cc8.clientHeight,rtl=!geom.isBodyLtr(),_ccc=pos||geom.position(node),el=node.parentNode,_ccd=function(el){
return ((isIE<=6||(isIE&&_cc7))?false:(_cc2.get(el,"position").toLowerCase()=="fixed"));
};
if(_ccd(node)){
return;
}
while(el){
if(el==body){
el=_cc9;
}
var _cce=geom.position(el),_ccf=_ccd(el);
if(el==_cc9){
_cce.w=_cca;
_cce.h=_ccb;
if(_cc9==html&&isIE&&rtl){
_cce.x+=_cc9.offsetWidth-_cce.w;
}
if(_cce.x<0||!isIE){
_cce.x=0;
}
if(_cce.y<0||!isIE){
_cce.y=0;
}
}else{
var pb=geom.getPadBorderExtents(el);
_cce.w-=pb.w;
_cce.h-=pb.h;
_cce.x+=pb.l;
_cce.y+=pb.t;
var _cd0=el.clientWidth,_cd1=_cce.w-_cd0;
if(_cd0>0&&_cd1>0){
_cce.w=_cd0;
_cce.x+=(rtl&&(isIE||el.clientLeft>pb.l))?_cd1:0;
}
_cd0=el.clientHeight;
_cd1=_cce.h-_cd0;
if(_cd0>0&&_cd1>0){
_cce.h=_cd0;
}
}
if(_ccf){
if(_cce.y<0){
_cce.h+=_cce.y;
_cce.y=0;
}
if(_cce.x<0){
_cce.w+=_cce.x;
_cce.x=0;
}
if(_cce.y+_cce.h>_ccb){
_cce.h=_ccb-_cce.y;
}
if(_cce.x+_cce.w>_cca){
_cce.w=_cca-_cce.x;
}
}
var l=_ccc.x-_cce.x,t=_ccc.y-Math.max(_cce.y,0),r=l+_ccc.w-_cce.w,bot=t+_ccc.h-_cce.h;
if(r*l>0){
var s=Math[l<0?"max":"min"](l,r);
if(rtl&&((isIE==8&&!_cc7)||isIE>=9)){
s=-s;
}
_ccc.x+=el.scrollLeft;
el.scrollLeft+=s;
_ccc.x-=el.scrollLeft;
}
if(bot*t>0){
_ccc.y+=el.scrollTop;
el.scrollTop+=Math[t<0?"max":"min"](t,bot);
_ccc.y-=el.scrollTop;
}
el=(el!=_cc9)&&!_ccf&&el.parentNode;
}
}
catch(error){
console.error("scrollIntoView: "+error);
node.scrollIntoView(false);
}
};
require(["dojo/_base/sniff","dojo/on"],function(has,on){
if(has("ie")==8){
var _cd2=screen.deviceXDPI;
setInterval(function(){
if(screen.deviceXDPI!=_cd2){
_cd2=screen.deviceXDPI;
on.emit(_cc1.global,"resize");
}
},250);
}
});
return _cc3;
});
},"dijit/_FocusMixin":function(){
define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_cd3,_cd4,_cd5,lang){
lang.extend(_cd4,{focused:false,onFocus:function(){
},onBlur:function(){
},_onFocus:function(){
this.onFocus();
},_onBlur:function(){
this.onBlur();
}});
return _cd5("dijit._FocusMixin",null,{_focusManager:_cd3});
});
},"dojo/data/util/filter":function(){
define("dojo/data/util/filter",["dojo/_base/lang"],function(lang){
var _cd6=lang.getObject("dojo.data.util.filter",true);
_cd6.patternToRegExp=function(_cd7,_cd8){
var rxp="^";
var c=null;
for(var i=0;i<_cd7.length;i++){
c=_cd7.charAt(i);
switch(c){
case "\\":
rxp+=c;
i++;
rxp+=_cd7.charAt(i);
break;
case "*":
rxp+=".*";
break;
case "?":
rxp+=".";
break;
case "$":
case "^":
case "/":
case "+":
case ".":
case "|":
case "(":
case ")":
case "{":
case "}":
case "[":
case "]":
rxp+="\\";
default:
rxp+=c;
}
}
rxp+="$";
if(_cd8){
return new RegExp(rxp,"mi");
}else{
return new RegExp(rxp,"m");
}
};
return _cd6;
});
},"dijit/_WidgetsInTemplateMixin":function(){
define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/_base/declare","dojo/parser","dijit/registry"],function(_cd9,_cda,_cdb,_cdc){
return _cda("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,_beforeFillContent:function(){
if(this.widgetsInTemplate){
var node=this.domNode;
var cw=(this._startupWidgets=_cdb.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"}));
this._supportingWidgets=_cdc.findWidgets(node);
this._attachTemplateNodes(cw,function(n,p){
return n[p];
});
}
},startup:function(){
_cd9.forEach(this._startupWidgets,function(w){
if(w&&!w._started&&w.startup){
w.startup();
}
});
this.inherited(arguments);
}});
});
},"url:dijit/templates/MenuBarItem.html":"<div class=\"dijitReset dijitInline dijitMenuItem dijitMenuItemLabel\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<span data-dojo-attach-point=\"containerNode\"></span>\n</div>\n","url:curam/widget/templates/OptimalBrowserMessage.html":"<div>\n  <div class=\"hidden\"\n       data-dojo-type=\"dojox/layout/ContentPane\"\n       data-dojo-attach-point=\"_optimalMessage\">\n  </div>\n</div>\n","dijit/form/FilteringSelect":function(){
define("dijit/form/FilteringSelect",["dojo/data/util/filter","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","./MappedTextBox","./ComboBoxMixin"],function(_cdd,_cde,_cdf,lang,_ce0,_ce1){
return _cde("dijit.form.FilteringSelect",[_ce0,_ce1],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){
return this._opened;
},isValid:function(){
return !!this.item||(!this.required&&this.get("displayedValue")=="");
},_refreshState:function(){
if(!this.searchTimer){
this.inherited(arguments);
}
},_callbackSetLabel:function(_ce2,_ce3,_ce4,_ce5){
if((_ce3&&_ce3[this.searchAttr]!==this._lastQuery)||(!_ce3&&_ce2.length&&this.store.getIdentity(_ce2[0])!=this._lastQuery)){
return;
}
if(!_ce2.length){
this.set("value","",_ce5||(_ce5===undefined&&!this.focused),this.textbox.value,null);
}else{
this.set("item",_ce2[0],_ce5);
}
},_openResultList:function(_ce6,_ce7,_ce8){
if(_ce7[this.searchAttr]!==this._lastQuery){
return;
}
this.inherited(arguments);
if(this.item===undefined){
this.validate(true);
}
},_getValueAttr:function(){
return this.valueNode.value;
},_getValueField:function(){
return "value";
},_setValueAttr:function(_ce9,_cea,_ceb,item){
if(!this._onChangeActive){
_cea=null;
}
if(item===undefined){
if(_ce9===null||_ce9===""){
_ce9="";
if(!lang.isString(_ceb)){
this._setDisplayedValueAttr(_ceb||"",_cea);
return;
}
}
var self=this;
this._lastQuery=_ce9;
_cdf.when(this.store.get(_ce9),function(item){
self._callbackSetLabel(item?[item]:[],undefined,undefined,_cea);
});
}else{
this.valueNode.value=_ce9;
this.inherited(arguments);
}
},_setItemAttr:function(item,_cec,_ced){
this.inherited(arguments);
this._lastDisplayedValue=this.textbox.value;
},_getDisplayQueryString:function(text){
return text.replace(/([\\\*\?])/g,"\\$1");
},_setDisplayedValueAttr:function(_cee,_cef){
if(_cee==null){
_cee="";
}
if(!this._created){
if(!("displayedValue" in this.params)){
return;
}
_cef=false;
}
if(this.store){
this.closeDropDown();
var _cf0=lang.clone(this.query);
var qs=this._getDisplayQueryString(_cee),q;
if(this.store._oldAPI){
q=qs;
}else{
q=_cdd.patternToRegExp(qs,this.ignoreCase);
q.toString=function(){
return qs;
};
}
this._lastQuery=_cf0[this.searchAttr]=q;
this.textbox.value=_cee;
this._lastDisplayedValue=_cee;
this._set("displayedValue",_cee);
var _cf1=this;
var _cf2={ignoreCase:this.ignoreCase,deep:true};
lang.mixin(_cf2,this.fetchProperties);
this._fetchHandle=this.store.query(_cf0,_cf2);
_cdf.when(this._fetchHandle,function(_cf3){
_cf1._fetchHandle=null;
_cf1._callbackSetLabel(_cf3||[],_cf0,_cf2,_cef);
},function(err){
_cf1._fetchHandle=null;
if(!_cf1._cancelingQuery){
console.error("dijit.form.FilteringSelect: "+err.toString());
}
});
}
},undo:function(){
this.set("displayedValue",this._lastDisplayedValue);
}});
});
},"dojo/data/util/sorter":function(){
define("dojo/data/util/sorter",["dojo/_base/lang"],function(lang){
var _cf4=lang.getObject("dojo.data.util.sorter",true);
_cf4.basicComparator=function(a,b){
var r=-1;
if(a===null){
a=undefined;
}
if(b===null){
b=undefined;
}
if(a==b){
r=0;
}else{
if(a>b||a==null){
r=1;
}
}
return r;
};
_cf4.createSortFunction=function(_cf5,_cf6){
var _cf7=[];
function _cf8(attr,dir,comp,s){
return function(_cf9,_cfa){
var a=s.getValue(_cf9,attr);
var b=s.getValue(_cfa,attr);
return dir*comp(a,b);
};
};
var _cfb;
var map=_cf6.comparatorMap;
var bc=_cf4.basicComparator;
for(var i=0;i<_cf5.length;i++){
_cfb=_cf5[i];
var attr=_cfb.attribute;
if(attr){
var dir=(_cfb.descending)?-1:1;
var comp=bc;
if(map){
if(typeof attr!=="string"&&("toString" in attr)){
attr=attr.toString();
}
comp=map[attr]||bc;
}
_cf7.push(_cf8(attr,dir,comp,_cf6));
}
}
return function(rowA,rowB){
var i=0;
while(i<_cf7.length){
var ret=_cf7[i++](rowA,rowB);
if(ret!==0){
return ret;
}
}
return 0;
};
};
return _cf4;
});
},"dijit/form/_ButtonMixin":function(){
define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(_cfc,dom,_cfd,_cfe){
return _cfc("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(e){
if(this.disabled){
_cfd.stop(e);
return false;
}
var _cff=this.onClick(e)===false;
if(!_cff&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){
for(var node=this.domNode;node.parentNode;node=node.parentNode){
var _d00=_cfe.byNode(node);
if(_d00&&typeof _d00._onSubmit=="function"){
_d00._onSubmit(e);
_cff=true;
break;
}
}
}
if(_cff){
e.preventDefault();
}
return !_cff;
},postCreate:function(){
this.inherited(arguments);
dom.setSelectable(this.focusNode,false);
},onClick:function(){
return true;
},_setLabelAttr:function(_d01){
this._set("label",_d01);
(this.containerNode||this.focusNode).innerHTML=_d01;
}});
});
},"dijit/registry":function(){
define("dijit/registry",["dojo/_base/array","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window","."],function(_d02,has,_d03,win,_d04){
var _d05={},hash={};
var _d06={length:0,add:function(_d07){
if(hash[_d07.id]){
throw new Error("Tried to register widget with id=="+_d07.id+" but that id is already registered");
}
hash[_d07.id]=_d07;
this.length++;
},remove:function(id){
if(hash[id]){
delete hash[id];
this.length--;
}
},byId:function(id){
return typeof id=="string"?hash[id]:id;
},byNode:function(node){
return hash[node.getAttribute("widgetId")];
},toArray:function(){
var ar=[];
for(var id in hash){
ar.push(hash[id]);
}
return ar;
},getUniqueId:function(_d08){
var id;
do{
id=_d08+"_"+(_d08 in _d05?++_d05[_d08]:_d05[_d08]=0);
}while(hash[id]);
return _d04._scopeName=="dijit"?id:_d04._scopeName+"_"+id;
},findWidgets:function(root){
var _d09=[];
function _d0a(root){
for(var node=root.firstChild;node;node=node.nextSibling){
if(node.nodeType==1){
var _d0b=node.getAttribute("widgetId");
if(_d0b){
var _d0c=hash[_d0b];
if(_d0c){
_d09.push(_d0c);
}
}else{
_d0a(node);
}
}
}
};
_d0a(root);
return _d09;
},_destroyAll:function(){
_d04._curFocus=null;
_d04._prevFocus=null;
_d04._activeStack=[];
_d02.forEach(_d06.findWidgets(win.body()),function(_d0d){
if(!_d0d._destroyed){
if(_d0d.destroyRecursive){
_d0d.destroyRecursive();
}else{
if(_d0d.destroy){
_d0d.destroy();
}
}
}
});
},getEnclosingWidget:function(node){
while(node){
var id=node.getAttribute&&node.getAttribute("widgetId");
if(id){
return hash[id];
}
node=node.parentNode;
}
return null;
},_hash:hash};
_d04.registry=_d06;
return _d06;
});
},"dojo/date/locale":function(){
define("dojo/date/locale",["../_base/kernel","../_base/lang","../_base/array","../date","../cldr/supplemental","../regexp","../string","../i18n!../cldr/nls/gregorian"],function(dojo,lang,_d0e,date,cldr,_d0f,_d10,_d11){
lang.getObject("date.locale",true,dojo);
function _d12(_d13,_d14,_d15,_d16){
return _d16.replace(/([a-z])\1*/ig,function(_d17){
var s,pad,c=_d17.charAt(0),l=_d17.length,_d18=["abbr","wide","narrow"];
switch(c){
case "G":
s=_d14[(l<4)?"eraAbbr":"eraNames"][_d13.getFullYear()<0?0:1];
break;
case "y":
s=_d13.getFullYear();
switch(l){
case 1:
break;
case 2:
if(!_d15.fullYear){
s=String(s);
s=s.substr(s.length-2);
break;
}
default:
pad=true;
}
break;
case "Q":
case "q":
s=Math.ceil((_d13.getMonth()+1)/3);
pad=true;
break;
case "M":
var m=_d13.getMonth();
if(l<3){
s=m+1;
pad=true;
}else{
var _d19=["months","format",_d18[l-3]].join("-");
s=_d14[_d19][m];
}
break;
case "w":
var _d1a=0;
s=dojo.date.locale._getWeekOfYear(_d13,_d1a);
pad=true;
break;
case "d":
s=_d13.getDate();
pad=true;
break;
case "D":
s=dojo.date.locale._getDayOfYear(_d13);
pad=true;
break;
case "E":
var d=_d13.getDay();
if(l<3){
s=d+1;
pad=true;
}else{
var _d1b=["days","format",_d18[l-3]].join("-");
s=_d14[_d1b][d];
}
break;
case "a":
var _d1c=(_d13.getHours()<12)?"am":"pm";
s=_d15[_d1c]||_d14["dayPeriods-format-wide-"+_d1c];
break;
case "h":
case "H":
case "K":
case "k":
var h=_d13.getHours();
switch(c){
case "h":
s=(h%12)||12;
break;
case "H":
s=h;
break;
case "K":
s=(h%12);
break;
case "k":
s=h||24;
break;
}
pad=true;
break;
case "m":
s=_d13.getMinutes();
pad=true;
break;
case "s":
s=_d13.getSeconds();
pad=true;
break;
case "S":
s=Math.round(_d13.getMilliseconds()*Math.pow(10,l-3));
pad=true;
break;
case "v":
case "z":
s=dojo.date.locale._getZone(_d13,true,_d15);
if(s){
break;
}
l=4;
case "Z":
var _d1d=dojo.date.locale._getZone(_d13,false,_d15);
var tz=[(_d1d<=0?"+":"-"),_d10.pad(Math.floor(Math.abs(_d1d)/60),2),_d10.pad(Math.abs(_d1d)%60,2)];
if(l==4){
tz.splice(0,0,"GMT");
tz.splice(3,0,":");
}
s=tz.join("");
break;
default:
throw new Error("dojo.date.locale.format: invalid pattern char: "+_d16);
}
if(pad){
s=_d10.pad(s,l);
}
return s;
});
};
dojo.date.locale._getZone=function(_d1e,_d1f,_d20){
if(_d1f){
return date.getTimezoneName(_d1e);
}else{
return _d1e.getTimezoneOffset();
}
};
dojo.date.locale.format=function(_d21,_d22){
_d22=_d22||{};
var _d23=dojo.i18n.normalizeLocale(_d22.locale),_d24=_d22.formatLength||"short",_d25=dojo.date.locale._getGregorianBundle(_d23),str=[],_d26=lang.hitch(this,_d12,_d21,_d25,_d22);
if(_d22.selector=="year"){
return _d27(_d25["dateFormatItem-yyyy"]||"yyyy",_d26);
}
var _d28;
if(_d22.selector!="date"){
_d28=_d22.timePattern||_d25["timeFormat-"+_d24];
if(_d28){
str.push(_d27(_d28,_d26));
}
}
if(_d22.selector!="time"){
_d28=_d22.datePattern||_d25["dateFormat-"+_d24];
if(_d28){
str.push(_d27(_d28,_d26));
}
}
return str.length==1?str[0]:_d25["dateTimeFormat-"+_d24].replace(/\{(\d+)\}/g,function(_d29,key){
return str[key];
});
};
dojo.date.locale.regexp=function(_d2a){
return dojo.date.locale._parseInfo(_d2a).regexp;
};
dojo.date.locale._parseInfo=function(_d2b){
_d2b=_d2b||{};
var _d2c=dojo.i18n.normalizeLocale(_d2b.locale),_d2d=dojo.date.locale._getGregorianBundle(_d2c),_d2e=_d2b.formatLength||"short",_d2f=_d2b.datePattern||_d2d["dateFormat-"+_d2e],_d30=_d2b.timePattern||_d2d["timeFormat-"+_d2e],_d31;
if(_d2b.selector=="date"){
_d31=_d2f;
}else{
if(_d2b.selector=="time"){
_d31=_d30;
}else{
_d31=_d2d["dateTimeFormat-"+_d2e].replace(/\{(\d+)\}/g,function(_d32,key){
return [_d30,_d2f][key];
});
}
}
var _d33=[],re=_d27(_d31,lang.hitch(this,_d34,_d33,_d2d,_d2b));
return {regexp:re,tokens:_d33,bundle:_d2d};
};
dojo.date.locale.parse=function(_d35,_d36){
var _d37=/[\u200E\u200F\u202A\u202E]/g,info=dojo.date.locale._parseInfo(_d36),_d38=info.tokens,_d39=info.bundle,re=new RegExp("^"+info.regexp.replace(_d37,"")+"$",info.strict?"":"i"),_d3a=re.exec(_d35&&_d35.replace(_d37,""));
if(!_d3a){
return null;
}
var _d3b=["abbr","wide","narrow"],_d3c=[1970,0,1,0,0,0,0],amPm="",_d3d=dojo.every(_d3a,function(v,i){
if(!i){
return true;
}
var _d3e=_d38[i-1];
var l=_d3e.length;
switch(_d3e.charAt(0)){
case "y":
if(l!=2&&_d36.strict){
_d3c[0]=v;
}else{
if(v<100){
v=Number(v);
var year=""+new Date().getFullYear(),_d3f=year.substring(0,2)*100,_d40=Math.min(Number(year.substring(2,4))+20,99);
_d3c[0]=(v<_d40)?_d3f+v:_d3f-100+v;
}else{
if(_d36.strict){
return false;
}
_d3c[0]=v;
}
}
break;
case "M":
if(l>2){
var _d41=_d39["months-format-"+_d3b[l-3]].concat();
if(!_d36.strict){
v=v.replace(".","").toLowerCase();
_d41=dojo.map(_d41,function(s){
return s.replace(".","").toLowerCase();
});
}
v=dojo.indexOf(_d41,v);
if(v==-1){
return false;
}
}else{
v--;
}
_d3c[1]=v;
break;
case "E":
case "e":
var days=_d39["days-format-"+_d3b[l-3]].concat();
if(!_d36.strict){
v=v.toLowerCase();
days=dojo.map(days,function(d){
return d.toLowerCase();
});
}
v=dojo.indexOf(days,v);
if(v==-1){
return false;
}
break;
case "D":
_d3c[1]=0;
case "d":
_d3c[2]=v;
break;
case "a":
var am=_d36.am||_d39["dayPeriods-format-wide-am"],pm=_d36.pm||_d39["dayPeriods-format-wide-pm"];
if(!_d36.strict){
var _d42=/\./g;
v=v.replace(_d42,"").toLowerCase();
am=am.replace(_d42,"").toLowerCase();
pm=pm.replace(_d42,"").toLowerCase();
}
if(_d36.strict&&v!=am&&v!=pm){
return false;
}
amPm=(v==pm)?"p":(v==am)?"a":"";
break;
case "K":
if(v==24){
v=0;
}
case "h":
case "H":
case "k":
if(v>23){
return false;
}
_d3c[3]=v;
break;
case "m":
_d3c[4]=v;
break;
case "s":
_d3c[5]=v;
break;
case "S":
_d3c[6]=v;
}
return true;
});
var _d43=+_d3c[3];
if(amPm==="p"&&_d43<12){
_d3c[3]=_d43+12;
}else{
if(amPm==="a"&&_d43==12){
_d3c[3]=0;
}
}
var _d44=new Date(_d3c[0],_d3c[1],_d3c[2],_d3c[3],_d3c[4],_d3c[5],_d3c[6]);
if(_d36.strict){
_d44.setFullYear(_d3c[0]);
}
var _d45=_d38.join(""),_d46=_d45.indexOf("d")!=-1,_d47=_d45.indexOf("M")!=-1;
if(!_d3d||(_d47&&_d44.getMonth()>_d3c[1])||(_d46&&_d44.getDate()>_d3c[2])){
return null;
}
if((_d47&&_d44.getMonth()<_d3c[1])||(_d46&&_d44.getDate()<_d3c[2])){
_d44=date.add(_d44,"hour",1);
}
return _d44;
};
function _d27(_d48,_d49,_d4a,_d4b){
var _d4c=function(x){
return x;
};
_d49=_d49||_d4c;
_d4a=_d4a||_d4c;
_d4b=_d4b||_d4c;
var _d4d=_d48.match(/(''|[^'])+/g),_d4e=_d48.charAt(0)=="'";
dojo.forEach(_d4d,function(_d4f,i){
if(!_d4f){
_d4d[i]="";
}else{
_d4d[i]=(_d4e?_d4a:_d49)(_d4f.replace(/''/g,"'"));
_d4e=!_d4e;
}
});
return _d4b(_d4d.join(""));
};
function _d34(_d50,_d51,_d52,_d53){
_d53=_d0f.escapeString(_d53);
if(!_d52.strict){
_d53=_d53.replace(" a"," ?a");
}
return _d53.replace(/([a-z])\1*/ig,function(_d54){
var s,c=_d54.charAt(0),l=_d54.length,p2="",p3="";
if(_d52.strict){
if(l>1){
p2="0"+"{"+(l-1)+"}";
}
if(l>2){
p3="0"+"{"+(l-2)+"}";
}
}else{
p2="0?";
p3="0{0,2}";
}
switch(c){
case "y":
s="\\d{2,4}";
break;
case "M":
s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";
break;
case "D":
s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";
break;
case "d":
s="3[01]|[12]\\d|"+p2+"[1-9]";
break;
case "w":
s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";
break;
case "E":
s="\\S+";
break;
case "h":
s="1[0-2]|"+p2+"[1-9]";
break;
case "k":
s="1[01]|"+p2+"\\d";
break;
case "H":
s="1\\d|2[0-3]|"+p2+"\\d";
break;
case "K":
s="1\\d|2[0-4]|"+p2+"[1-9]";
break;
case "m":
case "s":
s="[0-5]\\d";
break;
case "S":
s="\\d{"+l+"}";
break;
case "a":
var am=_d52.am||_d51["dayPeriods-format-wide-am"],pm=_d52.pm||_d51["dayPeriods-format-wide-pm"];
s=am+"|"+pm;
if(!_d52.strict){
if(am!=am.toLowerCase()){
s+="|"+am.toLowerCase();
}
if(pm!=pm.toLowerCase()){
s+="|"+pm.toLowerCase();
}
if(s.indexOf(".")!=-1){
s+="|"+s.replace(/\./g,"");
}
}
s=s.replace(/\./g,"\\.");
break;
default:
s=".*";
}
if(_d50){
_d50.push(_d54);
}
return "("+s+")";
}).replace(/[\xa0 ]/g,"[\\s\\xa0]");
};
var _d55=[];
dojo.date.locale.addCustomFormats=function(_d56,_d57){
_d55.push({pkg:_d56,name:_d57});
};
dojo.date.locale._getGregorianBundle=function(_d58){
var _d59={};
dojo.forEach(_d55,function(desc){
var _d5a=dojo.i18n.getLocalization(desc.pkg,desc.name,_d58);
_d59=lang.mixin(_d59,_d5a);
},this);
return _d59;
};
dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");
dojo.date.locale.getNames=function(item,type,_d5b,_d5c){
var _d5d,_d5e=dojo.date.locale._getGregorianBundle(_d5c),_d5f=[item,_d5b,type];
if(_d5b=="standAlone"){
var key=_d5f.join("-");
_d5d=_d5e[key];
if(_d5d[0]==1){
_d5d=undefined;
}
}
_d5f[1]="format";
return (_d5d||_d5e[_d5f.join("-")]).concat();
};
dojo.date.locale.isWeekend=function(_d60,_d61){
var _d62=cldr.getWeekend(_d61),day=(_d60||new Date()).getDay();
if(_d62.end<_d62.start){
_d62.end+=7;
if(day<_d62.start){
day+=7;
}
}
return day>=_d62.start&&day<=_d62.end;
};
dojo.date.locale._getDayOfYear=function(_d63){
return date.difference(new Date(_d63.getFullYear(),0,1,_d63.getHours()),_d63)+1;
};
dojo.date.locale._getWeekOfYear=function(_d64,_d65){
if(arguments.length==1){
_d65=0;
}
var _d66=new Date(_d64.getFullYear(),0,1).getDay(),adj=(_d66-_d65+7)%7,week=Math.floor((dojo.date.locale._getDayOfYear(_d64)+adj-1)/7);
if(_d66==_d65){
week++;
}
return week;
};
return dojo.date.locale;
});
},"dijit/tree/_dndContainer":function(){
define("dijit/tree/_dndContainer",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/mouse","dojo/on"],function(_d67,_d68,_d69,_d6a,lang,_d6b,on){
return _d68("dijit.tree._dndContainer",null,{constructor:function(tree,_d6c){
this.tree=tree;
this.node=tree.domNode;
lang.mixin(this,_d6c);
this.current=null;
this.containerState="";
_d69.add(this.node,"dojoDndContainer");
this.events=[on(this.node,_d6b.enter,lang.hitch(this,"onOverEvent")),on(this.node,_d6b.leave,lang.hitch(this,"onOutEvent")),_d67.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_d67.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart",lang.hitch(_d6a,"stop")),on(this.node,"selectstart",lang.hitch(_d6a,"stop"))];
},destroy:function(){
var h;
while(h=this.events.pop()){
h.remove();
}
this.node=this.parent=null;
},onMouseOver:function(_d6d){
this.current=_d6d;
},onMouseOut:function(){
this.current=null;
},_changeState:function(type,_d6e){
var _d6f="dojoDnd"+type;
var _d70=type.toLowerCase()+"State";
_d69.replace(this.node,_d6f+_d6e,_d6f+this[_d70]);
this[_d70]=_d6e;
},_addItemClass:function(node,type){
_d69.add(node,"dojoDndItem"+type);
},_removeItemClass:function(node,type){
_d69.remove(node,"dojoDndItem"+type);
},onOverEvent:function(){
this._changeState("Container","Over");
},onOutEvent:function(){
this._changeState("Container","");
}});
});
},"curam/layout/TabContainer":function(){
require({cache:{"url:curam/layout/resources/TabContainer.html":"<div class=\"dijitTabContainer\">\r\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\r\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer dijitAlignTop\"></div>\r\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container dijitAlignClient\" data-dojo-attach-point=\"containerNode\"></div>\r\n</div>\r\n"}});
define("curam/layout/TabContainer",["dijit/layout/TabContainer","dojo/text!curam/layout/resources/TabContainer.html"],function(_d71,_d72){
var _d73=dojo.declare("curam.layout.TabContainer",_d71,{templateString:_d72,_theSelectedTabIndex:0,_thePage:null,_theChildren:null,postCreate:function(){
this.inherited(arguments);
var tl=this.tablist;
this.connect(tl,"onRemoveChild","_changeTab");
},_changeTab:function(){
if(this._beingDestroyed){
this._thePage=null;
this._theChildren=null;
return;
}
if(this._theChildren==null){
return;
}
if(this._theChildren[this._theSelectedTabIndex]!=this._thePage){
this.selectChild(this._theChildren[this._theSelectedTabIndex]);
this._thePage=null;
this._theChildren=null;
return;
}
if(this._theChildren.length<1){
this._thePage=null;
return;
}else{
if(this._theChildren.length==1){
this.selectChild(this._theChildren[this._theChildren.length-1]);
this._thePage=null;
this._theChildren=null;
}else{
if(this._theSelectedTabIndex==(this._theChildren.length-1)){
this.selectChild(this._theChildren[this._theChildren.length-2]);
}else{
if(this._theSelectedTabIndex==0){
this.selectChild(this._theChildren[1]);
}else{
if(this._theChildren.length>2){
this.selectChild(this._theChildren[this._theSelectedTabIndex+1]);
}
}
}
this._thePage=null;
this._theChildren=null;
}
}
},removeChild:function(page){
if(this._started&&!this._beingDestroyed){
var _d74=this.getChildren();
var i=0;
var _d75=0;
for(i=0;i<_d74.length;i++){
if(_d74[i].get("selected")){
_d75=i;
break;
}
}
this._theSelectedTabIndex=_d75;
this._thePage=page;
this._theChildren=_d74;
}
this.inherited(arguments);
}});
return _d73;
});
},"dijit/form/_FormSelectWidget":function(){
define("dijit/form/_FormSelectWidget",["dojo/_base/array","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","./_FormValueWidget"],function(_d76,_d77,_d78,_d79,dom,_d7a,_d7b,lang,_d7c,_d7d){
return _d79("dijit.form._FormSelectWidget",_d7d,{multiple:false,options:null,store:null,query:null,queryOptions:null,onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,getOptions:function(_d7e){
var _d7f=_d7e,opts=this.options||[],l=opts.length;
if(_d7f===undefined){
return opts;
}
if(lang.isArray(_d7f)){
return _d76.map(_d7f,"return this.getOptions(item);",this);
}
if(lang.isObject(_d7e)){
if(!_d76.some(this.options,function(o,idx){
if(o===_d7f||(o.value&&o.value===_d7f.value)){
_d7f=idx;
return true;
}
return false;
})){
_d7f=-1;
}
}
if(typeof _d7f=="string"){
for(var i=0;i<l;i++){
if(opts[i].value===_d7f){
_d7f=i;
break;
}
}
}
if(typeof _d7f=="number"&&_d7f>=0&&_d7f<l){
return this.options[_d7f];
}
return null;
},addOption:function(_d80){
if(!lang.isArray(_d80)){
_d80=[_d80];
}
_d76.forEach(_d80,function(i){
if(i&&lang.isObject(i)){
this.options.push(i);
}
},this);
this._loadChildren();
},removeOption:function(_d81){
if(!lang.isArray(_d81)){
_d81=[_d81];
}
var _d82=this.getOptions(_d81);
_d76.forEach(_d82,function(i){
if(i){
this.options=_d76.filter(this.options,function(node){
return (node.value!==i.value||node.label!==i.label);
});
this._removeOptionItem(i);
}
},this);
this._loadChildren();
},updateOption:function(_d83){
if(!lang.isArray(_d83)){
_d83=[_d83];
}
_d76.forEach(_d83,function(i){
var _d84=this.getOptions(i),k;
if(_d84){
for(k in i){
_d84[k]=i[k];
}
}
},this);
this._loadChildren();
},setStore:function(_d85,_d86,_d87){
var _d88=this.store;
_d87=_d87||{};
if(_d88!==_d85){
var h;
while(h=this._notifyConnections.pop()){
h.remove();
}
if(_d85&&_d85.getFeatures()["dojo.data.api.Notification"]){
this._notifyConnections=[_d77.after(_d85,"onNew",lang.hitch(this,"_onNewItem"),true),_d77.after(_d85,"onDelete",lang.hitch(this,"_onDeleteItem"),true),_d77.after(_d85,"onSet",lang.hitch(this,"_onSetItem"),true)];
}
this._set("store",_d85);
}
this._onChangeActive=false;
if(this.options&&this.options.length){
this.removeOption(this.options);
}
if(_d85){
this._loadingStore=true;
_d85.fetch(lang.delegate(_d87,{onComplete:function(_d89,opts){
if(this.sortByLabel&&!_d87.sort&&_d89.length){
_d89.sort(_d78.createSortFunction([{attribute:_d85.getLabelAttributes(_d89[0])[0]}],_d85));
}
if(_d87.onFetch){
_d89=_d87.onFetch.call(this,_d89,opts);
}
_d76.forEach(_d89,function(i){
this._addOptionForItem(i);
},this);
this._loadingStore=false;
this.set("value","_pendingValue" in this?this._pendingValue:_d86);
delete this._pendingValue;
if(!this.loadChildrenOnOpen){
this._loadChildren();
}else{
this._pseudoLoadChildren(_d89);
}
this._fetchedWith=opts;
this._lastValueReported=this.multiple?[]:null;
this._onChangeActive=true;
this.onSetStore();
this._handleOnChange(this.value);
},scope:this}));
}else{
delete this._fetchedWith;
}
return _d88;
},_setValueAttr:function(_d8a,_d8b){
if(this._loadingStore){
this._pendingValue=_d8a;
return;
}
var opts=this.getOptions()||[];
if(!lang.isArray(_d8a)){
_d8a=[_d8a];
}
_d76.forEach(_d8a,function(i,idx){
if(!lang.isObject(i)){
i=i+"";
}
if(typeof i==="string"){
_d8a[idx]=_d76.filter(opts,function(node){
return node.value===i;
})[0]||{value:"",label:""};
}
},this);
_d8a=_d76.filter(_d8a,function(i){
return i&&i.value;
});
if(!this.multiple&&(!_d8a[0]||!_d8a[0].value)&&opts.length){
_d8a[0]=opts[0];
}
_d76.forEach(opts,function(i){
i.selected=_d76.some(_d8a,function(v){
return v.value===i.value;
});
});
var val=_d76.map(_d8a,function(i){
return i.value;
}),disp=_d76.map(_d8a,function(i){
return i.label;
});
this._set("value",this.multiple?val:val[0]);
this._setDisplay(this.multiple?disp:disp[0]);
this._updateSelection();
this._handleOnChange(this.value,_d8b);
},_getDisplayedValueAttr:function(){
var val=this.get("value");
if(!lang.isArray(val)){
val=[val];
}
var ret=_d76.map(this.getOptions(val),function(v){
if(v&&"label" in v){
return v.label;
}else{
if(v){
return v.value;
}
}
return null;
},this);
return this.multiple?ret:ret[0];
},_loadChildren:function(){
if(this._loadingStore){
return;
}
_d76.forEach(this._getChildren(),function(_d8c){
_d8c.destroyRecursive();
});
_d76.forEach(this.options,this._addOptionItem,this);
this._updateSelection();
},_updateSelection:function(){
this._set("value",this._getValueFromOpts());
var val=this.value;
if(!lang.isArray(val)){
val=[val];
}
if(val&&val[0]){
_d76.forEach(this._getChildren(),function(_d8d){
var _d8e=_d76.some(val,function(v){
return _d8d.option&&(v===_d8d.option.value);
});
_d7a.toggle(_d8d.domNode,this.baseClass+"SelectedOption",_d8e);
_d8d.domNode.setAttribute("aria-selected",_d8e);
},this);
}
},_getValueFromOpts:function(){
var opts=this.getOptions()||[];
if(!this.multiple&&opts.length){
var opt=_d76.filter(opts,function(i){
return i.selected;
})[0];
if(opt&&opt.value){
return opt.value;
}else{
opts[0].selected=true;
return opts[0].value;
}
}else{
if(this.multiple){
return _d76.map(_d76.filter(opts,function(i){
return i.selected;
}),function(i){
return i.value;
})||[];
}
}
return "";
},_onNewItem:function(item,_d8f){
if(!_d8f||!_d8f.parent){
this._addOptionForItem(item);
}
},_onDeleteItem:function(item){
var _d90=this.store;
this.removeOption(_d90.getIdentity(item));
},_onSetItem:function(item){
this.updateOption(this._getOptionObjForItem(item));
},_getOptionObjForItem:function(item){
var _d91=this.store,_d92=_d91.getLabel(item),_d93=(_d92?_d91.getIdentity(item):null);
return {value:_d93,label:_d92,item:item};
},_addOptionForItem:function(item){
var _d94=this.store;
if(!_d94.isItemLoaded(item)){
_d94.loadItem({item:item,onItem:function(i){
this._addOptionForItem(i);
},scope:this});
return;
}
var _d95=this._getOptionObjForItem(item);
this.addOption(_d95);
},constructor:function(_d96){
this._oValue=(_d96||{}).value||null;
this._notifyConnections=[];
},buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.focusNode,false);
},_fillContent:function(){
var opts=this.options;
if(!opts){
opts=this.options=this.srcNodeRef?_d7c("> *",this.srcNodeRef).map(function(node){
if(node.getAttribute("type")==="separator"){
return {value:"",label:"",selected:false,disabled:false};
}
return {value:(node.getAttribute("data-"+_d7b._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};
},this):[];
}
if(!this.value){
this._set("value",this._getValueFromOpts());
}else{
if(this.multiple&&typeof this.value=="string"){
this._set("value",this.value.split(","));
}
}
},postCreate:function(){
this.inherited(arguments);
this.connect(this,"onChange","_updateSelection");
this.connect(this,"startup","_loadChildren");
this._setValueAttr(this.value,null);
},startup:function(){
this.inherited(arguments);
var _d97=this.store,_d98={};
_d76.forEach(["query","queryOptions","onFetch"],function(i){
if(this[i]){
_d98[i]=this[i];
}
delete this[i];
},this);
if(_d97&&_d97.getFeatures()["dojo.data.api.Identity"]){
this.store=null;
this.setStore(_d97,this._oValue,_d98);
}
},destroy:function(){
var h;
while(h=this._notifyConnections.pop()){
h.remove();
}
this.inherited(arguments);
},_addOptionItem:function(){
},_removeOptionItem:function(){
},_setDisplay:function(){
},_getChildren:function(){
return [];
},_getSelectedOptionsAttr:function(){
return this.getOptions(this.get("value"));
},_pseudoLoadChildren:function(){
},onSetStore:function(){
}});
});
},"curam/util/ResourceBundle":function(){
define("curam/util/ResourceBundle",["dojo/i18n","dojo/string"],function(i18n,_d99){
var _d9a=dojo.declare("curam.util.ResourceBundle",null,{_bundle:undefined,constructor:function(_d9b,_d9c){
var _d9d=_d9b.split(".");
var _d9e=_d9d[_d9d.length-1];
var _d9f=_d9d.length==1?"curam.application":_d9b.slice(0,_d9b.length-_d9e.length-1);
try{
var b=i18n.getLocalization(_d9f,_d9e,_d9c);
if(this._isEmpty(b)){
throw new Error("Empty resource bundle.");
}else{
this._bundle=b;
}
}
catch(e){
throw new Error("Unable to access resource bundle: "+_d9f+"."+_d9e+": "+e.message);
}
},_isEmpty:function(_da0){
for(var prop in _da0){
return false;
}
return true;
},getProperty:function(key,_da1){
var msg=this._bundle[key];
var _da2=msg;
if(_da1){
_da2=_d99.substitute(msg,_da1);
}
return _da2;
}});
return _d9a;
});
},"dijit/form/Select":function(){
require({cache:{"url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode\" cellspacing='0' cellpadding='0'\n\trole=\"combobox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\" role=\"presentation\"\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  data-dojo-attach-point=\"containerNode,_popupStateNode\"></span\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n"}});
define("dijit/form/Select",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/_base/event","dojo/i18n","dojo/_base/lang","./_FormSelectWidget","../_HasDropDown","../Menu","../MenuItem","../MenuSeparator","../Tooltip","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(_da3,_da4,_da5,_da6,_da7,_da8,_da9,i18n,lang,_daa,_dab,Menu,_dac,_dad,_dae,_daf){
var _db0=_da4("dijit.form._SelectMenu",Menu,{buildRendering:function(){
this.inherited(arguments);
var o=(this.menuTableNode=this.domNode);
var n=(this.domNode=_da7.create("div",{style:{overflowX:"hidden",overflowY:"scroll"}}));
if(o.parentNode){
o.parentNode.replaceChild(n,o);
}
_da6.remove(o,"dijitMenuTable");
n.className=o.className+" dijitSelectMenu";
o.className="dijitReset dijitMenuTable";
o.setAttribute("role","listbox");
n.setAttribute("role","presentation");
n.appendChild(o);
},postCreate:function(){
this.inherited(arguments);
this.connect(this.domNode,"onmousemove",_da9.stop);
},resize:function(mb){
if(mb){
_da8.setMarginBox(this.domNode,mb);
if("w" in mb){
this.menuTableNode.style.width="100%";
}
}
}});
var _db1=_da4("dijit.form.Select",[_daa,_dab],{baseClass:"dijitSelect",templateString:_daf,required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:false,_childrenLoaded:false,_fillContent:function(){
this.inherited(arguments);
if(this.options.length&&!this.value&&this.srcNodeRef){
var si=this.srcNodeRef.selectedIndex||0;
this.value=this.options[si>=0?si:0].value;
}
this.dropDown=new _db0({id:this.id+"_menu"});
_da6.add(this.dropDown.domNode,this.baseClass+"Menu");
},_getMenuItemForOption:function(_db2){
if(!_db2.value&&!_db2.label){
return new _dad();
}else{
var _db3=lang.hitch(this,"_setValueAttr",_db2);
var item=new _dac({option:_db2,label:_db2.label||this.emptyLabel,onClick:_db3,disabled:_db2.disabled||false});
item.focusNode.setAttribute("role","listitem");
return item;
}
},_addOptionItem:function(_db4){
if(this.dropDown){
this.dropDown.addChild(this._getMenuItemForOption(_db4));
}
},_getChildren:function(){
if(!this.dropDown){
return [];
}
return this.dropDown.getChildren();
},_loadChildren:function(_db5){
if(_db5===true){
if(this.dropDown){
delete this.dropDown.focusedChild;
}
if(this.options.length){
this.inherited(arguments);
}else{
_da3.forEach(this._getChildren(),function(_db6){
_db6.destroyRecursive();
});
var item=new _dac({label:"&#160;"});
this.dropDown.addChild(item);
}
}else{
this._updateSelection();
}
this._isLoaded=false;
this._childrenLoaded=true;
if(!this._loadingStore){
this._setValueAttr(this.value);
}
},_setValueAttr:function(_db7){
this.inherited(arguments);
_da5.set(this.valueNode,"value",this.get("value"));
this.validate(this.focused);
},_setDisabledAttr:function(_db8){
this.inherited(arguments);
this.validate(this.focused);
},_setRequiredAttr:function(_db9){
this._set("required",_db9);
this.focusNode.setAttribute("aria-required",_db9);
this.validate(this.focused);
},_setDisplay:function(_dba){
var lbl=_dba||this.emptyLabel;
this.containerNode.innerHTML="<span class=\"dijitReset dijitInline "+this.baseClass+"Label\">"+lbl+"</span>";
this.focusNode.setAttribute("aria-valuetext",lbl);
},validate:function(_dbb){
var _dbc=this.disabled||this.isValid(_dbb);
this._set("state",_dbc?"":"Incomplete");
this.focusNode.setAttribute("aria-invalid",_dbc?"false":"true");
var _dbd=_dbc?"":this._missingMsg;
if(_dbd&&this.focused&&this._hasBeenBlurred){
_dae.show(_dbd,this.domNode,this.tooltipPosition,!this.isLeftToRight());
}else{
_dae.hide(this.domNode);
}
this._set("message",_dbd);
return _dbc;
},isValid:function(){
return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));
},reset:function(){
this.inherited(arguments);
_dae.hide(this.domNode);
this.validate(this.focused);
},postMixInProperties:function(){
this.inherited(arguments);
this._missingMsg=i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;
},postCreate:function(){
this.inherited(arguments);
this.connect(this.domNode,"onmousemove",_da9.stop);
},_setStyleAttr:function(_dbe){
this.inherited(arguments);
_da6.toggle(this.domNode,this.baseClass+"FixedWidth",!!this.domNode.style.width);
},isLoaded:function(){
return this._isLoaded;
},loadDropDown:function(_dbf){
this._loadChildren(true);
this._isLoaded=true;
_dbf();
},closeDropDown:function(){
this.inherited(arguments);
if(this.dropDown&&this.dropDown.menuTableNode){
this.dropDown.menuTableNode.style.width="";
}
},uninitialize:function(_dc0){
if(this.dropDown&&!this.dropDown._destroyed){
this.dropDown.destroyRecursive(_dc0);
delete this.dropDown;
}
this.inherited(arguments);
},_onFocus:function(){
this.validate(true);
this.inherited(arguments);
},_onBlur:function(){
_dae.hide(this.domNode);
this.inherited(arguments);
}});
_db1._Menu=_db0;
return _db1;
});
},"dojo/store/util/QueryResults":function(){
define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],function(_dc1,lang,_dc2){
var util=lang.getObject("dojo.store.util",true);
util.QueryResults=function(_dc3){
if(!_dc3){
return _dc3;
}
if(_dc3.then){
_dc3=lang.delegate(_dc3);
}
function _dc4(_dc5){
if(!_dc3[_dc5]){
_dc3[_dc5]=function(){
var args=arguments;
return _dc2.when(_dc3,function(_dc6){
Array.prototype.unshift.call(args,_dc6);
return util.QueryResults(_dc1[_dc5].apply(_dc1,args));
});
};
}
};
_dc4("forEach");
_dc4("filter");
_dc4("map");
if(!_dc3.total){
_dc3.total=_dc2.when(_dc3,function(_dc7){
return _dc7.length;
});
}
return _dc3;
};
return util.QueryResults;
});
},"curam/FastUIMController":function(){
define("curam/FastUIMController",["dojo/parser","curam/UIMController","curam/debug","curam/util/onLoad","curam/util/ResourceBundle"],function(_dc8){
dojo.requireLocalization("curam.application","Debug");
var _dc9=new curam.util.ResourceBundle("Debug");
var _dca=dojo.declare("curam.FastUIMController",[curam.UIMController],{buildRendering:function(){
this.domNode=this.srcNodeRef;
this._attachTemplateNodes(this.domNode,function(node,prop){
return node.getAttribute(prop);
});
},postCreate:function(){
},startup:function(){
this.tabController=dijit.byId(this.tabControllerId);
dojo.attr(this.frame,"iscpiframe",this.iscpiframe);
dojo.attr(this.frame,"title",this.title);
dojo.addClass(this.frame,this.iframeClassList);
dojo.addClass(this.domNode,this.classList);
this.frameLoadEvent=this.EVENT.TOPIC_PREFIX+this.frame.id;
this.setURL(this.url);
if(this._iframeLoaded()){
curam.debug.log("curam.FastUIMController "+_dc9.getProperty("curam.FastUIMControlle.msg"));
}else{
var _dcb=dojo.hitch(this,"processFrameLoadEvent");
curam.util.onLoad.addSubscriber(this.frame.id,_dcb);
dojo.connect(this,"destroy",function(){
curam.util.onLoad.removeSubscriber(this.iframeId,_dcb);
_dcb=null;
});
}
if(this.inDialog){
dojo.style(this.frame,{width:this.width,height:this.height});
}
},_iframeLoaded:function(){
return dojo.attr(this.frame,"data-done-loading")=="true";
}});
return _dca;
});
},"curam/widget/DeferredDropDownButton":function(){
require({cache:{"url:curam/widget/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n"}});
define("curam/widget/DeferredDropDownButton",["dijit/form/DropDownButton","dojo/text!curam/widget/templates/DropDownButton.html","dijit/form/Button","dijit/MenuItem","curam/debug","curam/util","curam/util/ResourceBundle"],function(_dcc,_dcd){
dojo.requireLocalization("curam.application","Debug");
var _dce=new curam.util.ResourceBundle("Debug");
var _dcf=dojo.declare("curam.widget.DeferredDropDownButton",dijit.form.DropDownButton,{templateString:_dcd,o3tabId:null,useCustomPlaceAlgorithm:false,startup:function(){
if(this._started){
return;
}
var _dd0=dojo.attr(this.domNode,"class").split(" ");
dojo.forEach(_dd0,dojo.hitch(this,function(_dd1){
if(_dd1.indexOf("tab-widget-id-")!=-1){
this.o3tabId=_dd1.slice(14,_dd1.length);
}
}));
this.widgetTemplate=curam.widgetTemplates?curam.widgetTemplates[this.id]:null;
dijit.form.Button.prototype.startup.apply(this);
},toggleDropDown:function(){
if(!this.dropDown&&this.widgetTemplate){
this.widgetTemplate=this.widgetTemplate.split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&").split("&quot;").join("'");
var _dd2=dojo.create("div",{innerHTML:this.widgetTemplate,style:{display:"none"}},dojo.body());
this.dropDown=dojo.parser.parse(_dd2)[0];
var menu=dijit.byNode(_dd2.firstChild);
if(menu.getChildren().length==0){
var mi=new dijit.MenuItem({disabled:true,label:LOCALISED_EMPTY_MENU_MARKER});
menu.addChild(mi);
}
this.widgetTemplate=null;
curam.debug.log(_dce.getProperty("curam.widget.DeferredDropDownButton.publish")+" /curam/menu/created "+_dce.getProperty("curam.widget.DeferredDropDownButton.for"),this.o3tabId);
var _dd3=curam.util.getTopmostWindow();
_dd3.dojo.publish("/curam/menu/created",[this.o3tabId]);
}
this.inherited(arguments);
},openDropDown:function(){
curam.widget.DeferredDropDownButton.prototype.useCustomPlaceAlgorithm=true;
this.inherited(arguments);
curam.widget.DeferredDropDownButton.prototype.useCustomPlaceAlgorithm=false;
}});
return _dcf;
});
},"dijit/form/_ListBase":function(){
define("dijit/form/_ListBase",["dojo/_base/declare","dojo/window"],function(_dd4,_dd5){
return _dd4("dijit.form._ListBase",null,{selected:null,_getTarget:function(evt){
var tgt=evt.target;
var _dd6=this.containerNode;
if(tgt==_dd6||tgt==this.domNode){
return null;
}
while(tgt&&tgt.parentNode!=_dd6){
tgt=tgt.parentNode;
}
return tgt;
},selectFirstNode:function(){
var _dd7=this.containerNode.firstChild;
while(_dd7&&_dd7.style.display=="none"){
_dd7=_dd7.nextSibling;
}
this._setSelectedAttr(_dd7);
},selectLastNode:function(){
var last=this.containerNode.lastChild;
while(last&&last.style.display=="none"){
last=last.previousSibling;
}
this._setSelectedAttr(last);
},selectNextNode:function(){
var _dd8=this._getSelectedAttr();
if(!_dd8){
this.selectFirstNode();
}else{
var next=_dd8.nextSibling;
while(next&&next.style.display=="none"){
next=next.nextSibling;
}
if(!next){
this.selectFirstNode();
}else{
this._setSelectedAttr(next);
}
}
},selectPreviousNode:function(){
var _dd9=this._getSelectedAttr();
if(!_dd9){
this.selectLastNode();
}else{
var prev=_dd9.previousSibling;
while(prev&&prev.style.display=="none"){
prev=prev.previousSibling;
}
if(!prev){
this.selectLastNode();
}else{
this._setSelectedAttr(prev);
}
}
},_setSelectedAttr:function(node){
if(this.selected!=node){
var _dda=this._getSelectedAttr();
if(_dda){
this.onDeselect(_dda);
this.selected=null;
}
if(node&&node.parentNode==this.containerNode){
this.selected=node;
_dd5.scrollIntoView(node);
this.onSelect(node);
}
}else{
if(node){
this.onSelect(node);
}
}
},_getSelectedAttr:function(){
var v=this.selected;
return (v&&v.parentNode==this.containerNode)?v:(this.selected=null);
}});
});
},"curam/util/UIMFragment":function(){
define("curam/util/UIMFragment",["curam/define","curam/debug","curam/util/ScreenContext"],function(){
curam.define.singleton("curam.util.UIMFragment",{get:function(args){
var _ddb=args&&args.pageID;
var url=args&&args.url;
var _ddc=args&&args.params;
var _ddd=args&&args.onLoad;
var _dde=args&&args.onDownloadError;
var _ddf=args&&args.targetID;
if(_ddf===""||typeof _ddf==="undefined"){
throw "UIMFragment: targetID must be set.";
}
var _de0=null;
if(url){
_de0=url;
}else{
_de0=curam.util.UIMFragment._constructPath(_ddb)+curam.util.UIMFragment._addCDEJParameters()+curam.util.UIMFragment._encodeParameters(_ddc);
}
curam.debug.log("UIMFragment: GET to "+_de0);
curam.util.UIMFragment._doService(_de0,_ddf,args,_ddd,_dde);
},submitForm:function(_de1){
var _de1=dojo.fixEvent(_de1);
var _de2=_de1.target;
dojo.stopEvent(_de1);
var _de3={url:curam.util.UIMFragment._constructFormActionPath(_de2),form:_de2,load:function(data){
var cp=dijit.getEnclosingWidget(_de2);
cp.set("content",data);
},error:function(_de4){
alert("form error: error!!");
}};
dojo.xhrPost(_de3);
console.log(_de1+" "+_de2);
},_constructFormActionPath:function(_de5){
var _de6="";
if(window===window.top){
_de6=curam.config.locale+"/";
}
return _de6+_de5.getAttribute("action");
},_initForm:function(_de7){
var _de8=dojo.query("form",dijit.byId(_de7).domNode)[0];
if(_de8){
dojo.connect(_de8,"onsubmit",curam.util.UIMFragment.submitForm);
}
},_constructPath:function(_de9){
var _dea=window;
var _deb=window.top;
return curam.util.UIMFragment._constructPathValue(_de9,_dea,_deb);
},_constructPathValue:function(_dec,_ded,_dee){
if(_dec===""||typeof _dec==="undefined"){
throw "UIMFragment: pageID must be set.";
}
var _def="";
if(_ded.location.pathname===_dee.location.pathname){
var _df0=_dee.curam&&_dee.curam.config&&_dee.curam.config.locale;
_def=(_df0||"en")+"/";
}
return _def+_dec+"Page.do";
},_encodeParameters:function(_df1){
if(typeof _df1==="undefined"||dojo.toJson(_df1)==="{}"){
curam.debug.log("UIMFragment: No params included in request.");
return "";
}
var _df2=[];
for(var _df3 in _df1){
_df2.push(_df3+"="+encodeURIComponent(_df1[_df3]));
}
return "&"+_df2.join("&");
},_addCDEJParameters:function(){
return "?"+jsScreenContext.toRequestString();
},_doService:function(url,_df4,args,_df5,_df6){
var cp=dijit.byId(_df4);
cp.onLoad=dojo.hitch(cp,curam.util.UIMFragment._handleLoadSuccess,args,_df5);
cp.preventCache=true;
cp.set("href",url);
},_handleDownloadError:function(_df7){
curam.debug.log("Error invoking the UIMFragment: "+_df7);
return "UIMFragment: Generic Error Handler";
},_handleLoadSuccess:function(_df8,_df9){
curam.util.UIMFragment._initForm(_df8.targetID);
if(_df9){
_df9(this);
}
curam.debug.log("");
return "UIMFragment: Generic Success Handler";
}});
return curam.util.UIMFragment;
});
},"dijit/form/_FormWidget":function(){
define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_dfa,_dfb,_dfc,_dfd,_dfe,_dff,_e00){
if(!_dfb.isAsync){
_dfc(0,function(){
var _e01=["dijit/form/_FormValueWidget"];
require(_e01);
});
}
return _dfa("dijit.form._FormWidget",[_dfd,_dff,_dfe,_e00],{setDisabled:function(_e02){
_dfb.deprecated("setDisabled("+_e02+") is deprecated. Use set('disabled',"+_e02+") instead.","","2.0");
this.set("disabled",_e02);
},setValue:function(_e03){
_dfb.deprecated("dijit.form._FormWidget:setValue("+_e03+") is deprecated.  Use set('value',"+_e03+") instead.","","2.0");
this.set("value",_e03);
},getValue:function(){
_dfb.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");
return this.get("value");
},postMixInProperties:function(){
this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";
this.inherited(arguments);
},_setTypeAttr:null});
});
},"dojo/DeferredList":function(){
define("dojo/DeferredList",["./_base/kernel","./_base/Deferred","./_base/array"],function(dojo,_e04,_e05){
dojo.DeferredList=function(list,_e06,_e07,_e08,_e09){
var _e0a=[];
_e04.call(this);
var self=this;
if(list.length===0&&!_e06){
this.resolve([0,[]]);
}
var _e0b=0;
_e05.forEach(list,function(item,i){
item.then(function(_e0c){
if(_e06){
self.resolve([i,_e0c]);
}else{
_e0d(true,_e0c);
}
},function(_e0e){
if(_e07){
self.reject(_e0e);
}else{
_e0d(false,_e0e);
}
if(_e08){
return null;
}
throw _e0e;
});
function _e0d(_e0f,_e10){
_e0a[i]=[_e0f,_e10];
_e0b++;
if(_e0b===list.length){
self.resolve(_e0a);
}
};
});
};
dojo.DeferredList.prototype=new _e04();
dojo.DeferredList.prototype.gatherResults=function(_e11){
var d=new dojo.DeferredList(_e11,false,true,false);
d.addCallback(function(_e12){
var ret=[];
_e05.forEach(_e12,function(_e13){
ret.push(_e13[1]);
});
return ret;
});
return d;
};
return dojo.DeferredList;
});
},"dojo/dnd/common":function(){
define("dojo/dnd/common",["../main"],function(dojo){
dojo.getObject("dnd",true,dojo);
dojo.dnd.getCopyKeyState=dojo.isCopyKey;
dojo.dnd._uniqueId=0;
dojo.dnd.getUniqueId=function(){
var id;
do{
id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);
}while(dojo.byId(id));
return id;
};
dojo.dnd._empty={};
dojo.dnd.isFormElement=function(e){
var t=e.target;
if(t.nodeType==3){
t=t.parentNode;
}
return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;
};
return dojo.dnd;
});
},"dijit/CheckedMenuItem":function(){
require({cache:{"url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n"}});
define("dijit/CheckedMenuItem",["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_e14,_e15,_e16,_e17){
return _e14("dijit.CheckedMenuItem",_e16,{templateString:_e17,checked:false,_setCheckedAttr:function(_e18){
_e15.toggle(this.domNode,"dijitCheckedMenuItemChecked",_e18);
this.domNode.setAttribute("aria-checked",_e18);
this._set("checked",_e18);
},iconClass:"",onChange:function(){
},_onClick:function(e){
if(!this.disabled){
this.set("checked",!this.checked);
this.onChange(this.checked);
}
this.inherited(arguments);
}});
});
},"dojo/io/iframe":function(){
define("dojo/io/iframe",["../main","require"],function(dojo,_e19){
dojo.getObject("io",true,dojo);
dojo.io.iframe={create:function(_e1a,_e1b,uri){
if(window[_e1a]){
return window[_e1a];
}
if(window.frames[_e1a]){
return window.frames[_e1a];
}
var turi=uri;
if(!turi){
if(dojo.config["useXDomain"]&&!dojo.config["dojoBlankHtmlUrl"]){
console.warn("dojo.io.iframe.create: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");
}
turi=(dojo.config["dojoBlankHtmlUrl"]||_e19.toUrl("../resources/blank.html"));
}
var _e1c=dojo.place("<iframe id=\""+_e1a+"\" name=\""+_e1a+"\" src=\""+turi+"\" onload=\""+_e1b+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",dojo.body());
window[_e1a]=_e1c;
return _e1c;
},setSrc:function(_e1d,src,_e1e){
try{
if(!_e1e){
if(dojo.isWebKit){
_e1d.location=src;
}else{
frames[_e1d.name].location=src;
}
}else{
var idoc;
if(dojo.isIE||dojo.isWebKit){
idoc=_e1d.contentWindow.document;
}else{
idoc=_e1d.contentWindow;
}
if(!idoc){
_e1d.location=src;
}else{
idoc.location.replace(src);
}
}
}
catch(e){
console.log("dojo.io.iframe.setSrc: ",e);
}
},doc:function(_e1f){
return _e1f.contentDocument||(((_e1f.name)&&(_e1f.document)&&(dojo.doc.getElementsByTagName("iframe")[_e1f.name].contentWindow)&&(dojo.doc.getElementsByTagName("iframe")[_e1f.name].contentWindow.document)))||((_e1f.name)&&(dojo.doc.frames[_e1f.name])&&(dojo.doc.frames[_e1f.name].document))||null;
},send:function(args){
if(!this["_frame"]){
this._frame=this.create(this._iframeName,dojo._scopeName+".io.iframe._iframeOnload();");
}
var dfd=dojo._ioSetArgs(args,function(dfd){
dfd.canceled=true;
dfd.ioArgs._callNext();
},function(dfd){
var _e20=null;
try{
var _e21=dfd.ioArgs;
var dii=dojo.io.iframe;
var ifd=dii.doc(dii._frame);
var _e22=_e21.handleAs;
_e20=ifd;
if(_e22!="html"){
if(_e22=="xml"){
if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){
dojo.query("a",dii._frame.contentWindow.document.documentElement).orphan();
var _e23=(dii._frame.contentWindow.document).documentElement.innerText;
_e23=_e23.replace(/>\s+</g,"><");
_e23=dojo.trim(_e23);
var _e24={responseText:_e23};
_e20=dojo._contentHandlers["xml"](_e24);
}
}else{
_e20=ifd.getElementsByTagName("textarea")[0].value;
if(_e22=="json"){
_e20=dojo.fromJson(_e20);
}else{
if(_e22=="javascript"){
_e20=dojo.eval(_e20);
}
}
}
}
}
catch(e){
_e20=e;
}
finally{
_e21._callNext();
}
return _e20;
},function(_e25,dfd){
dfd.ioArgs._hasError=true;
dfd.ioArgs._callNext();
return _e25;
});
dfd.ioArgs._callNext=function(){
if(!this["_calledNext"]){
this._calledNext=true;
dojo.io.iframe._currentDfd=null;
dojo.io.iframe._fireNextRequest();
}
};
this._dfdQueue.push(dfd);
this._fireNextRequest();
dojo._ioWatch(dfd,function(dfd){
return !dfd.ioArgs["_hasError"];
},function(dfd){
return (!!dfd.ioArgs["_finished"]);
},function(dfd){
if(dfd.ioArgs._finished){
dfd.callback(dfd);
}else{
dfd.errback(new Error("Invalid dojo.io.iframe request state"));
}
});
return dfd;
},_currentDfd:null,_dfdQueue:[],_iframeName:dojo._scopeName+"IoIframe",_fireNextRequest:function(){
try{
if((this._currentDfd)||(this._dfdQueue.length==0)){
return;
}
do{
var dfd=this._currentDfd=this._dfdQueue.shift();
}while(dfd&&dfd.canceled&&this._dfdQueue.length);
if(!dfd||dfd.canceled){
this._currentDfd=null;
return;
}
var _e26=dfd.ioArgs;
var args=_e26.args;
_e26._contentToClean=[];
var fn=dojo.byId(args["form"]);
var _e27=args["content"]||{};
if(fn){
if(_e27){
var _e28=function(name,_e29){
dojo.create("input",{type:"hidden",name:name,value:_e29},fn);
_e26._contentToClean.push(name);
};
for(var x in _e27){
var val=_e27[x];
if(dojo.isArray(val)&&val.length>1){
var i;
for(i=0;i<val.length;i++){
_e28(x,val[i]);
}
}else{
if(!fn[x]){
_e28(x,val);
}else{
fn[x].value=val;
}
}
}
}
var _e2a=fn.getAttributeNode("action");
var _e2b=fn.getAttributeNode("method");
var _e2c=fn.getAttributeNode("target");
if(args["url"]){
_e26._originalAction=_e2a?_e2a.value:null;
if(_e2a){
_e2a.value=args.url;
}else{
fn.setAttribute("action",args.url);
}
}
if(!_e2b||!_e2b.value){
if(_e2b){
_e2b.value=(args["method"])?args["method"]:"post";
}else{
fn.setAttribute("method",(args["method"])?args["method"]:"post");
}
}
_e26._originalTarget=_e2c?_e2c.value:null;
if(_e2c){
_e2c.value=this._iframeName;
}else{
fn.setAttribute("target",this._iframeName);
}
fn.target=this._iframeName;
dojo._ioNotifyStart(dfd);
fn.submit();
}else{
var _e2d=args.url+(args.url.indexOf("?")>-1?"&":"?")+_e26.query;
dojo._ioNotifyStart(dfd);
this.setSrc(this._frame,_e2d,true);
}
}
catch(e){
dfd.errback(e);
}
},_iframeOnload:function(){
var dfd=this._currentDfd;
if(!dfd){
this._fireNextRequest();
return;
}
var _e2e=dfd.ioArgs;
var args=_e2e.args;
var _e2f=dojo.byId(args.form);
if(_e2f){
var _e30=_e2e._contentToClean;
for(var i=0;i<_e30.length;i++){
var key=_e30[i];
for(var j=0;j<_e2f.childNodes.length;j++){
var _e31=_e2f.childNodes[j];
if(_e31.name==key){
dojo.destroy(_e31);
break;
}
}
}
if(_e2e["_originalAction"]){
_e2f.setAttribute("action",_e2e._originalAction);
}
if(_e2e["_originalTarget"]){
_e2f.setAttribute("target",_e2e._originalTarget);
_e2f.target=_e2e._originalTarget;
}
}
_e2e._finished=true;
}};
return dojo.io.iframe;
});
},"curam/lnf":function(){
define("curam/lnf",["curam/define"],function(){
curam.define.singleton("curam.lnf",{setCTParent:function(id){
var _e32=dojo.byId(id);
var _e33=_e32.parentNode;
if(_e33.tagName=="TD"){
dojo.addClass(_e33,"codetable");
}
}});
return curam.lnf;
});
},"curam/widget/MenuItem":function(){
require({cache:{"url:curam/widget/resources/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:${onClickValue}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"}});
define("curam/widget/MenuItem",["dijit/MenuItem","dojo/text!curam/widget/resources/MenuItem.html"],function(_e34,_e35){
var _e36=dojo.declare("curam.widget.MenuItem",_e34,{templateString:_e35,onClickValue:"",_onClickAll:function(evt){
this.getParent().onItemClick(this,evt);
var _e37=curam.tab.getTabContainer();
var _e38=_e37.getChildren();
for(var i=0;i<_e38.length;i++){
if(_e38[i].closable){
_e37.closeChild(_e38[i]);
}
}
}});
return _e36;
});
},"curam/tab":function(){
define("curam/tab",["curam/define","curam/util","curam/util/ScreenContext"],function(){
curam.define.singleton("curam.tab",{SECTION_TAB_CONTAINER_ID:"app-sections-container-dc",SMART_PANEL_IFRAME_ID:"curam_tab_SmartPanelIframe",toBeExecutedOnTabClose:[],_mockSelectedTab:null,getSelectedTab:function(_e39){
if(curam.tab._mockSelectedTab){
return curam.tab._mockSelectedTab;
}
if(curam.tab.getTabContainer(_e39)){
return curam.tab.getTabContainer(_e39).selectedChildWidget;
}
},getTabContainer:function(_e3a){
return curam.tab.getTabContainerFromSectionID(_e3a||curam.tab.getCurrentSectionId());
},getCurrentSectionId:function(){
var _e3b=curam.util.getTopmostWindow().dijit.byId(curam.tab.SECTION_TAB_CONTAINER_ID);
if(_e3b){
var _e3c=_e3b.selectedChildWidget.domNode.id;
return _e3c.substring(0,_e3c.length-4);
}else{
throw new Error("curam.tab.getCurrentSectionId() - application section tab container"+" not found");
}
},getTabContainerFromSectionID:function(_e3d){
var _e3e=dijit.byId(_e3d+"-stc");
if(!_e3e&&window.parent&&window.parent!=window){
_e3e=curam.util.getTopmostWindow().dijit.byId(_e3d+"-stc");
}
return _e3e;
},getTabWidgetId:function(tab){
return tab.id;
},getSelectedTabWidgetId:function(){
return curam.tab.getTabWidgetId(curam.tab.getSelectedTab());
},getContainerTab:function(node){
var _e3f=dijit.getEnclosingWidget(node);
if(_e3f&&!_e3f.tabDescriptor){
_e3f=curam.tab.getContainerTab(_e3f.domNode.parentNode);
}
if(!_e3f||!_e3f.tabDescriptor){
throw "Containing tab widget could not be found for node: "+node;
}
return _e3f;
},getContentPanelIframe:function(tab){
var _e40=tab?tab:curam.tab.getSelectedTab();
if(_e40){
var _e41=dojo.query("iframe",_e40.domNode).filter(function(item){
return dojo.attr(item,"iscpiframe")=="true";
})[0];
}
return _e41?_e41:null;
},refreshMainContentPanel:function(tab){
var _e42=curam.tab.getContentPanelIframe(tab);
_e42.contentWindow.curam.util.publishRefreshEvent();
_e42.contentWindow.location.reload(true);
},getSmartPanelIframe:function(tab){
var _e43=tab?tab:curam.tab.getSelectedTab();
var _e44=dojo.query("iframe",_e43.domNode).filter(function(item){
return item.id==curam.tab.SMART_PANEL_IFRAME_ID;
})[0];
return _e44;
},unsubscribeOnTabClose:function(_e45,_e46){
curam.tab.toBeExecutedOnTabClose.push(function(_e47){
if(_e46==_e47){
dojo.unsubscribe(_e45);
return true;
}
return false;
});
},executeOnTabClose:function(func,_e48){
curam.tab.toBeExecutedOnTabClose.push(function(_e49){
if(_e48==_e49){
func();
return true;
}
return false;
});
},doExecuteOnTabClose:function(_e4a){
var _e4b=new Array();
for(var i=0;i<curam.tab.toBeExecutedOnTabClose.length;i++){
var func=curam.tab.toBeExecutedOnTabClose[i];
if(!func(_e4a)){
_e4b.push(func);
}
}
curam.tab.toBeExecutedOnTabClose=_e4b;
},getHandlerForTab:function(_e4c,_e4d){
return function(_e4e,_e4f){
if(_e4f==_e4d){
_e4c(_e4e,_e4d);
}else{
}
};
},getTabController:function(){
return curam.util.getTopmostWindow().curam.ui.UIController;
},initTabLinks:function(_e50){
if(typeof (window.pageContainsClassicIEG)!="undefined"&&window.pageContainsClassicIEG==true){
return;
}
dojo.query("a").forEach(function(link){
if(link.href.indexOf("#")!=0&&link.href.indexOf("javascript:")!=0&&(link.href.indexOf("Page.do")>-1||link.href.indexOf("Frame.do")>-1)){
if(link.href.indexOf("&o3ctx")<0&&link.href.indexOf("?o3ctx")<0){
var _e51=(link.href.indexOf("?")>-1)?"&":"?";
link.href+=_e51+jsScreenContext.toRequestString();
}
}
});
elements=document.forms;
for(var i=0;i<elements.length;++i){
elem=elements[i];
var _e52=dojo.byId("o3ctx");
if(!_e52){
var ctx=new curam.util.ScreenContext();
ctx.setContextBits("ACTION");
dojo.create("input",{"type":"hidden","name":"o3ctx","value":ctx.getValue()},elem);
}
dojo.create("input",{"type":"hidden","name":"o3prv","value":jsPageID},elem);
}
if(elements.length>0){
curam.util.getTopmostWindow().dojo.publish("curam.fireNextRequest",[]);
}
},initContent:function(_e53,_e54){
var _e55=dojo.byId("content");
dojo.removeClass(_e55,"hidden-panel");
return;
},setupSectionSelectionListener:function(){
dojo.subscribe(curam.tab.SECTION_TAB_CONTAINER_ID+"-selectChild",curam.tab.onSectionSelected);
},onSectionSelected:function(_e56){
if(_e56.curamDefaultPageID){
var _e57;
if(_e56.id.substring(_e56.id.length-4,_e56.id.length)=="-sbc"){
var _e58=_e56.id.substring(0,_e56.id.length-4);
_e57=curam.tab.getTabContainer(_e58);
}else{
_e57=_e56;
}
if(_e57&&_e57.getChildren().length==0){
curam.tab.getTabController().handleUIMPageID(_e56.curamDefaultPageID,true);
}
return true;
}
return false;
},setSectionDefaultPage:function(_e59,_e5a){
var _e5b=dijit.byId(_e59);
if(_e5b){
_e5b.curamDefaultPageID=_e5a;
}else{
throw "curam.tab.setSectionDefaultPage() - cannot find section dijit ID:"+_e59;
}
},publishSmartPanelContentReady:function(){
var _e5c="smartpanel.content.loaded";
var _e5d=window.frameElement;
_e5d.setAttribute("_SPContentLoaded","true");
curam.util.getTopmostWindow().dojo.publish(_e5c,[_e5d]);
}});
return curam.tab;
});
},"dijit/MenuSeparator":function(){
require({cache:{"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>"}});
define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_e5e,dom,_e5f,_e60,_e61,_e62){
return _e5e("dijit.MenuSeparator",[_e5f,_e60,_e61],{templateString:_e62,buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.domNode,false);
},isFocusable:function(){
return false;
}});
});
},"dijit/form/_ComboBoxMenu":function(){
define("dijit/form/_ComboBoxMenu",["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_e63,_e64,_e65,_e66,keys,_e67,_e68,_e69,_e6a){
return _e63("dijit.form._ComboBoxMenu",[_e67,_e68,_e6a,_e69],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){
this.inherited(arguments);
if(!this.isLeftToRight()){
_e64.add(this.previousButton,"dijitMenuItemRtl");
_e64.add(this.nextButton,"dijitMenuItemRtl");
}
},_createMenuItem:function(){
return _e65.create("div",{"class":"dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),role:"option"});
},onHover:function(node){
_e64.add(node,"dijitMenuItemHover");
},onUnhover:function(node){
_e64.remove(node,"dijitMenuItemHover");
},onSelect:function(node){
_e64.add(node,"dijitMenuItemSelected");
},onDeselect:function(node){
_e64.remove(node,"dijitMenuItemSelected");
},_page:function(up){
var _e6b=0;
var _e6c=this.domNode.scrollTop;
var _e6d=_e66.get(this.domNode,"height");
if(!this.getHighlightedOption()){
this.selectNextNode();
}
while(_e6b<_e6d){
var _e6e=this.getHighlightedOption();
if(up){
if(!_e6e.previousSibling||_e6e.previousSibling.style.display=="none"){
break;
}
this.selectPreviousNode();
}else{
if(!_e6e.nextSibling||_e6e.nextSibling.style.display=="none"){
break;
}
this.selectNextNode();
}
var _e6f=this.domNode.scrollTop;
_e6b+=(_e6f-_e6c)*(up?-1:1);
_e6c=_e6f;
}
},handleKey:function(evt){
switch(evt.charOrCode){
case keys.DOWN_ARROW:
this.selectNextNode();
return false;
case keys.PAGE_DOWN:
this._page(false);
return false;
case keys.UP_ARROW:
this.selectPreviousNode();
return false;
case keys.PAGE_UP:
this._page(true);
return false;
default:
return true;
}
}});
});
},"url:curam/widget/resources/DivButton.html":"<div id=\"${id}\" class=\"${className}\" dojoAttachEvent=\"onclick:onClick\" dojoAttachPoint=\"containerNode\"></div>\r\n\r\n {\r\n      templateString: \"<div id='${id}' class='${className}' \"\r\n            + \"dojoAttachEvent='onclick:onClick' dojoAttachPoint='containerNode'></div>\"\r\n    }\r\n\r\n","cm/_base/_dom":function(){
define("cm/_base/_dom",[],function(){
var cm=dojo.global.cm||{};
dojo.global.cm=cm;
dojo.mixin(cm,{nextSibling:function(node,_e70){
return cm._findSibling(node,_e70,true);
},prevSibling:function(node,_e71){
return cm._findSibling(node,_e71,false);
},getInput:function(name,_e72){
if(!dojo.isString(name)){
return name;
}
var _e73=dojo.query("input[name='"+name+"'],select[name='"+name+"']");
return _e72?(_e73.length>0?_e73:null):(_e73.length>0?_e73[0]:null);
},getParentByClass:function(node,_e74){
node=node.parentNode;
while(node){
if(dojo.hasClass(node,_e74)){
return node;
}
node=node.parentNode;
}
return null;
},getParentByType:function(node,type){
node=node.parentNode;
type=type.toLowerCase();
var _e75="html";
while(node){
if(node.tagName.toLowerCase()==_e75){
break;
}
if(node.tagName.toLowerCase()==type){
return node;
}
node=node.parentNode;
}
return null;
},replaceClass:function(node,_e76,_e77){
dojo.removeClass(node,_e77);
dojo.addClass(node,_e76);
},setClass:function(node,_e78){
node=dojo.byId(node);
var cs=new String(_e78);
try{
if(typeof node.className=="string"){
node.className=cs;
}else{
if(node.setAttribute){
node.setAttribute("class",_e78);
node.className=cs;
}else{
return false;
}
}
}
catch(e){
dojo.debug("dojo.html.setClass() failed",e);
}
return true;
},_findSibling:function(node,_e79,_e7a){
if(!node){
return null;
}
if(_e79){
_e79=_e79.toLowerCase();
}
var _e7b=_e7a?"nextSibling":"previousSibling";
do{
node=node[_e7b];
}while(node&&node.nodeType!=1);
if(node&&_e79&&_e79!=node.tagName.toLowerCase()){
return cm[_e7a?"nextSibling":"prevSibling"](node,_e79);
}
return node;
},getViewport:function(){
var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();
if(dojo.isMozilla){
return {w:dd.clientWidth,h:w.innerHeight};
}else{
if(!dojo.isOpera&&w.innerWidth){
return {w:w.innerWidth,h:w.innerHeight};
}else{
if(!dojo.isOpera&&dd&&dd.clientWidth){
return {w:dd.clientWidth,h:dd.clientHeight};
}else{
if(b.clientWidth){
return {w:b.clientWidth,h:b.clientHeight};
}
}
}
}
return null;
},toggleDisplay:function(node){
dojo.style(node,"display",dojo.style(node,"display")=="none"?"":"none");
},endsWith:function(str,end,_e7c){
if(_e7c){
str=str.toLowerCase();
end=end.toLowerCase();
}
if((str.length-end.length)<0){
return false;
}
return str.lastIndexOf(end)==str.length-end.length;
},hide:function(n){
dojo.style(n,"display","none");
},show:function(n){
dojo.style(n,"display","");
}});
return cm;
});
},"curam/tab/TabSessionManager":function(){
define("curam/tab/TabSessionManager",["curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _e7d=new curam.util.ResourceBundle("Debug");
var _e7e=dojo.declare("curam.tab.TabSessionManager",null,{init:function(_e7f){
if(_e7f){
this._directBrowseURL=_e7f;
}
new curam.ui.ClientDataAccessor().getRaw("/data/tab/get",dojo.hitch(this,this._restoreTabSession),dojo.hitch(this,this._handleGetTabFailure));
},_handleGetTabFailure:function(_e80,_e81){
var _e82=curam.tab.getTabContainer();
var _e83=dojo.toJson(_e80);
this._log(_e7d.getProperty("curam.tab.TabSessionManager.error")+_e83);
var tab=new dojox.layout.ContentPane({title:"Error",closable:true,content:"An error occurred. Try refreshing the browser or contact your "+"administrator if it persists. Error: "+_e80.message});
_e82.addChild(tab);
},_restoreTabSession:function(_e84,_e85){
var _e86=[];
var _e87=[];
var _e88=[];
curam.tab.getTabController().MAX_NUM_TABS=_e84.maxTabs;
var _e89=this._isNewSession();
var _e8a=_e89?null:this._getPrevSelectedTab();
var _e8b=this._getHomePageTab();
_e8a=_e8a?_e8a:_e8b;
this.tabSelected(_e8a);
_e88[_e8b.sectionID]=true;
if(_e84&&_e84.tabs&&_e84.tabs.length>0){
var tabs=_e84.tabs;
this._log(_e7d.getProperty("curam.tab.TabSessionManager.previous")+tabs.length+" "+_e7d.getProperty("curam.tab.TabSessionManager.tabs"));
for(var i=0;i<tabs.length;i++){
var _e8c=curam.tab.TabDescriptor.fromJson(tabs[i]);
if(_e8c.tabSignature==_e8b.tabSignature){
if(!_e89){
if(this._directBrowseURL){
_e8a=_e8c;
}else{
_e8b=_e8c;
}
}
}else{
if(_e8c.sectionID==_e8a.sectionID){
_e86.push(_e8c);
}else{
_e87.push(_e8c);
}
}
_e88[_e8c.sectionID]=true;
}
if(_e8b.sectionID==_e8a.sectionID){
_e86.unshift(_e8b);
}else{
_e87.unshift(_e8b);
}
}else{
this._log(_e7d.getProperty("curam.tab.TabSessionManager.no.session"));
_e86.push(_e8b);
}
this._restoreSectionTabs(_e86,_e8a);
this._restoreSectionTabs(_e87,null);
this._selectedTD=_e8a;
this._connectSelectionListeners(_e88);
if(this._directBrowseURL){
var _e8d=this._createDirectBrowseClosure();
var _e8e=curam.util.getTopmostWindow();
var _e8f=_e8e.dojo.subscribe("/curam/main-content/page/loaded",null,function(_e90,_e91){
var that=_e8d.getThis();
var _e92=that._directBrowseURL;
var _e93=that._selectedTD.tabContent.pageID;
if(_e90===_e93){
require(["curam/util/Navigation"],function(nav){
nav.goToUrl(_e92);
});
that._selectedTD.tabContent.pageID=_e92.replace(/Page.do\??.*/,"");
that.tabSelected(that._selectedTD);
dojo.unsubscribe(_e8f);
}
});
}
},_createDirectBrowseClosure:function(){
var that=this;
return {getThis:function(){
return that;
}};
},_restoreSectionTabs:function(_e94,_e95){
this._log(_e7d.getProperty("curam.tab.TabSessionManager.saved.tabs"));
for(var i=0;i<_e94.length;i++){
var _e96=_e94[i];
this._log(_e7d.getProperty("curam.tab.TabSessionManager.saved.tab"),_e96,i);
dojo.publish(curam.tab.getTabController().TAB_TOPIC,[new curam.ui.OpenTabEvent(_e96,null,this._isOpenInBackground(_e96,_e95,i))]);
}
},_connectSelectionListeners:function(_e97){
var _e98=false;
for(var _e99 in _e97){
if(curam.tab.getTabContainer(_e99)){
dojo.subscribe(curam.tab.getTabContainer(_e99).id+"-selectChild",dojo.hitch(this,this.tabContentPaneSelected));
_e98=true;
}
}
dojo.subscribe(curam.tab.SECTION_TAB_CONTAINER_ID+"-selectChild",dojo.hitch(this,this.tabSectionSelected));
return _e98;
},tabUpdated:function(_e9a){
this._log(_e7d.getProperty("curam.tab.TabSessionManager.saving.tab"),_e9a);
new curam.ui.ClientDataAccessor().set("/data/tab/update",_e9a.toJson());
},tabClosed:function(_e9b){
this._log(_e7d.getProperty("curam.tab.TabSessionManager.tab.closed"),_e9b);
new curam.ui.ClientDataAccessor().set("/data/tab/close",_e9b.toJson());
},tabSelected:function(_e9c){
this._log(_e7d.getProperty("curam.tab.TabSessionManager.selected.tab"),_e9c);
if(_e9c.tabSignature){
curam.util.runStorageFn(function(){
var _e9d=curam.util.getTopmostWindow().dojox;
_e9d.storage.put(curam.tab.TabSessionManager.SELECTED_TAB_KEY,_e9c.toJson());
});
this._log(_e7d.getProperty("curam.tab.TabSessionManager.recorded"),_e9c);
}else{
this._log(_e7d.getProperty("curam.tab.TabSessionManager.not.recorded"),_e9c);
}
},tabContentPaneSelected:function(_e9e){
if(_e9e.tabDescriptor){
this.tabSelected(_e9e.tabDescriptor);
}else{
this._log(_e7d.getProperty("curam.tab.TabSessionManager.no.descriptor"));
}
},tabSectionSelected:function(_e9f){
var _ea0=false;
if(_e9f){
var id=_e9f.id;
this._log(_e7d.getProperty("curam.tab.TabSessionManager.new.section")+" '"+id+"'.");
var _ea1=id.substring(0,id.length-4);
var _ea2=curam.tab.getSelectedTab(_ea1);
if(_ea2){
this._log(_e7d.getProperty("curam.tab.TabSessionManager.changing.selection"));
this.tabContentPaneSelected(_ea2);
_ea0=true;
}else{
this._log(_e7d.getProperty("curam.tab.TabSessionManager.not.changing.selection"));
}
}else{
this._log(_e7d.getProperty("curam.tab.TabSessionManager.no.container"));
}
return _ea0;
},_isNewSession:function(){
var _ea3=this._getJSessionID();
if(!_ea3){
return true;
}
var _ea4=curam.util.getTopmostWindow().dojox;
var _ea5=_ea4.encoding.digests.SHA1(_ea3);
var _ea6;
var _ea4=curam.util.getTopmostWindow().dojox;
curam.util.runStorageFn(function(){
_ea6=_ea4.storage.get(curam.tab.TabSessionManager.SELECTED_TAB_SESSION_KEY);
});
this._log(_e7d.getProperty("curam.tab.TabSessionManager.session.id")+" '"+_ea5+"'. "+_e7d.getProperty("curam.tab.TabSessionManager.old.session.id")+" '"+_ea6+"'.");
if(_ea5!=_ea6){
this._log(_e7d.getProperty("curam.tab.TabSessionManager.new.session"));
curam.util.runStorageFn(function(){
_ea4.storage.put(curam.tab.TabSessionManager.SELECTED_TAB_SESSION_KEY,_ea5);
});
curam.util.runStorageFn(function(){
_ea4.storage.remove(curam.tab.TabSessionManager.SELECTED_TAB_KEY);
});
return true;
}
this._log(_e7d.getProperty("curam.tab.TabSessionManager.refreshed.session"));
return false;
},_getJSessionID:function(){
var key="JSESSIONID=";
var _ea7=null;
if(document.cookie){
var _ea8=document.cookie.indexOf(key);
if(_ea8!=-1){
var end=document.cookie.indexOf(";",_ea8+key.length);
_ea7=unescape(document.cookie.substring(_ea8+key.length,end==-1?document.cookie.length:end));
}
}
return _ea7;
},_getPrevSelectedTab:function(){
this._log(_e7d.getProperty("curam.tab.TabSessionManager.previous.tab"));
var _ea9;
curam.util.runStorageFn(function(){
var _eaa=curam.util.getTopmostWindow().dojox;
_ea9=_eaa.storage.get(curam.tab.TabSessionManager.SELECTED_TAB_KEY);
});
var _eab=null;
if(_ea9){
_eab=curam.tab.TabDescriptor.fromJson(_ea9);
this._log(_e7d.getProperty("curam.tab.TabSessionManager.previous.tab.found"),_eab);
}else{
this._log(_e7d.getProperty("curam.tab.TabSessionManager.previous.tab.not.found"));
}
return _eab;
},_isOpenInBackground:function(_eac,_ead,pos){
var _eae=true;
if(_ead&&_ead.tabSignature==_eac.tabSignature){
this._log(_e7d.getProperty("curam.tab.TabSessionManager.foreground"),_eac,pos);
_eae=false;
}else{
this._log(_e7d.getProperty("curam.tab.TabSessionManager.background"),_eac,pos);
}
return _eae;
},_getHomePageTab:function(){
this._log(_e7d.getProperty("curam.tab.TabSessionManager.home.page")+" '"+USER_HOME_PAGE_ID+"'.");
if(!USER_HOME_PAGE_TAB_ASSOC.tabIDs||!USER_HOME_PAGE_TAB_ASSOC.sectionID){
throw new Error("The application cannot be launched because the home page, '"+USER_HOME_PAGE_ID+"', has not been associated with a section or "+" tab.");
}
var _eaf=USER_HOME_PAGE_TAB_ASSOC.tabIDs[0];
var _eb0=USER_HOME_PAGE_TAB_ASSOC.sectionID;
var _eb1=new curam.tab.TabDescriptor(_eb0,_eaf);
var _eb2=new curam.ui.PageRequest(USER_HOME_PAGE_ID,true);
_eb1.isHomePage=true;
_eb1.setTabSignature([],_eb2,true);
_eb1.setTabContent(_eb2);
this._log(_e7d.getProperty("curam.tab.TabSessionManager.created"),_eb1);
return _eb1;
},_log:function(msg,_eb3,pos){
if(curam.debug.enabled()){
var _eb4="TAB SESSION";
if(typeof pos=="number"){
_eb4+=" [pos="+pos+"]";
}
curam.debug.log(_eb4+": "+msg+(_eb3?" "+_eb3.toJson():""));
}
}});
dojo.mixin(curam.tab.TabSessionManager,{SELECTED_TAB_KEY:"curam_selected_tab",SELECTED_TAB_SESSION_KEY:"curam_selected_tab_session"});
return _e7e;
});
},"dojo/require":function(){
define("dojo/require",["./_base/loader"],function(_eb5){
return {dynamic:0,normalize:function(id){
return id;
},load:_eb5.require};
});
},"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition} tabStrip-disabled dijitLayoutContainer\"><!-- CURAM-FIX: removed style=\"visibility:hidden, dd the tabStrip-disabled class by default.\" -->\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\r\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\r\n\t\t\tid=\"${id}_menuBtn\"\r\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\r\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\r\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\r\n\t\t\tid=\"${id}_leftBtn\"\r\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\r\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\r\n\t\t\tid=\"${id}_rightBtn\"\r\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\r\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\r\n\t<div class='dijitTabListWrapper dijitTabContainerTopNone dijitAlignClient' data-dojo-attach-point='tablistWrapper'>\r\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\r\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip dijitTabContainerTop-tabs'></div>\r\n\t</div>\r\n</div>\r\n","dijit/Dialog":function(){
require({cache:{"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\n\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabIndex=\"-1\">\n\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n\t\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n"}});
define("dijit/Dialog",["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/_base/fx","dojo/i18n","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/sniff","dojo/_base/window","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html",".","dojo/i18n!./nls/common"],function(_eb6,_eb7,_eb8,_eb9,_eba,dom,_ebb,_ebc,_ebd,_ebe,fx,i18n,_ebf,keys,lang,on,_ec0,has,win,_ec1,_ec2,_ec3,_ec4,_ec5,_ec6,_ec7,_ec8,_ec9,_eca,_ecb,_ecc,_ecd,_ece){
var _ecf=_eb9("dijit._DialogBase",[_ec7,_ec9,_eca,_ec8],{templateString:_ecd,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:false,duration:_ec5.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,"aria-describedby":"",postMixInProperties:function(){
var _ed0=i18n.getLocalization("dijit","common");
lang.mixin(this,_ed0);
this.inherited(arguments);
},postCreate:function(){
_ebd.set(this.domNode,{display:"none",position:"absolute"});
win.body().appendChild(this.domNode);
this.inherited(arguments);
this.connect(this,"onExecute","hide");
this.connect(this,"onCancel","hide");
this._modalconnects=[];
},onLoad:function(){
this._position();
if(this.autofocus&&_ed1.isTop(this)){
this._getFocusItems(this.domNode);
_ec4.focus(this._firstFocusItem);
}
this.inherited(arguments);
},_endDrag:function(){
var _ed2=_ebc.position(this.domNode),_ed3=_ec1.getBox();
_ed2.y=Math.min(Math.max(_ed2.y,0),(_ed3.h-_ed2.h));
_ed2.x=Math.min(Math.max(_ed2.x,0),(_ed3.w-_ed2.w));
this._relativePosition=_ed2;
this._position();
},_setup:function(){
var node=this.domNode;
if(this.titleBar&&this.draggable){
this._moveable=new ((has("ie")==6)?_ec3:_ec2)(node,{handle:this.titleBar});
this.connect(this._moveable,"onMoveStop","_endDrag");
}else{
_ebb.add(node,"dijitDialogFixed");
}
this.underlayAttrs={dialogId:this.id,"class":_eb7.map(this["class"].split(/\s/),function(s){
return s+"_underlay";
}).join(" ")};
},_size:function(){
this._checkIfSingleChild();
if(this._singleChild){
if(this._singleChildOriginalStyle){
this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;
}
delete this._singleChildOriginalStyle;
}else{
_ebd.set(this.containerNode,{width:"auto",height:"auto"});
}
var bb=_ebc.position(this.domNode);
var _ed4=_ec1.getBox();
if(bb.w>=_ed4.w||bb.h>=_ed4.h){
var w=Math.min(bb.w,Math.floor(_ed4.w*0.75)),h=Math.min(bb.h,Math.floor(_ed4.h*0.75));
if(this._singleChild&&this._singleChild.resize){
this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;
this._singleChild.resize({w:w,h:h});
}else{
_ebd.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});
}
}else{
if(this._singleChild&&this._singleChild.resize){
this._singleChild.resize();
}
}
},_position:function(){
if(!_ebb.contains(win.body(),"dojoMove")){
var node=this.domNode,_ed5=_ec1.getBox(),p=this._relativePosition,bb=p?null:_ebc.position(node),l=Math.floor(_ed5.l+(p?p.x:(_ed5.w-bb.w)/2)),t=Math.floor(_ed5.t+(p?p.y:(_ed5.h-bb.h)/2));
_ebd.set(node,{left:l+"px",top:t+"px"});
}
},_onKey:function(evt){
if(evt.charOrCode){
var node=evt.target;
if(evt.charOrCode===keys.TAB){
this._getFocusItems(this.domNode);
}
var _ed6=(this._firstFocusItem==this._lastFocusItem);
if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){
if(!_ed6){
_ec4.focus(this._lastFocusItem);
}
_ebe.stop(evt);
}else{
if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){
if(!_ed6){
_ec4.focus(this._firstFocusItem);
}
_ebe.stop(evt);
}else{
while(node){
if(node==this.domNode||_ebb.contains(node,"dijitPopup")){
if(evt.charOrCode==keys.ESCAPE){
this.onCancel();
}else{
return;
}
}
node=node.parentNode;
}
if(evt.charOrCode!==keys.TAB){
_ebe.stop(evt);
}else{
if(!has("opera")){
try{
this._firstFocusItem.focus();
}
catch(e){
}
}
}
}
}
}
},show:function(){
if(this.open){
return;
}
if(!this._started){
this.startup();
}
if(!this._alreadyInitialized){
this._setup();
this._alreadyInitialized=true;
}
if(this._fadeOutDeferred){
this._fadeOutDeferred.cancel();
}
if(!has("touch")){
this._modalconnects.push(on(window,"scroll",lang.hitch(this,"layout")));
this._modalconnects.push(on(window,"resize",lang.hitch(this,function(){
var _ed7=_ec1.getBox();
if(!this._oldViewport||_ed7.h!=this._oldViewport.h||_ed7.w!=this._oldViewport.w){
this.layout();
this._oldViewport=_ed7;
}
})));
}
this._modalconnects.push(on(this.domNode,_eb8._keypress,lang.hitch(this,"_onKey")));
_ebd.set(this.domNode,{opacity:0,display:""});
this._set("open",true);
this._onShow();
this._size();
this._position();
var _ed8;
this._fadeInDeferred=new _eba(lang.hitch(this,function(){
_ed8.stop();
delete this._fadeInDeferred;
}));
_ed8=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){
_ed1.show(this,this.underlayAttrs);
}),onEnd:lang.hitch(this,function(){
if(this.autofocus&&_ed1.isTop(this)){
this._getFocusItems(this.domNode);
_ec4.focus(this._firstFocusItem);
}
this._fadeInDeferred.callback(true);
delete this._fadeInDeferred;
})}).play();
return this._fadeInDeferred;
},hide:function(){
if(!this._alreadyInitialized){
return;
}
if(this._fadeInDeferred){
this._fadeInDeferred.cancel();
}
var _ed9;
this._fadeOutDeferred=new _eba(lang.hitch(this,function(){
_ed9.stop();
delete this._fadeOutDeferred;
}));
this._fadeOutDeferred.then(lang.hitch(this,"onHide"));
_ed9=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){
this.domNode.style.display="none";
_ed1.hide(this);
this._fadeOutDeferred.callback(true);
delete this._fadeOutDeferred;
})}).play();
if(this._scrollConnected){
this._scrollConnected=false;
}
var h;
while(h=this._modalconnects.pop()){
h.remove();
}
if(this._relativePosition){
delete this._relativePosition;
}
this._set("open",false);
return this._fadeOutDeferred;
},layout:function(){
if(this.domNode.style.display!="none"){
if(_ece._underlay){
_ece._underlay.layout();
}
this._position();
}
},destroy:function(){
if(this._fadeInDeferred){
this._fadeInDeferred.cancel();
}
if(this._fadeOutDeferred){
this._fadeOutDeferred.cancel();
}
if(this._moveable){
this._moveable.destroy();
}
var h;
while(h=this._modalconnects.pop()){
h.remove();
}
_ed1.hide(this);
this.inherited(arguments);
}});
var _eda=_eb9("dijit.Dialog",[_ecc,_ecf],{});
_eda._DialogBase=_ecf;
var _ed1=_eda._DialogLevelManager={_beginZIndex:950,show:function(_edb,_edc){
ds[ds.length-1].focus=_ec4.curNode;
var _edd=_ece._underlay;
if(!_edd||_edd._destroyed){
_edd=_ece._underlay=new _ecb(_edc);
}else{
_edd.set(_edb.underlayAttrs);
}
var _ede=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_eda._DialogLevelManager._beginZIndex;
if(ds.length==1){
_edd.show();
}
_ebd.set(_ece._underlay.domNode,"zIndex",_ede-1);
_ebd.set(_edb.domNode,"zIndex",_ede);
ds.push({dialog:_edb,underlayAttrs:_edc,zIndex:_ede});
},hide:function(_edf){
if(ds[ds.length-1].dialog==_edf){
ds.pop();
var pd=ds[ds.length-1];
if(ds.length==1){
if(!_ece._underlay._destroyed){
_ece._underlay.hide();
}
}else{
_ebd.set(_ece._underlay.domNode,"zIndex",pd.zIndex-1);
_ece._underlay.set(pd.underlayAttrs);
}
if(_edf.refocus){
var _ee0=pd.focus;
if(pd.dialog&&(!_ee0||!dom.isDescendant(_ee0,pd.dialog.domNode))){
pd.dialog._getFocusItems(pd.dialog.domNode);
_ee0=pd.dialog._firstFocusItem;
}
if(_ee0){
try{
_ee0.focus();
}
catch(e){
}
}
}
}else{
var idx=_eb7.indexOf(_eb7.map(ds,function(elem){
return elem.dialog;
}),_edf);
if(idx!=-1){
ds.splice(idx,1);
}
}
},isTop:function(_ee1){
return ds[ds.length-1].dialog==_ee1;
}};
var ds=_eda._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];
if(!_ebf.isAsync){
_ec0(0,function(){
var _ee2=["dijit/TooltipDialog"];
_eb6(_ee2);
});
}
return _eda;
});
},"curam/layout/EmptyContentPane":function(){
define("curam/layout/EmptyContentPane",["dijit/layout/ContentPane"],function(){
var _ee3=dojo.declare("curam.layout.EmptyContentPane",dijit.layout.ContentPane,{baseClass:"",_layoutChildren:function(){
},resize:function(){
}});
return _ee3;
});
},"curam/util/ScreenContext":function(){
define("curam/util/ScreenContext",[],function(){
var _ee4={DEFAULT_CONTEXT:112,SAMPLE22:2,SAMPLE21:1,SAMPLE13:4,SAMPLE12:2,SAMPLE11:1,EXTAPP:1048576,CONTEXT_PORTLET:524288,SMART_PANEL:262144,NESTED_UIM:131072,ORG_TREE:65536,CONTEXT_PANEL:32768,LIST_ROW_INLINE_PAGE:8192,LIST_EVEN_ROW:16384,TAB:4096,TREE:2048,AGENDA:1024,POPUP:512,MODAL:256,HOME:128,HEADER:64,NAVIGATOR:32,FOOTER:16,OVAL:8,RESOLVE:4,ACTION:2,ERROR:1,EMPTY:0};
var _ee5=[["ERROR","ACTION","RESOLVE","OPT_VALIDATION","FOOTER","NAVIGATOR","HEADER","HOME_PAGE","MODAL","POPUP","AGENDA","TREE","TAB","LIST_EVEN_ROW","LIST_ROW_INLINE_PAGE","CONTEXT_PANEL","ORG_TREE","NESTED_UIM","SMART_PANEL","CONTEXT_PORTLET","EXTAPP"],["SAMPLE11","SAMPLE12","SAMPLE13"],["SAMPLE21","SAMPLE22"]];
var _ee6=dojo.declare("curam.util.ScreenContext",null,{constructor:function(_ee7){
if(_ee7){
this.setContext(_ee7);
}else{
this.currentContext=[_ee4["DEFAULT_CONTEXT"]|_ee4["DEFAULT_CONTEXT"]];
}
},setContext:function(_ee8){
var tmp=this.setup(_ee8);
this.currentContext=((tmp==null)?([_ee4["DEFAULT_CONTEXT"]|_ee4["DEFAULT_CONTEXT"]]):(tmp));
},addContextBits:function(_ee9,idx){
if(!_ee9){
return;
}
var _eea=(idx)?idx:0;
var _eeb=this.parseContext(_ee9);
if(_eeb!=null){
this.currentContext[_eea]|=_eeb;
}
return this.currentContext[_eea];
},addAll:function(idx){
var _eec=(idx)?idx:0;
this.currentContext[_eec]=4294967295;
return this.currentContext[_eec];
},clear:function(_eed,idx){
if(!_eed){
this.clearAll();
return;
}
var _eee=(idx)?idx:0;
if(_eed==0){
return this.currentContext[_eee];
}
var _eef=this.parseContext(_eed);
if(_eef!=null){
var _ef0=this.currentContext[_eee]&_eef;
this.currentContext[_eee]^=_ef0;
}
return this.currentContext[_eee];
},clearAll:function(idx){
if(idx){
this.currentContext[idx]=0;
}else{
for(var i=0;i<this.currentContext.length;i++){
this.currentContext[i]=0;
}
}
},updateStates:function(_ef1){
this.clear("ERROR|ACTION|RESOLVE");
this.currentContext[0]=this.currentContext[0]|(_ef1&7);
},hasContextBits:function(_ef2,idx){
if(!_ef2){
return false;
}
var _ef3=(idx)?idx:0;
var _ef4=this.parseContext(_ef2);
if(_ef4!=null){
var _ef5=this.currentContext[_ef3]&_ef4;
return (_ef5==_ef4);
}
return false;
},getValue:function(){
var _ef6="";
for(var i=0;i<this.currentContext.length;i++){
_ef6+=this.currentContext[i]+"|";
}
return _ef6.substring(0,_ef6.length-1);
},toRequestString:function(){
return "o3ctx="+this.getValue();
},toBinary:function(){
var _ef7="";
for(var i=0;i<this.currentContext.length;i++){
_ef7+=this.currentContext[i].toString(2)+"|";
}
return _ef7.substring(0,_ef7.length-1);
},toString:function(){
var _ef8="";
for(var i=0;i<this.currentContext.length;i++){
var _ef9="";
var j=0;
while(j<_ee5[i].length){
if(((this.currentContext[i]>>j)&1)!=0){
_ef9+=","+_ee5[i][j];
}
j++;
}
if(_ef9==""){
return "{}";
}
_ef8+="|"+_ef9.replace(",","{")+((_ef9.length==0)?"":"}");
}
return _ef8.substring(1);
},parseContext:function(_efa){
var _efb=_efa.replace(/,/g,"|");
var _efc=_efb.split("|");
var tmp=isNaN(_efc[0])?parseInt(_ee4[_efc[0]]):_efc[0];
for(var i=1;i<_efc.length;i++){
tmp=tmp|(isNaN(_efc[i])?parseInt(_ee4[_efc[i]]):_efc[i]);
}
return (isNaN(tmp)?null:tmp);
},setup:function(_efd){
if(!_efd){
return null;
}
var _efe=(""+_efd).split("|");
var _eff=new Array(_efe.length);
for(var i=0;i<_efe.length;i++){
_eff[i]=this.parseContext(_efe[_efe.length-i-1]);
_eff[i]=_eff[i]|_eff[i];
if(!_eff[i]||isNaN(_eff[i])||_eff[i]>4294967295){
return null;
}
}
return _eff;
}});
return _ee6;
});
},"dijit/a11y":function(){
define("dijit/a11y",["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/sniff","./_base/manager","."],function(_f00,_f01,_f02,dom,_f03,_f04,has,_f05,_f06){
var _f07=(_f06._isElementShown=function(elem){
var s=_f04.get(elem);
return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_f03.get(elem,"type")!="hidden");
});
_f06.hasDefaultTabStop=function(elem){
switch(elem.nodeName.toLowerCase()){
case "a":
return _f03.has(elem,"href");
case "area":
case "button":
case "input":
case "object":
case "select":
case "textarea":
return true;
case "iframe":
var body;
try{
var _f08=elem.contentDocument;
if("designMode" in _f08&&_f08.designMode=="on"){
return true;
}
body=_f08.body;
}
catch(e1){
try{
body=elem.contentWindow.document.body;
}
catch(e2){
return false;
}
}
return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));
default:
return elem.contentEditable=="true";
}
};
var _f09=(_f06.isTabNavigable=function(elem){
if(_f03.get(elem,"disabled")){
return false;
}else{
if(_f03.has(elem,"tabIndex")){
return _f03.get(elem,"tabIndex")>=0;
}else{
return _f06.hasDefaultTabStop(elem);
}
}
});
_f06._getTabNavigable=function(root){
var _f0a,last,_f0b,_f0c,_f0d,_f0e,_f0f={};
function _f10(node){
return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();
};
var _f11=function(_f12){
for(var _f13=_f12.firstChild;_f13;_f13=_f13.nextSibling){
if(_f13.nodeType!=1||(has("ie")<=9&&_f13.scopeName!=="HTML")||!_f07(_f13)){
continue;
}
if(_f09(_f13)){
var _f14=_f03.get(_f13,"tabIndex");
if(!_f03.has(_f13,"tabIndex")||_f14==0){
if(!_f0a){
_f0a=_f13;
}
last=_f13;
}else{
if(_f14>0){
if(!_f0b||_f14<_f0c){
_f0c=_f14;
_f0b=_f13;
}
if(!_f0d||_f14>=_f0e){
_f0e=_f14;
_f0d=_f13;
}
}
}
var rn=_f10(_f13);
if(_f03.get(_f13,"checked")&&rn){
_f0f[rn]=_f13;
}
}
if(_f13.nodeName.toUpperCase()!="SELECT"){
_f11(_f13);
}
}
};
if(_f07(root)){
_f11(root);
}
function rs(node){
return _f0f[_f10(node)]||node;
};
return {first:rs(_f0a),last:rs(last),lowest:rs(_f0b),highest:rs(_f0d)};
};
_f06.getFirstInTabbingOrder=function(root){
var _f15=_f06._getTabNavigable(dom.byId(root));
return _f15.lowest?_f15.lowest:_f15.first;
};
_f06.getLastInTabbingOrder=function(root){
var _f16=_f06._getTabNavigable(dom.byId(root));
return _f16.last?_f16.last:_f16.highest;
};
return {hasDefaultTabStop:_f06.hasDefaultTabStop,isTabNavigable:_f06.isTabNavigable,_getTabNavigable:_f06._getTabNavigable,getFirstInTabbingOrder:_f06.getFirstInTabbingOrder,getLastInTabbingOrder:_f06.getLastInTabbingOrder};
});
},"dijit/form/_ToggleButtonMixin":function(){
define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(_f17,_f18){
return _f17("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){
var _f19=this.checked;
this._set("checked",!_f19);
var ret=this.inherited(arguments);
this.set("checked",ret?this.checked:_f19);
return ret;
},_setCheckedAttr:function(_f1a,_f1b){
this._set("checked",_f1a);
_f18.set(this.focusNode||this.domNode,"checked",_f1a);
(this.focusNode||this.domNode).setAttribute(this._aria_attr,_f1a?"true":"false");
this._handleOnChange(_f1a,_f1b);
},reset:function(){
this._hasBeenBlurred=false;
this.set("checked",this.params.checked||false);
}});
});
},"dijit/_Widget":function(){
define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_f1c,_f1d,_f1e,_f1f,_f20,lang,_f21,_f22,_f23,_f24,_f25,_f26){
function _f27(){
};
function _f28(_f29){
return function(obj,_f2a,_f2b,_f2c){
if(obj&&typeof _f2a=="string"&&obj[_f2a]==_f27){
return obj.on(_f2a.substring(2).toLowerCase(),lang.hitch(_f2b,_f2c));
}
return _f29.apply(_f1e,arguments);
};
};
_f1c.around(_f1e,"connect",_f28);
if(_f20.connect){
_f1c.around(_f20,"connect",_f28);
}
var _f2d=_f1f("dijit._Widget",[_f24,_f25,_f26],{onClick:_f27,onDblClick:_f27,onKeyDown:_f27,onKeyPress:_f27,onKeyUp:_f27,onMouseDown:_f27,onMouseMove:_f27,onMouseOut:_f27,onMouseOver:_f27,onMouseLeave:_f27,onMouseEnter:_f27,onMouseUp:_f27,constructor:function(_f2e){
this._toConnect={};
for(var name in _f2e){
if(this[name]===_f27){
this._toConnect[name.replace(/^on/,"").toLowerCase()]=_f2e[name];
delete _f2e[name];
}
}
},postCreate:function(){
this.inherited(arguments);
for(var name in this._toConnect){
this.on(name,this._toConnect[name]);
}
delete this._toConnect;
},on:function(type,func){
if(this[this._onMap(type)]===_f27){
return _f1e.connect(this.domNode,type.toLowerCase(),this,func);
}
return this.inherited(arguments);
},_setFocusedAttr:function(val){
this._focused=val;
this._set("focused",val);
},setAttribute:function(attr,_f2f){
_f20.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");
this.set(attr,_f2f);
},attr:function(name,_f30){
if(_f1d.isDebug){
var _f31=arguments.callee._ach||(arguments.callee._ach={}),_f32=(arguments.callee.caller||"unknown caller").toString();
if(!_f31[_f32]){
_f20.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_f32,"","2.0");
_f31[_f32]=true;
}
}
var args=arguments.length;
if(args>=2||typeof name==="object"){
return this.set.apply(this,arguments);
}else{
return this.get(name);
}
},getDescendants:function(){
_f20.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");
return this.containerNode?_f21("[widgetId]",this.containerNode).map(_f23.byNode):[];
},_onShow:function(){
this.onShow();
},onShow:function(){
},onHide:function(){
},onClose:function(){
return true;
}});
if(!_f20.isAsync){
_f22(0,function(){
var _f33=["dijit/_base"];
require(_f33);
});
}
return _f2d;
});
},"dojo/touch":function(){
define("dojo/touch",["./_base/kernel","./on","./has","./mouse"],function(dojo,on,has,_f34){
function _f35(type){
return function(node,_f36){
return on(node,type,_f36);
};
};
var _f37=has("touch");
dojo.touch={press:_f35(_f37?"touchstart":"mousedown"),move:_f35(_f37?"touchmove":"mousemove"),release:_f35(_f37?"touchend":"mouseup"),cancel:_f37?_f35("touchcancel"):_f34.leave};
return dojo.touch;
});
},"url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode\" cellspacing='0' cellpadding='0'\n\trole=\"combobox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\" role=\"presentation\"\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  data-dojo-attach-point=\"containerNode,_popupStateNode\"></span\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n","dojo/fx":function(){
define("dojo/fx",["./_base/lang","./Evented","./_base/kernel","./_base/array","./_base/connect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_f38,dojo,_f39,_f3a,_f3b,dom,_f3c,geom,_f3d,_f3e){
if(!dojo.isAsync){
_f3d(0,function(){
var _f3f=["./fx/Toggler"];
_f3e(_f3f);
});
}
var _f40=dojo.fx={};
var _f41={_fire:function(evt,args){
if(this[evt]){
this[evt].apply(this,args||[]);
}
return this;
}};
var _f42=function(_f43){
this._index=-1;
this._animations=_f43||[];
this._current=this._onAnimateCtx=this._onEndCtx=null;
this.duration=0;
_f39.forEach(this._animations,function(a){
this.duration+=a.duration;
if(a.delay){
this.duration+=a.delay;
}
},this);
};
_f42.prototype=new _f38();
lang.extend(_f42,{_onAnimate:function(){
this._fire("onAnimate",arguments);
},_onEnd:function(){
_f3a.disconnect(this._onAnimateCtx);
_f3a.disconnect(this._onEndCtx);
this._onAnimateCtx=this._onEndCtx=null;
if(this._index+1==this._animations.length){
this._fire("onEnd");
}else{
this._current=this._animations[++this._index];
this._onAnimateCtx=_f3a.connect(this._current,"onAnimate",this,"_onAnimate");
this._onEndCtx=_f3a.connect(this._current,"onEnd",this,"_onEnd");
this._current.play(0,true);
}
},play:function(_f44,_f45){
if(!this._current){
this._current=this._animations[this._index=0];
}
if(!_f45&&this._current.status()=="playing"){
return this;
}
var _f46=_f3a.connect(this._current,"beforeBegin",this,function(){
this._fire("beforeBegin");
}),_f47=_f3a.connect(this._current,"onBegin",this,function(arg){
this._fire("onBegin",arguments);
}),_f48=_f3a.connect(this._current,"onPlay",this,function(arg){
this._fire("onPlay",arguments);
_f3a.disconnect(_f46);
_f3a.disconnect(_f47);
_f3a.disconnect(_f48);
});
if(this._onAnimateCtx){
_f3a.disconnect(this._onAnimateCtx);
}
this._onAnimateCtx=_f3a.connect(this._current,"onAnimate",this,"_onAnimate");
if(this._onEndCtx){
_f3a.disconnect(this._onEndCtx);
}
this._onEndCtx=_f3a.connect(this._current,"onEnd",this,"_onEnd");
this._current.play.apply(this._current,arguments);
return this;
},pause:function(){
if(this._current){
var e=_f3a.connect(this._current,"onPause",this,function(arg){
this._fire("onPause",arguments);
_f3a.disconnect(e);
});
this._current.pause();
}
return this;
},gotoPercent:function(_f49,_f4a){
this.pause();
var _f4b=this.duration*_f49;
this._current=null;
_f39.some(this._animations,function(a){
if(a.duration<=_f4b){
this._current=a;
return true;
}
_f4b-=a.duration;
return false;
});
if(this._current){
this._current.gotoPercent(_f4b/this._current.duration,_f4a);
}
return this;
},stop:function(_f4c){
if(this._current){
if(_f4c){
for(;this._index+1<this._animations.length;++this._index){
this._animations[this._index].stop(true);
}
this._current=this._animations[this._index];
}
var e=_f3a.connect(this._current,"onStop",this,function(arg){
this._fire("onStop",arguments);
_f3a.disconnect(e);
});
this._current.stop();
}
return this;
},status:function(){
return this._current?this._current.status():"stopped";
},destroy:function(){
if(this._onAnimateCtx){
_f3a.disconnect(this._onAnimateCtx);
}
if(this._onEndCtx){
_f3a.disconnect(this._onEndCtx);
}
}});
lang.extend(_f42,_f41);
_f40.chain=function(_f4d){
return new _f42(_f4d);
};
var _f4e=function(_f4f){
this._animations=_f4f||[];
this._connects=[];
this._finished=0;
this.duration=0;
_f39.forEach(_f4f,function(a){
var _f50=a.duration;
if(a.delay){
_f50+=a.delay;
}
if(this.duration<_f50){
this.duration=_f50;
}
this._connects.push(_f3a.connect(a,"onEnd",this,"_onEnd"));
},this);
this._pseudoAnimation=new _f3b.Animation({curve:[0,1],duration:this.duration});
var self=this;
_f39.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){
self._connects.push(_f3a.connect(self._pseudoAnimation,evt,function(){
self._fire(evt,arguments);
}));
});
};
lang.extend(_f4e,{_doAction:function(_f51,args){
_f39.forEach(this._animations,function(a){
a[_f51].apply(a,args);
});
return this;
},_onEnd:function(){
if(++this._finished>this._animations.length){
this._fire("onEnd");
}
},_call:function(_f52,args){
var t=this._pseudoAnimation;
t[_f52].apply(t,args);
},play:function(_f53,_f54){
this._finished=0;
this._doAction("play",arguments);
this._call("play",arguments);
return this;
},pause:function(){
this._doAction("pause",arguments);
this._call("pause",arguments);
return this;
},gotoPercent:function(_f55,_f56){
var ms=this.duration*_f55;
_f39.forEach(this._animations,function(a){
a.gotoPercent(a.duration<ms?1:(ms/a.duration),_f56);
});
this._call("gotoPercent",arguments);
return this;
},stop:function(_f57){
this._doAction("stop",arguments);
this._call("stop",arguments);
return this;
},status:function(){
return this._pseudoAnimation.status();
},destroy:function(){
_f39.forEach(this._connects,_f3a.disconnect);
}});
lang.extend(_f4e,_f41);
_f40.combine=function(_f58){
return new _f4e(_f58);
};
_f40.wipeIn=function(args){
var node=args.node=dom.byId(args.node),s=node.style,o;
var anim=_f3b.animateProperty(lang.mixin({properties:{height:{start:function(){
o=s.overflow;
s.overflow="hidden";
if(s.visibility=="hidden"||s.display=="none"){
s.height="1px";
s.display="";
s.visibility="";
return 1;
}else{
var _f59=_f3c.get(node,"height");
return Math.max(_f59,1);
}
},end:function(){
return node.scrollHeight;
}}}},args));
var fini=function(){
s.height="auto";
s.overflow=o;
};
_f3a.connect(anim,"onStop",fini);
_f3a.connect(anim,"onEnd",fini);
return anim;
};
_f40.wipeOut=function(args){
var node=args.node=dom.byId(args.node),s=node.style,o;
var anim=_f3b.animateProperty(lang.mixin({properties:{height:{end:1}}},args));
_f3a.connect(anim,"beforeBegin",function(){
o=s.overflow;
s.overflow="hidden";
s.display="";
});
var fini=function(){
s.overflow=o;
s.height="auto";
s.display="none";
};
_f3a.connect(anim,"onStop",fini);
_f3a.connect(anim,"onEnd",fini);
return anim;
};
_f40.slideTo=function(args){
var node=args.node=dom.byId(args.node),top=null,left=null;
var init=(function(n){
return function(){
var cs=_f3c.getComputedStyle(n);
var pos=cs.position;
top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);
left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);
if(pos!="absolute"&&pos!="relative"){
var ret=geom.position(n,true);
top=ret.y;
left=ret.x;
n.style.position="absolute";
n.style.top=top+"px";
n.style.left=left+"px";
}
};
})(node);
init();
var anim=_f3b.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));
_f3a.connect(anim,"beforeBegin",anim,init);
return anim;
};
return _f40;
});
},"dijit/_DialogMixin":function(){
define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(_f5a,a11y){
return _f5a("dijit._DialogMixin",null,{execute:function(){
},onCancel:function(){
},onExecute:function(){
},_onSubmit:function(){
this.onExecute();
this.execute(this.get("value"));
},_getFocusItems:function(){
var _f5b=a11y._getTabNavigable(this.containerNode);
this._firstFocusItem=_f5b.lowest||_f5b.first||this.closeButtonNode||this.domNode;
this._lastFocusItem=_f5b.last||_f5b.highest||this._firstFocusItem;
}});
});
},"curam/tab/TabDescriptor":function(){
define("curam/tab/TabDescriptor",["curam/tab/TabSessionManager","curam/debug","curam/util/ResourceBundle"],function(_f5c){
dojo.requireLocalization("curam.application","Debug");
var _f5d=new curam.util.ResourceBundle("Debug");
var _f5e=dojo.declare("curam.tab.TabDescriptor",null,{constructor:function(_f5f,_f60){
this.sectionID=_f5f?_f5f:null;
this.tabID=_f60?_f60:null;
this.tabSignature=null;
this.tabContent=null;
this.tabParamNames=null;
this.isHomePage=false;
},toJson:function(){
var _f61={"sectionID":this.sectionID,"tabID":this.tabID,"tabSignature":this.tabSignature,"tabParamNames":this.tabParamNames,"isHomePage":this.isHomePage};
_f61.tabContent=this.tabContent?this.tabContent:null;
return dojo.toJson(_f61);
},setTabContent:function(_f62,_f63){
if(this.tabContent){
this._log(_f5d.getProperty("curam.tab.TabDescriptor.content.changed"));
}else{
this._log(_f5d.getProperty("curam.tab.TabDescriptor.content.set"));
}
var _f64=dojo.clone(_f62.parameters);
dojo.mixin(_f64,_f62.cdejParameters);
if(!this.tabContent){
this.tabContent={};
}
this.tabContent.parameters=_f64;
this.tabContent.pageID=_f62.pageID;
if(_f63){
this.tabContent.tabName=_f63;
}else{
if(!this.tabContent.tabName){
this.tabContent.tabName="";
}
}
this._save();
dojo.publish("/curam/tab/labelUpdated");
},setTabSignature:function(_f65,_f66,_f67){
if(!this.tabSignature){
this.tabParamNames=_f65.slice(0);
this.tabParamNames.sort();
this.tabSignature=this._generateSignature(this.tabID,this.tabParamNames,_f66);
this._log(_f5d.getProperty("curam.tab.TabDescriptor.signature.set"));
this._save();
if(!_f67){
this._select();
}
}else{
this._log(_f5d.getProperty("curam.tab.TabDescriptor.signature.not.set"));
}
},matchesPageRequest:function(_f68){
return this.tabSignature&&this.tabSignature==this._generateSignature(this.tabID,this.tabParamNames,_f68);
},_generateSignature:function(_f69,_f6a,_f6b){
var _f6c=_f69;
if(_f6a){
for(var i=0;i<_f6a.length;i++){
var name=_f6a[i];
if(_f6b.parameters[name]){
_f6c+="|"+name+"="+_f6b.parameters[name];
}
}
}
return _f6c;
},_save:function(){
if(this.tabContent&&this.tabSignature){
this._log(_f5d.getProperty("curam.tab.TabDescriptor.saving"));
new _f5c().tabUpdated(this);
}
},_select:function(){
if(this.tabSignature){
this._log(_f5d.getProperty("curam.tab.TabDescriptor.selecting"));
new _f5c().tabSelected(this);
}
},_log:function(msg){
if(curam.debug.enabled()){
curam.debug.log("TAB DESCRIPTOR: "+msg+" ["+this.toJson()+"]");
}
}});
dojo.mixin(curam.tab.TabDescriptor,{fromJson:function(_f6d){
var _f6e=null;
if(_f6d){
var _f6f=dojo.fromJson(_f6d);
var _f6e=new curam.tab.TabDescriptor(_f6f.sectionID,_f6f.tabID);
if(_f6f.tabSignature){
_f6e.tabSignature=_f6f.tabSignature;
}
if(_f6f.tabContent){
_f6e.tabContent=_f6f.tabContent;
}
if(_f6f.tabParamNames){
_f6e.tabParamNames=_f6f.tabParamNames;
}
if(_f6f.isHomePage){
_f6e.isHomePage=_f6f.isHomePage;
}
}
return _f6e;
}});
return _f5e;
});
},"curam/ui/OpenTabEvent":function(){
define("curam/ui/OpenTabEvent",["curam/ui/PageRequest"],function(_f70){
var _f71=dojo.declare("curam.ui.OpenTabEvent",null,{constructor:function(_f72,_f73,_f74){
this.tabDescriptor=_f72;
this.openInBackground=_f74?true:false;
if(_f73){
this.uimPageRequest=_f73;
}else{
this.uimPageRequest=new _f70(_f72,_f72.isHomePage);
}
}});
return _f71;
});
},"curam/widgets":function(){
define("curam/widgets",[],function(){
var _f75=function(_f76){
this.accordion=new _f77(_f76,this);
this.accordion.switchboard=this;
};
var _f78={updateButtons:function(){
var _f79=this.accordion;
this.collapser.disabled=_f79.staysStill(false);
this.expander.disabled=_f79.staysStill(true);
},switchMode:function(){
if(this.checked){
this.switchboard.accordion.accordMode=false;
this.switchboard.expander.onclick=this.switchboard.accordion.expandRest;
this.switchboard.collapser.style.display="";
this.switchboard.updateButtons();
}else{
this.switchboard.accordion.accordMode=true;
this.switchboard.collapser.style.display="none";
this.switchboard.accordion.collapseAll();
this.switchboard.expander.value="Expand All";
this.switchboard.expander.onclick=this.switchboard.accordion.expandAll;
this.switchboard.expander.disabled=false;
}
}};
dojo.mixin(_f75.prototype,_f78);
var _f77=function(_f7a,_f7b){
var _f7c;
this.panelHeight="250px";
this.accordMode=true;
this.switchboard=_f7b;
this.topElement=dojo.byId(_f7a);
this.tabs=[];
var _f7d=dojo.query("div",this.topElement);
for(var i=0;i<_f7d.length;i++){
if(_f7d[i].className=="accordionTab"){
while(_f7d[++i].className!="tabHeader"){
}
_f7c=_f7d[i];
while(_f7d[++i].className!="tabContent"){
}
this.tabs[this.tabs.length]=new _f7e(this,_f7c,_f7d[i]);
}
}
this.lastTab=this.tabs[0];
for(var i=1;i<this.tabs.length;i++){
this.tabs[i].collapse(false);
}
};
var _f7f={expandAll:function(){
var _f80=this.switchboard.accordion;
for(var i=0;i<_f80.tabs.length;i++){
_f80.tabs[i].stateExpanded();
}
this.src="../themes/classic/images/evidence-review/CollapseAllButton.png";
this.onclick=_f80.collapseAll;
},collapseAll:function(){
var _f81=this.switchboard.accordion;
for(var i=0;i<_f81.tabs.length;i++){
_f81.tabs[i].collapse(false);
}
_f81.lastTab.expand(false);
this.src="../themes/classic/images/evidence-review/ExpandAllButton.png";
this.onclick=_f81.expandAll;
},expandRest:function(){
if(!this.switchboard.accordion.staysStill(true)){
this.switchboard.accordion.expandAll();
}
this.switchboard.updateButtons();
},collapseRest:function(){
if(!this.switchboard.accordion.staysStill(false)){
this.switchboard.accordion.collapseAll();
}
this.switchboard.updateButtons();
},staysStill:function(_f82){
var _f83=0;
var _f84=this.tabs.length;
for(var i=0;i<_f84;i++){
if(this.tabs[i].expanded==true){
_f83++;
}
}
return (_f82==true)?(_f84-_f83==0):(_f83==1);
}};
dojo.mixin(_f77.prototype,_f7f);
var _f7e=function(_f85,_f86,_f87){
this.accordion=_f85;
this.switchboard=_f85.switchboard;
this.header=_f86;
this.header.tab=this;
this.content=_f87;
dojo.style(this.content,{height:_f85.panelHeight,overflow:"auto"});
this.content.tab=this;
this.expanded=true;
dojo.connect(this.header,"onclick",this.toggleState);
dojo.connect(this.header,"onmouseover",this.hoverStyle);
dojo.connect(this.header,"onmouseout",this.stillStyle);
};
var _f88={hoverStyle:function(e){
if(!this.tab.expanded){
this.className+=" tabHeaderHover";
}
},stillStyle:function(e){
this.className="tabHeader";
},collapse:function(_f89){
if(this.accordion.lastTab==this){
return;
}
if(this.accordion.staysStill(false)){
return;
}
if(_f89&&this.accordion.accordMode==false){
new _f8a(this.content,"down");
}else{
dojo.style(this.content,{height:"1px",display:"none"});
}
this.expanded=false;
this.content.style.overflow="hidden";
if(this.accordion.accordMode==false){
this.switchboard.updateButtons();
}
},expand:function(_f8b){
if(this.accordion.lastTab==this){
return;
}
if(this.accordion.staysStill(true)){
return;
}
var _f8c=this.accordion.lastTab;
this.stateExpanded(_f8b);
this.accordion.lastTab=this;
if(this.accordion.accordMode==true){
_f8c.collapse(true);
}else{
this.switchboard.updateButtons();
}
},stateExpanded:function(_f8d){
if(_f8d){
this.content.style.display="";
if(this.accordion.accordMode==true){
new _f8e(this.content,this.accordion.lastTab.content);
}else{
new _f8a(this.content,"up");
}
}else{
dojo.style(this.content,{height:this.accordion.panelHeight,display:"",overflow:"auto"});
this.expanded=true;
}
},toggleState:function(){
if(this.tab.expanded==true){
this.tab.collapse(true);
}else{
this.tab.expand(true);
}
}};
dojo.mixin(_f7e.prototype,_f88);
var _f8a=function(_f8f,_f90){
this.contentRef=_f8f;
this.direction=_f90;
this.duration=100;
this.steps=6;
this.step();
};
var _f91={step:function(){
var _f92;
if(this.steps<=0){
if(this.direction=="down"){
dojo.style(this.contentRef,{height:"1px",display:"none"});
this.contentRef.tab.expanded=false;
}else{
this.contentRef.style.height=this.contentRef.tab.accordion.panelHeight;
this.contentRef.tab.expanded=true;
}
this.contentRef.tab.switchboard.updateButtons();
return;
}
if(this.timer){
clearTimeout(this.timer);
}
var _f93=Math.round(this.duration/this.steps);
if(this.direction=="down"){
_f92=this.steps>0?(parseInt(this.contentRef.offsetHeight)-1)/this.steps:0;
}else{
_f92=this.steps>0?(parseInt(this.contentRef.tab.accordion.panelHeight)-parseInt(this.contentRef.offsetHeight))/this.steps:0;
}
this.resizeBy(_f92);
this.duration-=_f93;
this.steps--;
this.timer=setTimeout(dojo.hitch(this,this.step),_f93);
},resizeBy:function(_f94){
var _f95=this.contentRef.offsetHeight;
var _f96=parseInt(_f94);
if(_f94!=0){
if(this.direction=="down"){
this.contentRef.style.height=(_f95-_f96)+"px";
}else{
this.contentRef.style.height=(_f95+_f96)+"px";
}
}
}};
dojo.mixin(_f8a.prototype,_f91);
var _f8e=function(_f97,_f98){
this.collapsingContent=_f98;
this.collapsingContent.style.overflow="hidden";
this.expandingContent=_f97;
this.limit=250;
this.duration=100;
this.steps=10;
this.expandingContent.style.display="";
this.step();
};
var _f99={step:function(){
if(this.steps<=0){
dojo.style(this.collapsingContent,{height:"1px",display:"none"});
dojo.style(this.collapsingContent,{height:this.limit,overflow:"auto"});
this.collapsingContent.tab.expanded=false;
this.expandingContent.tab.expanded=true;
return;
}
if(this.timer){
clearTimeout(this.timer);
}
var _f9a=Math.round(this.duration/this.steps);
var _f9b=this.steps>0?(parseInt(this.collapsingContent.style.height)-1)/this.steps:0;
this.resizeBoth(_f9b);
this.duration-=_f9a;
this.steps--;
this.timer=setTimeout(dojo.hitch(this,this.step),_f9a);
},resizeBoth:function(_f9c){
var h1=parseInt(this.collapsingContent.style.height);
var h2=parseInt(this.expandingContent.style.height);
var _f9d=parseInt(_f9c);
if(_f9c!=0){
if(h2+_f9d<this.limit){
this.collapsingContent.style.height=(h1-_f9d)+"px";
this.expandingContent.style.height=(h2+_f9d)+"px";
}
}
}};
dojo.mixin(_f8e.prototype,_f99);
var _f9e={version:"1",AccordionControl:_f75,AccordionWidget:_f77,AccordionTab:_f7e,SingleSlowMotion:_f8a,SynchroSlowMotion:_f8e,registerAccordion:function(id){
_f75.constructor(id);
}};
var _f9f=function(_fa0){
this.steps=_fa0;
this.regions=new Array();
this.RGB=new Array(256);
var k=0;
var hex=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");
for(var i=0;i<16;i++){
for(j=0;j<16;j++){
this.RGB[k]=hex[i]+hex[j];
k++;
}
}
};
var _fa1={addRegion:function(_fa2){
this.regions[this.regions.length]=_fa2;
},drawMap:function(){
var _fa3;
if(this.steps%2==0){
_fa3=this.steps/2;
}else{
_fa3=(this.steps-1)/2;
}
var step=parseInt(255/_fa3);
var red,_fa4,blue;
for(var i=0;i<this.steps;++i){
var _fa5;
if(i==0){
_fa5="#ff0000";
}else{
if(i==(this.steps-1)){
_fa5="#0000ff";
}else{
if(i==_fa3){
_fa5="#ffffff";
}else{
if(i>_fa3){
var _fa4=255;
var red=255;
_fa4-=(i-_fa3)*step;
red-=(i-_fa3)*step;
_fa5=this.rgbToHex(red,_fa4,255);
}else{
if(i<_fa3){
_fa4=0;
blue=0;
_fa4+=step*i;
blue+=step*i;
_fa5=this.rgbToHex(255,_fa4,blue);
}
}
}
}
}
var _fa6=dojo.byId("heatmapTable");
if(_fa6){
var _fa7=_fa6.getElementsByTagName("td");
for(var j=0;j<_fa7.length;j++){
if(_fa7[j].className.indexOf("region"+this.regions[i])>-1){
_fa7[j].style.background=_fa5;
if(i>_fa3){
dojo.style(dojo.query("a",_fa7[j])[0],"color","white");
}
}
}
}
dojo.style(dojo.byId("legendImage"+this.regions[i]),{color:_fa5,background:_fa5});
}
},rgbToHex:function(r,g,b){
var rr=this.RGB[r];
var gg=this.RGB[g];
var bb=this.RGB[b];
return "#"+rr+gg+bb;
}};
dojo.mixin(_f9f.prototype,_fa1);
dojo.global.getDataIn=function(_fa8){
return eval(_fa8);
};
dojo.global.Widgets=_f9e;
dojo.global.HeatMap=_f9f;
return _f9e;
});
},"dijit/Tree":function(){
require({cache:{"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\" data-dojo-attach-event=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick\"\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" data-dojo-attach-event=\"onfocus:_onLabelFocus\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\"\n\tdata-dojo-attach-event=\"onkeypress:_onKeyPress\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n"}});
define("dijit/Tree",["dojo/_base/array","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/_base/Deferred","dojo/DeferredList","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/fx","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/topic","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector"],function(_fa9,_faa,_fab,_fac,_fad,_fae,dom,_faf,_fb0,_fb1,_fb2,_fb3,_fb4,keys,lang,_fb5,_fb6,_fb7,_fb8,_fb9,_fba,_fbb,_fbc,_fbd,_fbe,_fbf,_fc0,_fc1,_fc2){
var _fc3=_fac("dijit._TreeNode",[_fb9,_fba,_fbb,_fbc,_fbd],{item:null,isTreeNode:true,label:"",_setLabelAttr:{node:"labelNode",type:"innerText"},isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:_fbe,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow",labelNode:"dijitTreeLabel"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){
this.inherited(arguments);
this._setExpando();
this._updateItemClasses(this.item);
if(this.isExpandable){
this.labelNode.setAttribute("aria-expanded",this.isExpanded);
}
this.setSelected(false);
},_setIndentAttr:function(_fc4){
var _fc5=(Math.max(_fc4,0)*this.tree._nodePixelIndent)+"px";
_fb1.set(this.domNode,"backgroundPosition",_fc5+" 0px");
_fb1.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_fc5);
_fa9.forEach(this.getChildren(),function(_fc6){
_fc6.set("indent",_fc4+1);
});
this._set("indent",_fc4);
},markProcessing:function(){
this.state="LOADING";
this._setExpando(true);
},unmarkProcessing:function(){
this._setExpando(false);
},_updateItemClasses:function(item){
var tree=this.tree,_fc7=tree.model;
if(tree._v10Compat&&item===_fc7.root){
item=null;
}
this._applyClassAndStyle(item,"icon","Icon");
this._applyClassAndStyle(item,"label","Label");
this._applyClassAndStyle(item,"row","Row");
},_applyClassAndStyle:function(item,_fc8,_fc9){
var _fca="_"+_fc8+"Class";
var _fcb=_fc8+"Node";
var _fcc=this[_fca];
this[_fca]=this.tree["get"+_fc9+"Class"](item,this.isExpanded);
_faf.replace(this[_fcb],this[_fca]||"",_fcc||"");
_fb1.set(this[_fcb],this.tree["get"+_fc9+"Style"](item,this.isExpanded)||{});
},_updateLayout:function(){
var _fcd=this.getParent();
if(!_fcd||!_fcd.rowNode||_fcd.rowNode.style.display=="none"){
_faf.add(this.domNode,"dijitTreeIsRoot");
}else{
_faf.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling());
}
},_setExpando:function(_fce){
var _fcf=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_fd0=["*","-","+","*"],idx=_fce?0:(this.isExpandable?(this.isExpanded?1:2):3);
_faf.replace(this.expandoNode,_fcf[idx],_fcf);
this.expandoNodeText.innerHTML=_fd0[idx];
},expand:function(){
if(this._expandDeferred){
return this._expandDeferred;
}
this._wipeOut&&this._wipeOut.stop();
this.isExpanded=true;
this.labelNode.setAttribute("aria-expanded","true");
if(this.tree.showRoot||this!==this.tree.rootNode){
this.containerNode.setAttribute("role","group");
}
_faf.add(this.contentNode,"dijitTreeContentExpanded");
this._setExpando();
this._updateItemClasses(this.item);
if(this==this.tree.rootNode&&this.tree.showRoot){
this.tree.domNode.setAttribute("aria-expanded","true");
}
var def,_fd1=_fb3.wipeIn({node:this.containerNode,duration:_fb8.defaultDuration,onEnd:function(){
def.callback(true);
}});
def=(this._expandDeferred=new _fad(function(){
_fd1.stop();
}));
_fd1.play();
return def;
},collapse:function(){
if(!this.isExpanded){
return;
}
if(this._expandDeferred){
this._expandDeferred.cancel();
delete this._expandDeferred;
}
this.isExpanded=false;
this.labelNode.setAttribute("aria-expanded","false");
if(this==this.tree.rootNode&&this.tree.showRoot){
this.tree.domNode.setAttribute("aria-expanded","false");
}
_faf.remove(this.contentNode,"dijitTreeContentExpanded");
this._setExpando();
this._updateItemClasses(this.item);
if(!this._wipeOut){
this._wipeOut=_fb3.wipeOut({node:this.containerNode,duration:_fb8.defaultDuration});
}
this._wipeOut.play();
},indent:0,setChildItems:function(_fd2){
var tree=this.tree,_fd3=tree.model,defs=[];
_fa9.forEach(this.getChildren(),function(_fd4){
_fbb.prototype.removeChild.call(this,_fd4);
},this);
this.state="LOADED";
if(_fd2&&_fd2.length>0){
this.isExpandable=true;
_fa9.forEach(_fd2,function(item){
var id=_fd3.getIdentity(item),_fd5=tree._itemNodesMap[id],node;
if(_fd5){
for(var i=0;i<_fd5.length;i++){
if(_fd5[i]&&!_fd5[i].getParent()){
node=_fd5[i];
node.set("indent",this.indent+1);
break;
}
}
}
if(!node){
node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_fd3.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});
if(_fd5){
_fd5.push(node);
}else{
tree._itemNodesMap[id]=[node];
}
}
this.addChild(node);
if(this.tree.autoExpand||this.tree._state(node)){
defs.push(tree._expandNode(node));
}
},this);
_fa9.forEach(this.getChildren(),function(_fd6){
_fd6._updateLayout();
});
}else{
this.isExpandable=false;
}
if(this._setExpando){
this._setExpando(false);
}
this._updateItemClasses(this.item);
if(this==tree.rootNode){
var fc=this.tree.showRoot?this:this.getChildren()[0];
if(fc){
fc.setFocusable(true);
tree.lastFocused=fc;
}else{
tree.domNode.setAttribute("tabIndex","0");
}
}
return new _fae(defs);
},getTreePath:function(){
var node=this;
var path=[];
while(node&&node!==this.tree.rootNode){
path.unshift(node.item);
node=node.getParent();
}
path.unshift(this.tree.rootNode.item);
return path;
},getIdentity:function(){
return this.tree.model.getIdentity(this.item);
},removeChild:function(node){
this.inherited(arguments);
var _fd7=this.getChildren();
if(_fd7.length==0){
this.isExpandable=false;
this.collapse();
}
_fa9.forEach(_fd7,function(_fd8){
_fd8._updateLayout();
});
},makeExpandable:function(){
this.isExpandable=true;
this._setExpando(false);
},_onLabelFocus:function(){
this.tree._onNodeFocus(this);
},setSelected:function(_fd9){
this.labelNode.setAttribute("aria-selected",_fd9);
_faf.toggle(this.rowNode,"dijitTreeRowSelected",_fd9);
},setFocusable:function(_fda){
this.labelNode.setAttribute("tabIndex",_fda?"0":"-1");
},_onClick:function(evt){
this.tree._onClick(this,evt);
},_onDblClick:function(evt){
this.tree._onDblClick(this,evt);
},_onMouseEnter:function(evt){
this.tree._onNodeMouseEnter(this,evt);
},_onMouseLeave:function(evt){
this.tree._onNodeMouseLeave(this,evt);
},_setTextDirAttr:function(_fdb){
if(_fdb&&((this.textDir!=_fdb)||!this._created)){
this._set("textDir",_fdb);
this.applyTextDir(this.labelNode,this.labelNode.innerText||this.labelNode.textContent||"");
_fa9.forEach(this.getChildren(),function(_fdc){
_fdc.set("textDir",_fdb);
},this);
}
}});
var Tree=_fac("dijit.Tree",[_fb9,_fba],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_fbf,persist:true,autoExpand:false,dndController:_fc2,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_fdd,_fde){
_fb5.publish(this.id,lang.mixin({tree:this,event:_fdd},_fde||{}));
},postMixInProperties:function(){
this.tree=this;
if(this.autoExpand){
this.persist=false;
}
this._itemNodesMap={};
if(!this.cookieName&&this.id){
this.cookieName=this.id+"SaveStateCookie";
}
this._loadDeferred=new _fad();
this.inherited(arguments);
},postCreate:function(){
this._initState();
if(!this.model){
this._store2model();
}
this.connect(this.model,"onChange","_onItemChange");
this.connect(this.model,"onChildrenChange","_onItemChildrenChange");
this.connect(this.model,"onDelete","_onItemDelete");
this.inherited(arguments);
if(this.dndController){
if(lang.isString(this.dndController)){
this.dndController=lang.getObject(this.dndController);
}
var _fdf={};
for(var i=0;i<this.dndParams.length;i++){
if(this[this.dndParams[i]]){
_fdf[this.dndParams[i]]=this[this.dndParams[i]];
}
}
this.dndController=new this.dndController(this,_fdf);
}
this._load();
},_store2model:function(){
this._v10Compat=true;
_fb4.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");
var _fe0={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};
if(this.params.mayHaveChildren){
_fe0.mayHaveChildren=lang.hitch(this,"mayHaveChildren");
}
if(this.params.getItemChildren){
_fe0.getChildren=lang.hitch(this,function(item,_fe1,_fe2){
this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_fe1,_fe2);
});
}
this.model=new _fc1(_fe0);
this.showRoot=Boolean(this.label);
},onLoad:function(){
},_load:function(){
this.model.getRoot(lang.hitch(this,function(item){
var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),textDir:this.textDir,indent:this.showRoot?0:-1}));
if(!this.showRoot){
rn.rowNode.style.display="none";
this.domNode.setAttribute("role","presentation");
this.domNode.removeAttribute("aria-expanded");
this.domNode.removeAttribute("aria-multiselectable");
rn.labelNode.setAttribute("role","presentation");
rn.containerNode.setAttribute("role","tree");
rn.containerNode.setAttribute("aria-expanded","true");
rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);
}else{
this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);
}
this.domNode.appendChild(rn.domNode);
var _fe3=this.model.getIdentity(item);
if(this._itemNodesMap[_fe3]){
this._itemNodesMap[_fe3].push(rn);
}else{
this._itemNodesMap[_fe3]=[rn];
}
rn._updateLayout();
this._expandNode(rn).addCallback(lang.hitch(this,function(){
this._loadDeferred.callback(true);
this.onLoad();
}));
}),function(err){
console.error(this,": error loading root: ",err);
});
},getNodesByItem:function(item){
if(!item){
return [];
}
var _fe4=lang.isString(item)?item:this.model.getIdentity(item);
return [].concat(this._itemNodesMap[_fe4]);
},_setSelectedItemAttr:function(item){
this.set("selectedItems",[item]);
},_setSelectedItemsAttr:function(_fe5){
var tree=this;
this._loadDeferred.addCallback(lang.hitch(this,function(){
var _fe6=_fa9.map(_fe5,function(item){
return (!item||lang.isString(item))?item:tree.model.getIdentity(item);
});
var _fe7=[];
_fa9.forEach(_fe6,function(id){
_fe7=_fe7.concat(tree._itemNodesMap[id]||[]);
});
this.set("selectedNodes",_fe7);
}));
},_setPathAttr:function(path){
if(path.length){
return this.set("paths",[path]);
}else{
return this.set("paths",[]);
}
},_setPathsAttr:function(_fe8){
var tree=this;
return new _fae(_fa9.map(_fe8,function(path){
var d=new _fad();
path=_fa9.map(path,function(item){
return lang.isString(item)?item:tree.model.getIdentity(item);
});
if(path.length){
tree._loadDeferred.addCallback(function(){
_fe9(path,[tree.rootNode],d);
});
}else{
d.errback("Empty path");
}
return d;
})).addCallback(_fea);
function _fe9(path,_feb,def){
var _fec=path.shift();
var _fed=_fa9.filter(_feb,function(node){
return node.getIdentity()==_fec;
})[0];
if(!!_fed){
if(path.length){
tree._expandNode(_fed).addCallback(function(){
_fe9(path,_fed.getChildren(),def);
});
}else{
def.callback(_fed);
}
}else{
def.errback("Could not expand path at "+_fec);
}
};
function _fea(_fee){
tree.set("selectedNodes",_fa9.map(_fa9.filter(_fee,function(x){
return x[0];
}),function(x){
return x[1];
}));
};
},_setSelectedNodeAttr:function(node){
this.set("selectedNodes",[node]);
},_setSelectedNodesAttr:function(_fef){
this._loadDeferred.addCallback(lang.hitch(this,function(){
this.dndController.setSelection(_fef);
}));
},mayHaveChildren:function(){
},getItemChildren:function(){
},getLabel:function(item){
return this.model.getLabel(item);
},getIconClass:function(item,_ff0){
return (!item||this.model.mayHaveChildren(item))?(_ff0?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";
},getLabelClass:function(){
},getRowClass:function(){
},getIconStyle:function(){
},getLabelStyle:function(){
},getRowStyle:function(){
},getTooltip:function(){
return "";
},_onKeyPress:function(e){
if(e.altKey){
return;
}
var _ff1=_fb7.getEnclosingWidget(e.target);
if(!_ff1){
return;
}
var key=e.charOrCode;
if(typeof key=="string"&&key!=" "){
if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){
this._onLetterKeyNav({node:_ff1,key:key.toLowerCase()});
_fb2.stop(e);
}
}else{
if(this._curSearch){
clearTimeout(this._curSearch.timer);
delete this._curSearch;
}
var map=this._keyHandlerMap;
if(!map){
map={};
map[keys.ENTER]="_onEnterKey";
map[keys.SPACE]=map[" "]="_onEnterKey";
map[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]="_onLeftArrow";
map[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]="_onRightArrow";
map[keys.UP_ARROW]="_onUpArrow";
map[keys.DOWN_ARROW]="_onDownArrow";
map[keys.HOME]="_onHomeKey";
map[keys.END]="_onEndKey";
this._keyHandlerMap=map;
}
if(this._keyHandlerMap[key]){
this[this._keyHandlerMap[key]]({node:_ff1,item:_ff1.item,evt:e});
_fb2.stop(e);
}
}
},_onEnterKey:function(_ff2){
this._publish("execute",{item:_ff2.item,node:_ff2.node});
this.dndController.userSelect(_ff2.node,_faa.isCopyKey(_ff2.evt),_ff2.evt.shiftKey);
this.onClick(_ff2.item,_ff2.node,_ff2.evt);
},_onDownArrow:function(_ff3){
var node=this._getNextNode(_ff3.node);
if(node&&node.isTreeNode){
this.focusNode(node);
}
},_onUpArrow:function(_ff4){
var node=_ff4.node;
var _ff5=node.getPreviousSibling();
if(_ff5){
node=_ff5;
while(node.isExpandable&&node.isExpanded&&node.hasChildren()){
var _ff6=node.getChildren();
node=_ff6[_ff6.length-1];
}
}else{
var _ff7=node.getParent();
if(!(!this.showRoot&&_ff7===this.rootNode)){
node=_ff7;
}
}
if(node&&node.isTreeNode){
this.focusNode(node);
}
},_onRightArrow:function(_ff8){
var node=_ff8.node;
if(node.isExpandable&&!node.isExpanded){
this._expandNode(node);
}else{
if(node.hasChildren()){
node=node.getChildren()[0];
if(node&&node.isTreeNode){
this.focusNode(node);
}
}
}
},_onLeftArrow:function(_ff9){
var node=_ff9.node;
if(node.isExpandable&&node.isExpanded){
this._collapseNode(node);
}else{
var _ffa=node.getParent();
if(_ffa&&_ffa.isTreeNode&&!(!this.showRoot&&_ffa===this.rootNode)){
this.focusNode(_ffa);
}
}
},_onHomeKey:function(){
var node=this._getRootOrFirstNode();
if(node){
this.focusNode(node);
}
},_onEndKey:function(){
var node=this.rootNode;
while(node.isExpanded){
var c=node.getChildren();
node=c[c.length-1];
}
if(node&&node.isTreeNode){
this.focusNode(node);
}
},multiCharSearchDuration:250,_onLetterKeyNav:function(_ffb){
var cs=this._curSearch;
if(cs){
cs.pattern=cs.pattern+_ffb.key;
clearTimeout(cs.timer);
}else{
cs=this._curSearch={pattern:_ffb.key,startNode:_ffb.node};
}
var self=this;
cs.timer=setTimeout(function(){
delete self._curSearch;
},this.multiCharSearchDuration);
var node=cs.startNode;
do{
node=this._getNextNode(node);
if(!node){
node=this._getRootOrFirstNode();
}
}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));
if(node&&node.isTreeNode){
if(node!==cs.startNode){
this.focusNode(node);
}
}
},isExpandoNode:function(node,_ffc){
return dom.isDescendant(node,_ffc.expandoNode);
},_onClick:function(_ffd,e){
var _ffe=e.target,_fff=this.isExpandoNode(_ffe,_ffd);
if((this.openOnClick&&_ffd.isExpandable)||_fff){
if(_ffd.isExpandable){
this._onExpandoClick({node:_ffd});
}
}else{
this._publish("execute",{item:_ffd.item,node:_ffd,evt:e});
this.onClick(_ffd.item,_ffd,e);
this.focusNode(_ffd);
}
_fb2.stop(e);
},_onDblClick:function(_1000,e){
var _1001=e.target,_1002=(_1001==_1000.expandoNode||_1001==_1000.expandoNodeText);
if((this.openOnDblClick&&_1000.isExpandable)||_1002){
if(_1000.isExpandable){
this._onExpandoClick({node:_1000});
}
}else{
this._publish("execute",{item:_1000.item,node:_1000,evt:e});
this.onDblClick(_1000.item,_1000,e);
this.focusNode(_1000);
}
_fb2.stop(e);
},_onExpandoClick:function(_1003){
var node=_1003.node;
this.focusNode(node);
if(node.isExpanded){
this._collapseNode(node);
}else{
this._expandNode(node);
}
},onClick:function(){
},onDblClick:function(){
},onOpen:function(){
},onClose:function(){
},_getNextNode:function(node){
if(node.isExpandable&&node.isExpanded&&node.hasChildren()){
return node.getChildren()[0];
}else{
while(node&&node.isTreeNode){
var _1004=node.getNextSibling();
if(_1004){
return _1004;
}
node=node.getParent();
}
return null;
}
},_getRootOrFirstNode:function(){
return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];
},_collapseNode:function(node){
if(node._expandNodeDeferred){
delete node._expandNodeDeferred;
}
if(node.isExpandable){
if(node.state=="LOADING"){
return;
}
node.collapse();
this.onClose(node.item,node);
this._state(node,false);
}
},_expandNode:function(node,_1005){
if(node._expandNodeDeferred&&!_1005){
return node._expandNodeDeferred;
}
var model=this.model,item=node.item,_1006=this;
switch(node.state){
case "UNCHECKED":
node.markProcessing();
var def=(node._expandNodeDeferred=new _fad());
model.getChildren(item,function(items){
node.unmarkProcessing();
var scid=node.setChildItems(items);
var ed=_1006._expandNode(node,true);
scid.addCallback(function(){
ed.addCallback(function(){
def.callback();
});
});
},function(err){
console.error(_1006,": error loading root children: ",err);
});
break;
default:
def=(node._expandNodeDeferred=node.expand());
this.onOpen(node.item,node);
this._state(node,true);
}
return def;
},focusNode:function(node){
_fb6.focus(node.labelNode);
},_onNodeFocus:function(node){
if(node&&node!=this.lastFocused){
if(this.lastFocused&&!this.lastFocused._destroyed){
this.lastFocused.setFocusable(false);
}
node.setFocusable(true);
this.lastFocused=node;
}
},_onNodeMouseEnter:function(){
},_onNodeMouseLeave:function(){
},_onItemChange:function(item){
var model=this.model,_1007=model.getIdentity(item),nodes=this._itemNodesMap[_1007];
if(nodes){
var label=this.getLabel(item),_1008=this.getTooltip(item);
_fa9.forEach(nodes,function(node){
node.set({item:item,label:label,tooltip:_1008});
node._updateItemClasses(item);
});
}
},_onItemChildrenChange:function(_1009,_100a){
var model=this.model,_100b=model.getIdentity(_1009),_100c=this._itemNodesMap[_100b];
if(_100c){
_fa9.forEach(_100c,function(_100d){
_100d.setChildItems(_100a);
});
}
},_onItemDelete:function(item){
var model=this.model,_100e=model.getIdentity(item),nodes=this._itemNodesMap[_100e];
if(nodes){
_fa9.forEach(nodes,function(node){
this.dndController.removeTreeNode(node);
var _100f=node.getParent();
if(_100f){
_100f.removeChild(node);
}
node.destroyRecursive();
},this);
delete this._itemNodesMap[_100e];
}
},_initState:function(){
this._openedNodes={};
if(this.persist&&this.cookieName){
var oreo=_fab(this.cookieName);
if(oreo){
_fa9.forEach(oreo.split(","),function(item){
this._openedNodes[item]=true;
},this);
}
}
},_state:function(node,_1010){
if(!this.persist){
return false;
}
var path=_fa9.map(node.getTreePath(),function(item){
return this.model.getIdentity(item);
},this).join("/");
if(arguments.length===1){
return this._openedNodes[path];
}else{
if(_1010){
this._openedNodes[path]=true;
}else{
delete this._openedNodes[path];
}
var ary=[];
for(var id in this._openedNodes){
ary.push(id);
}
_fab(this.cookieName,ary.join(","),{expires:365});
}
},destroy:function(){
if(this._curSearch){
clearTimeout(this._curSearch.timer);
delete this._curSearch;
}
if(this.rootNode){
this.rootNode.destroyRecursive();
}
if(this.dndController&&!lang.isString(this.dndController)){
this.dndController.destroy();
}
this.rootNode=null;
this.inherited(arguments);
},destroyRecursive:function(){
this.destroy();
},resize:function(_1011){
if(_1011){
_fb0.setMarginBox(this.domNode,_1011);
}
this._nodePixelIndent=_fb0.position(this.tree.indentDetector).w;
if(this.tree.rootNode){
this.tree.rootNode.set("indent",this.showRoot?0:-1);
}
},_createTreeNode:function(args){
return new _fc3(args);
},_setTextDirAttr:function(_1012){
if(_1012&&this.textDir!=_1012){
this._set("textDir",_1012);
this.rootNode.set("textDir",_1012);
}
}});
Tree._TreeNode=_fc3;
return Tree;
});
},"dijit/form/_FormValueWidget":function(){
define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/_base/sniff","./_FormWidget","./_FormValueMixin"],function(_1013,has,_1014,_1015){
return _1013("dijit.form._FormValueWidget",[_1014,_1015],{_layoutHackIE7:function(){
if(has("ie")==7){
var _1016=this.domNode;
var _1017=_1016.parentNode;
var _1018=_1016.firstChild||_1016;
var _1019=_1018.style.filter;
var _101a=this;
while(_1017&&_1017.clientHeight==0){
(function ping(){
var _101b=_101a.connect(_1017,"onscroll",function(){
_101a.disconnect(_101b);
_1018.style.filter=(new Date()).getMilliseconds();
setTimeout(function(){
_1018.style.filter=_1019;
},0);
});
})();
_1017=_1017.parentNode;
}
}
}});
});
},"curam/util/TabActionsMenu":function(){
define("curam/util/TabActionsMenu",["curam/tab","curam/debug","curam/define","curam/util","curam/util/Refresh","curam/util/ResourceBundle"],function(){
dojo.requireLocalization("curam.application","Debug");
var _101c=new curam.util.ResourceBundle("Debug");
curam.define.singleton("curam.util.TabActionsMenu",{_tabMenuStates:{},getRefreshParams:function(_101d){
curam.debug.log("curam.util.TabActionsMenu.getRefreshParams(%s)",_101d);
if(!curam.util.TabActionsMenu.dynamicMenuBarData[_101d]){
curam.debug.log(_101c.getProperty("curam.util.TabActionsMenu.no.dynamic"));
return null;
}
var _101e="menuId="+curam.util.TabActionsMenu.dynamicMenuBarData[_101d].menuBarId;
_101e+="&menuItemIds="+curam.util.toCommaSeparatedList(curam.util.TabActionsMenu.dynamicMenuBarData[_101d].dynamicMenuItemIds);
_101e+="&menuLoaders="+curam.util.toCommaSeparatedList(curam.util.TabActionsMenu.dynamicMenuBarData[_101d].dynamicMenuLoaders);
_101e+="&menuPageParameters="+curam.util.TabActionsMenu.dynamicMenuBarData[_101d].pageParameters;
return _101e;
},updateMenuItemStates:function(_101f,data){
var _1020=data.menuData;
var _1021=function(){
for(var i=0;i<_1020.itemStates.length;i++){
curam.util.TabActionsMenu.updateMenuItemState(_1020.itemStates[i],_101f);
}
};
if(curam.util.TabActionsMenu._isMenuCreated(_101f)){
_1021();
}else{
var _1022=curam.util.getTopmostWindow();
var _1023=_1022.dojo.subscribe("/curam/menu/created",this,function(tabId){
curam.debug.log("Received /curam/menu/created "+_101c.getProperty("curam.util.ExpandableLists.load.for"),tabId);
if(tabId==_101f){
curam.debug.log(_101c.getProperty("curam.util.TabActionsMenu.match"));
curam.util.TabActionsMenu._tabMenuStates[tabId]=true;
_1021();
_1022.dojo.unsubscribe(_1023);
}
});
curam.tab.unsubscribeOnTabClose(_1023,_101f);
}
},_isMenuCreated:function(tabId){
return curam.util.TabActionsMenu._tabMenuStates[tabId]==true;
},updateMenuItemState:function(_1024,_1025){
var _1026=dijit.byId("menuItem_"+_1025+"_"+_1024.id);
if(_1026!=null){
_1026.disabled=!_1024.enabled;
curam.util.swapState(_1026.domNode,_1024.enabled,"enabled","disabled");
curam.util.swapState(_1026.domNode,_1024.visible,"visible","hidden");
if(_1026.disabled){
_1026.domNode.setAttribute("aria-disabled","true");
}
}
},setupHandlers:function(_1027){
curam.util.Refresh.setMenuBarCallbacks(curam.util.TabActionsMenu.updateMenuItemStates,curam.util.TabActionsMenu.getRefreshParams);
var _1028=function(){
var _1029=function(_102a,_102b){
return curam.util.Refresh.refreshMenuAndNavigation(_102b,true,true,true);
};
var _102c=curam.tab.getHandlerForTab(_1029,_1027);
var _102d=curam.util.getTopmostWindow();
var _102e=_102d.dojo.subscribe("curam.tabOpened",null,function(_102f,_1030){
_102c(_102f,_1030);
_102d.dojo.unsubscribe(_102e);
});
};
curam.util.TabActionsMenu.dynamicMenuBarData[_1027].registerTabOpenHandler=_1028;
curam.util.TabActionsMenu.dynamicMenuBarData[_1027].registerTabOpenHandler();
curam.tab.executeOnTabClose(function(){
curam.util.TabActionsMenu.dynamicMenuBarData[_1027].registerTabOpenHandler=null;
delete curam.util.TabActionsMenu.dynamicMenuBarData[_1027];
},_1027);
},handleOnClick:function(url,_1031){
if(_1031){
curam.tab.getTabController().handleDownLoadClick(url);
}else{
curam.tab.getTabController().handleLinkClick(url);
}
},handleOnClickModal:function(url,_1032){
var _1033={dialogOptions:_1032};
curam.tab.getTabController().handleLinkClick(url,_1033);
}});
return curam.util.TabActionsMenu;
});
},"url:curam/widget/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode\" data-dojo-attach-event='onclick:onClick' class='dijitTab'>\r\n    <div role=\"presentation\" class='dijitTabInnerDiv' data-dojo-attach-point='innerDiv'>\r\n        <div role=\"presentation\" class='dijitTabContent' data-dojo-attach-point='tabContent'>\r\n          <div role=\"presentation\" aria-labelledby='${id}_tabLabel'>\r\n            <img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode' />\r\n            <span data-dojo-attach-point='containerNode,focusNode' class='tabLabel' id='${id}_tabLabel'></span>\r\n            <span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\r\n                data-dojo-attach-event='onclick: onClickCloseButton' role=\"presentation\">\r\n                <span data-dojo-attach-point='closeText' class='dijitTabCloseText'>Close Tab</span\r\n            ></span>\r\n      </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","*now":function(r){
r(["dojo/i18n!*preload*dojo/nls/cdej*[\"en-us\",\"en-gb\",\"ROOT\"]"]);
}}});
define("dojo/cdej",[],1);
