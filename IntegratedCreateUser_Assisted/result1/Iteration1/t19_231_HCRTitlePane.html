/*
 * Licensed Materials - Property of IBM
 * 
 * Copyright IBM Corporation 2012. All Rights Reserved.
 *
 * US Government Users Restricted Rights - Use, duplication or disclosure 
 * restricted by GSA ADP Schedule Contract with IBM Corp.
 */
dojo.provide("hcr.HCRTitlePane");

dojo.require("dojo.NodeList-traverse");
dojo.require("dojo.fx.easing");

dojo.declare("HCRTitlePane", null, {

    swap:function(nodeA, nodeB) {
		    
		    if(dojo.style(nodeA, 'display') === 'none') {
			    nodeA.style.display = "";
			    nodeB.style.display = "none";
			} else {
			    nodeA.style.display = "none";
			    nodeB.style.display = "";
			}
			
		},
		
		slidePanel:function(panel) {
			
			var hidden = dojo.style(panel, 'display') === 'none';
			
			if(hidden){
				dojo.fx.wipeIn({node:panel, duration:300, easing: dojo.fx.easing.linear}).play();
			} else {
				dojo.fx.wipeOut({node:panel, duration:300, easing: dojo.fx.easing.linear}).play();
			}
		},
		slide:function(node) {
			
			var titlePane = dojo.query(node).parents(".hcrTitlePaneQuery").first()[0];
			var showDiv = dojo.query(".hcrTitlePaneShowDiv", titlePane)[0];
			var hideDiv = dojo.query(".hcrTitlePaneHideDiv", titlePane)[0];
			
			this.swap(showDiv, hideDiv);
			
			dojo.forEach(
			    dojo.query(".hcrTitlePaneDisplayPanel", titlePane), 
			    this.slidePanel);
		}
}); 
