








<script type="text/javascript">
  // Disable frame hijacking
  if (top != self)
     top.location.href = location.href;
</script>





<HTML>
    <HEAD>
    <TITLE>Single Sign-Off</TITLE>
    
<!-- AppInternalsXpert BMX Integration Begin -->
<script>

if(!OPNET_ARXS){

   var OPNET_ARXS={startJS:Number(new Date()),

   clientId:'B533CC015E2D826E',appId:100045,

   collector:'opnetbm.dchealthlink.com',

   collectorHttpPort:8100, collectorHttpsPort:8900,

   sv:'0302',

   ajax:true,

   ajaxResponseTime:true};

   (function(){

      var w=window,l=w.addEventListener,m=w.attachEvent,

      d=document,s='script',t='load',o=OPNET_ARXS,

      r=(('https:'===d.location.protocol)?

      'https://opnetbm.dchealthlink.com:8900':

      'http://opnetbm.dchealthlink.com:8100')+

      '/opnet_browsermetrix.c.'+

      (o.ajax?'ajax.js':'js'),p=('onpagehide' in w),e=p?'pageshow':t,

      j=d.createElement(s),x=d.getElementsByTagName(s)[0],

      h=function(y){o.ldJS=new Date();o.per=y?y.persisted:null;},

      i=function(){o.ld=1;};o.cookie=d.cookie;d.cookie=

      '_op_aixPageId=0; path=/; expires='+(new Date(0)).toGMTString();

      o.cookieAfterDelete=d.cookie;j.async=1;j.src=r;

      if(l){l(e,h,false);if(p){l(t,i,false);}}else if(m)

      {m('on'+e,h);if(p){m('on'+t,i);}}

      if(o.sync){d.write('<'+s+' src=\''+r+'\'></'+s+'>');}

      else{x.parentNode.insertBefore(j,x);}

   })();}

</script>
<script>if(!OPNET_ARXS_PARAM){var OPNET_ARXS_PARAM={};} OPNET_ARXS_PARAM.pageId = 'a2_f4526c66-147f-43a2-9c61-1189bea2940f';</script>             
<!-- AppInternalsXpert BMX Integration End -->
<SCRIPT TYPE="text/javascript">

    // Stores how many servers we need to sign out of
    var appCount = 2;

    // counter for how many servers replied (signed out / errored out)
    var logoutAttemptedAppCount = 0;

    // if true, one or more servers did not sign out successfully
    var errorOccurred = false;

    // A logout image loaded successfully
    function imageLoadedHandler() {
        logoutAttemptedAppCount++;
        // mozilla seems to have trouble when redirection is too fast
        if (logoutAttemptedAppCount >= appCount) {
            setTimeout(doRedirect, 2000);
        }
    }

    // When an image cannot be loaded, note the error
    function imageErrorHandler() {
        logoutAttemptedAppCount++;
        errorOccurred = true;
        // mozilla seems to have trouble when redirection is too fast
        if (logoutAttemptedAppCount >= appCount)
        {
            setTimeout(doRedirect, 2000);
        }
    }

    // Redirect back to login page (or generic error page)
    function doRedirect() {
        if(errorOccurred) {
            //Cuurently ignoring error..@TODO handle this
			//alert('LOGOUT_ERROR');
        } 
        document.RedirectForm.submit();
    }
    </SCRIPT>
    </HEAD>
    <BODY>

        <FORM NAME="RedirectForm" METHOD="GET" ACTION="https://webpp.dchealthlink.com/fed/user/logout">

            <INPUT TYPE="HIDDEN" NAME="returnurl" VALUE="https://preprod.dchealthlink.com?end_url" />

        </FORM>

        
        <CENTER>
            <BR/>
            <IMG src="/oam/pages/images/wait.gif" border="0" ALT=""/>
            <BR/>

                        <img border=0 width=0 height=0 src="https://webpp.dchealthlink.com/oam_logout_success" alt ="" 
                            onload="imageLoadedHandler()" onerror="imageErrorHandler()"/>

                        <img border=0 width=0 height=0 src="null/oam_logout_success" alt ="" 
                            onload="imageLoadedHandler()" onerror="imageErrorHandler()"/>
            
        </CENTER>
    </BODY>
</HTML>

